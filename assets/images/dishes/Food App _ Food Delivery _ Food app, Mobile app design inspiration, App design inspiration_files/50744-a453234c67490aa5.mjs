(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[50744],{951671:(e,t,o)=>{o.d(t,{U:()=>n,Z:()=>a});var i=o(883119),r=o(785893);const n=", ",a=()=>(0,r.jsx)(i.xu,{display:"visuallyHidden",children:n})},482547:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),r=o(785893);function n({ariaHidden:e=!1,size:t}){return(0,r.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,r.jsx)(i.xv,{inline:!0,size:null!=t?t:"md",children:"Â·"})})}},855283:(e,t,o)=>{o.d(t,{Z:()=>f});var i=o(40142),r=o(968807),n=o(500953),a=o(174523),s=o(375943),l=o(619418),d=o(530794),c=o(534435),u=o(24309),p=o(181307),h=o(796821),m=o(739472),_=o(641483),v=o(883119),b=o(785893);const g=({children:e,pulsar:t,testId:o})=>t.show?(0,b.jsx)(v.xu,{position:"relative","data-test-id":o,children:(0,b.jsxs)(r.Z,{pressState:"none",onTouch:t.onClick,children:[(0,b.jsx)(v.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(v.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(v.o3,{})})]})}):(0,b.jsx)(v.xu,{"data-test-id":o,children:e});function f({auxData:e,disabled:t,disableLog:o,followEventType:r,id:f,inline:y,invertColors:w,isFollowed:x,isIdeaPin:S,isLegoEnabled:P,isSecondaryButton:I,isUserFollowButton:C,isUserMe:T,onFollow:R,onUnfollow:j,shouldShowAddRemoveText:E,shouldUseLegoColors:U,showPulsar:Z,size:L,unfollowEventType:k,viewParameter:O,viewType:D}){const A=(0,a.ZP)(),N=(0,h.HG)(),M=(0,i.useDispatch)(),{showToast:B}=(0,m.V6)(),F=(0,l.Z)(),H=(0,p.tc)("mweb_post_follow_toast"),$=(0,s.Z)(),{isAuthenticated:z,unauthFollowUserId:G}=(0,i.useSelector)((({session:e})=>e));(0,n.Z)((()=>{!N&&z&&G&&f&&G===f&&R(f)}));const W=$({fn:()=>{if(z)if(x)j(f),o||(0,u.j)({event_type:k,view_type:D,view_parameter:O,object_id_str:f,aux_data:e});else{R(f);const t=H().anyEnabled;if(C&&t){const e=(0,b.jsx)(v.xv,{children:A._("Following! Their created Pins will show up in your home feed!","followButton.follow.informationalToastText","Text explaining that a creator's Pins will show up in home feed after follow")});B({duration:5e3,text:e,toastFormat:"userFollowingToast",userId:f})}o||(0,u.j)({event_type:r,view_type:D,view_parameter:O,object_id_str:f,aux_data:e})}else(0,_.ZP)(`mweb_unauth_follow_button.tap.${String(D)}`),5===D&&26===r&&(0,_.ZP)("mweb_unauth_board_page_follow_button.tap"),(0,_.NC)(x?"press_profile_unfollow":"press_profile_follow"),(0,_.LW)({action:"click",page:"profile",item:"board-follow-button"}),F({mobileOptions:{attributionLabel:S?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",isDismissible:!!S}}),N||M((0,c.ix)(null!=f?f:"")),(0,_.NC)("clickthrough")},modalHeader:(0,d.N4)({i18n:A,toFollow:!x})}),X=!x&&!!Z;return(0,b.jsx)(g,{pulsar:X?{show:!0,onClick:W}:{show:!1},testId:T||x?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(v.zx,{color:U||E||!P&&I||x?"gray":"red",disabled:T||t,fullWidth:y,onClick:X?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),o||(0,u.j)({event_type:101,component:13672,element:11951,object_id_str:f,view_type:D,view_parameter:O,aux_data:e}),W()},selected:w?!x:U&&x||!!x&&I,size:L,text:T?A._("That's you!","Follow button is disabled because this is you","Follow button is disabled because this is you"):E?x?A._("Add","followButton.addText",'Follow button label - unfollowed state, so user can click to "add" the follow'):A._("Remove","unfollowButton.removeText",'Follow button label - followed state, so user can click to "remove" the follow'):x?A._("Following","Follow button label - followed state","Follow button label - followed state"):A._("Follow","Follow button label - unfollowed state","Follow button label - unfollowed state")})})}},632405:(e,t,o)=>{o.d(t,{s:()=>g,Z:()=>f});var i=o(667294),r=o(482547),n=o(855283),a=o(436992),s=o(658726),l=o(174523),d=o(302199),c=o(946753),u=o(24309),p=o(641483),h=o(181307),m=o(951671),_=o(74897),v=o(883119),b=o(785893);const g=34;function f({archivedDate:e,canEdit:t,collaborators:o,collaboratorsAmount:f=0,containerBackgroundColor:y,followedByMe:w,fullSizeDrawer:x,sensitivityScreen:S,hideMeta:P,id:I,imagesLego:C=[],isAuthenticated:T,isCollaborative:R,isCollaborator:j,isOwner:E,isSecret:U,lastModifiedDate:Z,locale:L,name:k,numCols:O,onFollow:D,onUnfollow:A,owner:N,pinCount:M=0,sectionCount:B,showFollowButton:F,viewParameter:H,viewType:$,viewerId:z}){const G=(0,l.ZP)(),W=(0,s.Z)(),X=(0,d.Z)(),q=C.map((e=>({url:e.url,name:k}))),K=new v.Ry(1),Q=!!N&&!t&&F,V=(0,h.tc)("mweb_board_sensitivity_screen"),Y=!E&&!j&&V().anyEnabled,J=!(null==S||!S.show_warning)&&Y,ee={board_id:I,reason:null==S?void 0:S.reason};(0,i.useEffect)((()=>{J&&(0,u.j)({event_type:13,component:13861,view_type:215,aux_data:ee})}),[]);const te=N?N.id:void 0,oe=[...o.filter((({id:e})=>e===te)),...o.filter((({id:e})=>e===z&&e!==te)),...o.filter((({id:e})=>![te,z].includes(e)))].map((e=>{var t,o;return{name:null!==(t=e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(o=e.image_medium_url)&&void 0!==o?o:""}}));let ie=f>=oe.length?f-oe.length:0;ie=ie>99?100:ie;const re=[...oe,...Array(ie).fill({name:"",src:""})],ne=16/3*(2*(oe.length>2?3:oe.length)+1);return(0,b.jsxs)(v.xu,{"data-test-id":`boardCard-${k}`,height:Q?220:"100%",position:"relative",width:"100%",children:[U&&(0,b.jsx)(v.xu,{left:!0,margin:2,position:"absolute",top:!0,zIndex:K,children:(0,b.jsx)(a.Z,{backgroundColor:"white",iconColor:"darkGray",size:24})}),(0,b.jsx)(_.Z,{containerBackgroundColor:y,images:q,fullSize:x,showSensitivityScreen:J}),!P&&(0,b.jsxs)(v.xu,{height:g,marginTop:1,paddingX:2,children:[(0,b.jsxs)(v.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsx)(v.xv,{lineClamp:1,weight:"bold",children:k}),R&&(0,b.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ne,minWidth:ne,height:16,children:(0,b.jsx)(v.HE,{accessibilityLabel:m.U+G._("Board has collaborators","BoardCard.AvatarGroup.Collaborators","Board description: title, number of pins, date, and it has collaborators or not."),collaborators:re})})]}),(0,b.jsx)(v.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:(0,b.jsxs)(v.xv,{size:"sm",lineClamp:1,children:[(0,b.jsx)(m.Z,{}),(0,c.nk)(G.ngettext("{{ count }} Pin","{{ count }} Pins",M,"profile.ProfilePage.board.BoardCard.PinsCount","label for n amount of pins"),{count:X(L,M,{})}),!!B&&(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(r.Z,{ariaHidden:!0}),(0,b.jsx)(m.Z,{}),(0,c.nk)(G.ngettext("{{ count }} section","{{ count }} sections",B,"profile.ProfilePage.board.BoardCard.PinsCount","label for n amount of sections"),{count:B})]}),!e&&(0,b.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{display:"inline",paddingLeft:7}},children:(0,b.jsxs)(v.xv,{color:"gray",inline:!0,size:"sm",lineClamp:1,children:[(0,b.jsx)(m.Z,{}),W(Z,!0)]})})]})}),!!e&&(0,b.jsxs)(v.xu,{marginTop:1,children:[(0,b.jsx)(m.Z,{}),(0,b.jsx)(v.xv,{color:"gray",size:"sm",lineClamp:1,children:G._("Archived","profile.ProfilePage.board.BoardCard.ArchivedBoardText","subtitle for archived boards on profile page")})]}),Q&&(0,b.jsx)(v.xu,{marginTop:2===O?3:void 0,column:2===O?12:void 0,flex:"none",children:(0,b.jsx)(n.Z,{disabled:null==N?void 0:N.blocked_by_me,followEventType:26,id:I,isFollowed:w,onFollow:e=>{T||(0,p.NC)("press_follow_board"),D&&D(e)},onUnfollow:e=>{T||(0,p.NC)("press_unfollow_board"),A&&A(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:H,viewType:$})})]})]})}},214583:(e,t,o)=>{o.d(t,{ZP:()=>v});var i=o(40142),r=o(632405),n=o(553431),a=o(883119),s=o(250766),l=o(641483),d=o(583260),c=o(785893);const u=["thumbnail","imageOnly"],p=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),h=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),m=e=>{if(!e)return()=>!0;const t=p(e);return e=>{var o;return"string"==typeof e?p(e)!==t:p(null!==(o=e.url)&&void 0!==o?o:"")!==t}},_=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(m(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(m(t)).map(h):[];function v({boardId:e,containerBackgroundColor:t,forwardedRef:o,fullSize:m,showFollowButton:v=!0,showOwner:b,showOwnerAvatar:g,showPinCount:f=!0,type:y,viewParameter:w,viewType:x}){var S,P,I;const C=(0,i.useSelector)((e=>e)),T=(0,i.useDispatch)(),R=C.boards[e],{session:j,users:E}=C,{isAuthenticated:U,locale:Z,userId:L}=j;if(!R)return null;const k=(0,s.ET)(C,R),O=E[R.owner],D=O.id===L,A=k.filter((({id:e})=>e===L)).length>0;if("secret"===R.privacy&&!A)return null;const N="grid"===y||"thumbnail"===y?2:4,M=((e,t)=>{const o=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!o)return"";const i=e.cover_images?e.cover_images["400x300"]?e.cover_images["400x300"].url:e.cover_images["222x"]?e.cover_images["222x"].url:e.cover_images["216x146"]?e.cover_images["216x146"].url:"":"",r=e.image_cover_url||"";return o||(t>2&&i?i:"")||r})(R,N),B=_(R,M),F=_(R,M).map((({url:e})=>({name:p(e),url:e}))),H=(0,c.jsx)(r.Z,{archivedDate:null!==(S=R.archived_by_me_at)&&void 0!==S?S:void 0,canEdit:!!R.access&&R.access.includes("write"),collaborators:k,collaboratorsAmount:R.collaborator_count,containerBackgroundColor:t,coverPhoto:M?h(M):null,followedByMe:R.followed_by_me,fullSizeDrawer:m,hideMeta:u.includes(y),id:R.id,images:B,imagesLego:F,isAuthenticated:U,isCollaborative:R.is_collaborative,isCollaborator:A,isOwner:D,isSecret:"secret"===R.privacy,lastModifiedDate:"full"===y?R.board_order_modified_at:"",locale:Z,name:null!==(P=R.name)&&void 0!==P?P:"",numCols:N,onFollow:e=>T((0,d.ZN)(e)),onUnfollow:e=>T((0,d.fv)(e)),owner:O,pinCount:f&&R.pin_count?R.pin_count:void 0,sectionCount:null!==(I=R.section_count)&&void 0!==I?I:0,sensitivityScreen:R.sensitivity_screen,showFollowButton:v,showOwner:b,showOwnerAvatar:g,viewParameter:w,viewType:x,viewerId:L});return!u.includes(y)&&R.url?(0,c.jsx)(n.Z,{to:R.url,rounding:2,pressState:["compress","background"],inline:!1,onTouch:()=>{U||((0,l.NC)("click_go_to_board"),(0,l.LW)({action:"click",page:"profile",item:"board-card"}))},children:(0,c.jsx)(a.xu,{ref:o,paddingY:3,children:H})}):H}},74897:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(174523),r=o(883119),n=o(785893);const a="100%";function s(e){var t;const o=(0,i.ZP)(),{containerBackgroundColor:s="white",fullSize:l,images:d,showSensitivityScreen:c}=e,u=d[0],p=Array(2).fill(),h=c?{filter:"blur(20px)"}:{};return(0,n.jsx)(r.zd,{height:l?"100%":void 0,rounding:4,width:"100%",children:(0,n.jsxs)(r.xu,{"aria-hidden":!0,display:"flex",direction:"row",children:[(0,n.jsx)(r.sg,{span:8,children:(0,n.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:h},position:"relative",height:l?"100%":void 0,children:(0,n.jsx)(r.xu,{color:"lightGray",dangerouslySetInlineStyle:{__style:{paddingBottom:a}},overflow:"hidden",width:"100%",children:(0,n.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderColor:s,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:(0,n.jsx)(r.Ee,{alt:u?u.name:"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(t=null==u?void 0:u.url)&&void 0!==t?t:""})})})})}),(0,n.jsx)(r.sg,{span:4,children:(0,n.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:h},children:p.map(((e,t)=>{var o;const i=d[t+1];return(0,n.jsx)(r.xu,{position:"relative",height:l?"50%":void 0,children:(0,n.jsx)(r.xu,{color:"lightGray",dangerouslySetInlineStyle:{__style:{paddingBottom:a}},overflow:"hidden",width:"100%",children:(0,n.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderColor:s,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:(0,n.jsx)(r.Ee,{alt:i?i.name:"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(o=null==i?void 0:i.url)&&void 0!==o?o:""})})})},t)}))})}),c&&(0,n.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,n.jsx)(r.X6,{align:"center",color:"white",size:"sm",children:o._("This board may contain sensitive content","drawerImageGroup.sensitivityScreen.heading","Warning text for a board that may have sensitive content")})})]})})}},436992:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(174523),r=o(883119),n=o(785893);function a({backgroundColor:e="darkGray",iconColor:t="white",iconSize:o,size:a=20}){const s=(0,i.ZP)();return(0,n.jsx)(r.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:a,height:a,rounding:"circle",justifyContent:"center",children:(0,n.jsx)(r.JO,{accessibilityLabel:s._("Secret board icon","Icon indicating that a board is secret","Icon indicating that a board is secret"),color:t,icon:"lock",size:null!=o?o:a/2})})}},530794:(e,t,o)=>{o.d(t,{lt:()=>r,OG:()=>n,DF:()=>a,gv:()=>s,F4:()=>l,Bx:()=>d,Qj:()=>c,oM:()=>u,wI:()=>p,N4:()=>h,is:()=>m,jP:()=>_});var i=o(221469);const r=e=>e._("Log in to continue","limitedLogin.modalHeader.default","Default title on mobile web limited login modal"),n=e=>e.pathname,a=e=>{var t;return null!==(t=null==e?void 0:e._("You'll need to log in to do that","limitedLogin.modalHeader.completeAction","Mobile web limited login modal to prompt users to log in in order to complete current action"))&&void 0!==t?t:"You'll need to log in to do that"},s=({firstName:e,i18n:t})=>e?t._("{{ name }} invited you to join their board","limitedLogin.modalHeader.groupBoardCollab","Mobile Modal prompting users to join a friends({{ name }}) board").replace("{{ name }}",e):t._("Your friends invited you to join their board","limitedLogin.modalHeader.groupBoardCollab","Mobile Modal prompting users to join a friends board"),l=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),o=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${o}`:`${e}?${o}`}return e.pathname},d=e=>e._("Log in to save this Pin","limitedLogin.modalHeader.repin","Title on mobile web limited login modal to prompt users to login after they clicked save button."),c=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e._("Log in to edit this Pin","limitedLogin.modalHeader.editPin","Title on mobile web limited login modal to prompt users to login after they clicked edit button."),p=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},h=({i18n:e,toFollow:t})=>t?e._("Log in to follow","limitedLogin.modalHeader.follow","Title on mobile web limited login modal to prompt users to login to follow a user or board."):e._("Log in to unfollow","limitedLogin.modalHeader.unfollow","Title on mobile web limited login modal to prompt users to login to unfollow a user or board."),m=e=>e._("Log in to create a Pin or board","limitedLogin.modalHeader.create","Title on mobile web limited login modal to prompt users to login to create a Pin or board."),_=e=>e._("Log in to hide this Pin","limitedLogin.modalHeader.hidePin","Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.")},375943:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(40142),r=o(174523),n=o(530794),a=o(273298),s=o(534435);const l=()=>{const e=(0,r.ZP)(),t=(0,i.useDispatch)();return(0,i.useSelector)((({session:e,users:t})=>(0,a.xT)(t[e.userId])))?({modalHeader:o,nextLocation:i})=>r=>{let a=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?a=r:r.event&&(a=r.event)),a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),o||(o=(0,n.DF)(e)),t(i?(0,s.$x)(o,i):(0,s.$x)(o))}:({fn:e})=>e}},388675:(e,t,o)=>{o.d(t,{YW:()=>h,s8:()=>m});var i=o(214583),r=o(349856),n=o(613888),a=o(174523),s=o(883119),l=o(785893);const d=()=>(0,a.ZP)()._("Sweet save!","Header text on toast that appears after user creates their first board","Header text on toast that appears after user creates their first board"),c=()=>(0,a.ZP)()._("All your boards live on your profile","Subheader text on toast that appears after user creates their first board","Subheader text on toast that appears after user creates their first board"),u=(e,t)=>({duration:5e3,thumbnail:(0,l.jsx)(s.xu,{"data-test-id":"pin-save-toast",children:"pin"===e?(0,l.jsx)(r.Z,{borderRadius:4,id:t}):(0,l.jsx)(i.ZP,{boardId:t,type:"thumbnail"})}),toastFormat:"encouragement"}),p=e=>({duration:5e3,thumbnail:(0,l.jsx)(s.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,l.jsx)(n.Z,{boardId:e})}),toastFormat:"encouragement"}),h=({boardId:e,isFBC:t,isTop:o,originalToasts:i,pinId:r})=>{const n={...u(r?"pin":"board",null!=r?r:e),...t?{text:[(0,l.jsx)(d,{},"0"),(0,l.jsx)(c,{},"1")]}:Object.freeze({}),top:o?28:void 0};return[{...i[0],...n}]},m=({boardId:e,originalToast:t,isLegoSaveStyle:o,isTop:i})=>{const{text:r}=t,n=Array.isArray(r)?r.join(" "):r;return{...t,text:n,...o?p(e):u("board",e),top:i?28:void 0,isRepinToExistingBoard:!0}}},349856:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(40142),r=o(642891),n=o(883119),a=o(785893);const s=(0,i.connect)((({pins:e},{id:t})=>({pin:t?e[t]:null})),(()=>({})))((({pin:e})=>{let t=0;if(e&&e.videos&&e.videos.video_list){const o=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};t=o&&o.duration?o.duration:0}return 0===t?null:(0,a.jsx)(n.xu,{color:"white",paddingX:2,paddingY:1,position:"fixed",rounding:"pill",opacity:.8,children:(0,a.jsx)(n.xv,{size:"sm",inline:!0,weight:"bold",children:(0,r.ut)(t)})})})),l=(0,i.connect)((({pins:e},t)=>({pin:e[t.id]})))((({borderRadius:e,bottomLeftRadius:t,bottomRightRadius:o,containerHeight:i,fit:r,hasMask:l,maskRounding:d,id:c,paddingBottom:u,pin:p,showVideoDuration:h,topLeftRadius:m,topRightRadius:_})=>{var v,b,g;if(!p)return null;const f=p.images&&(p.images.orig||p.images["736x"]||p.images["290x"]||p.images["236x"]),y=(0,a.jsx)(n.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderTopRightRadius:_||e,borderTopLeftRadius:m||e,borderBottomRightRadius:o||e,borderBottomLeftRadius:t||e}},overflow:"hidden",children:(0,a.jsx)(n.Ee,{alt:p.description||"",src:null!==(v=null==f?void 0:f.url)&&void 0!==v?v:"",fit:null!=r?r:"cover",naturalHeight:null!==(b=null==f?void 0:f.height)&&void 0!==b?b:1,naturalWidth:null!==(g=null==f?void 0:f.width)&&void 0!==g?g:1,color:p.dominant_color||"#767676",children:h&&(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:10,marginTop:10}},children:(0,a.jsx)(s,{id:c})})})});return l?(0,a.jsx)(n.zd,{wash:!0,height:null!=i?i:"100%",width:"100%",rounding:d,children:(0,a.jsx)(n.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:u||"150%"}},children:y})}):y}))},679506:(e,t,o)=>{o.d(t,{A:()=>i});const i=e=>{const t=e.rich_metadata;return t?t.products?144:t.article?141:t.recipe?145:139:140}},739472:(e,t,o)=>{o.d(t,{sS:()=>r,HS:()=>n,V6:()=>a});var i=o(762803);const{Provider:r,Consumer:n,useHook:a}=(0,i._D)("toastContext")},613888:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(40142),r=o(883119),n=o(785893);function a({boardId:e}){const t=(0,i.useSelector)((({boards:t})=>{const o=t[e];return o.images&&o.images["170x"]?o.images["170x"][0]:void 0}));return e&&t?(0,n.jsx)(r.Ee,{alt:t.name?t.name:"placeholder",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:t.url}):null}},884272:(e,t,o)=>{function i(e,t){return e||(t&&t.tracking_params?`${t.tracking_params}~0`:"~0")}o.d(t,{Z:()=>i})},703765:(e,t,o)=>{o.d(t,{IK:()=>m,Xn:()=>_,XE:()=>v,an:()=>b});var i=o(85038),r=o(221469);const n="BING",a="GOOGLE",s="YAHOO",l="YANDEX",d="RAKUTEN",c="NAVER",u="AMP_CACHE",p="DUCKDUCKGO",h=[a,n,s,l,d,c,u,p];function m(e){const{hostname:t}=(0,r.Qc)(e,!0);if(t&&e){if(t.includes("google.")||function(e){return e.includes("android-app://com.google.android.googlequicksearchbox")}(e))return a;if(t.includes("bing."))return n;if(t.includes("yahoo."))return s;if(t.includes("yandex."))return l;if(t.includes("rakuten."))return d;if(t.includes("naver."))return c;if(t.includes("duckduckgo."))return p;if(t.includes(".cdn.ampproject.org"))return u}return""}function _(e){return h.includes(m(e))}function v(e){return((0,r.Qc)(e).hostname||"").includes(".cdn.ampproject.org")}function b(e){return e||i.U2("_pinterest_referrer")||"undefined"!=typeof document&&document.referrer||""}},796821:(e,t,o)=>{o.d(t,{ml:()=>n,Wb:()=>a,HG:()=>s,ZP:()=>l});var i=o(40142);const r=()=>{const e=(0,i.useSelector)((({session:e})=>e.isTablet)),t=(0,i.useSelector)((({session:e})=>e.isMobile));return e?"tablet":t?"phone":"desktop"},n=()=>"phone"===r(),a=()=>"tablet"===r(),s=()=>"desktop"===r(),l=r},619418:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(650401),r=o(158961);const n=()=>{const e=(0,r.g)(),t=(0,i.lv)();return({mobileOptions:o,desktopOptions:i})=>{if(e)e.showSignupModal("signup",i);else if(t){const{attributionLabel:e,isDismissible:i,headingType:r}=o;t.dispatch({type:"SHOW_MOBILE_SIGNUP_MODAL",attributionLabel:e,displayProps:{isDismissible:null==i||i,headingType:r},now:Date.now()})}}}},650401:(e,t,o)=>{o.d(t,{ZP:()=>I,lv:()=>P});var i=o(667294),r=o(40142),n=o(731164),a=o(24309),s=o(641483),l=o(703765),d=o(382745);const c=e=>{if(e){if((0,d.uM)(e))return{name:"pin",viewType:3};if((0,d.am)(e))return{name:"board",viewType:5};if((0,d.cD)(e))return{name:"profile",viewType:215}}return null},u=(e,t)=>e?t<=10?t.toString():t<=20?"[11,20]":t<=50?"[21,50]":t<=100?"[51,100]":"101+":null,p=(e,t,o)=>{var i;const r=t.isSignupModalShown,d=o.isSignupModalShown,p=!r&&d,h="DISMISS_MOBILE_SIGNUP_MODAL"===e.type&&r&&!d,m=c("UPSELL_SIGNUP_MODAL"===e.type&&"navigation"===e.attributionLabel&&e.newLocation||window.location),{isDismissible:_}=o.displayProps,{unauthID:v,referrer:b}=o.sessionContext;if(n.Z.incrementNow("mobile_signup_modal.action_completed",1,{"action.type":e.type,"displayProps.isDismissible":_,"state.isSignupModalShown":o.isSignupModalShown,oldPage:null===(i=c("UPSELL_SIGNUP_MODAL"===e.type&&"navigation"===e.attributionLabel&&e.newLocation||null))||void 0===i?void 0:i.name,page:null==m?void 0:m.name,referrer:(0,l.IK)(b),isSearchReferred:(0,l.Xn)(b),timesShownForSessionCount:u(p,o.timesShownForSessionCount),wasShown:p,wasDismissed:h,attributionLabel:e.attributionLabel||null}),p){(0,a.j)({event_type:13,element:_?12403:12402,component:13858,view_type:(null==m?void 0:m.viewType)||void 0,aux_data:{unauth_id:v}});const t=_?"dismissible":"blocking";if(e.attributionLabel){const o=e.attributionLabel.replace(/\./g,"_");(0,s.NC)(`show_${t}_mobile_signup_modal_${e.type}_${o}`)}else(0,s.NC)(`show_${t}_mobile_signup_modal_${e.type}`)}else h&&((0,a.j)({event_type:123,component:13858,view_type:(null==m?void 0:m.viewType)||void 0,aux_data:{unauth_id:v}}),(0,s.NC)("dismiss_mobile_signup_modal"))};var h=o(589265),m=o(903945);const _="signupModal";var v=o(652382),b=o(785893);const g=Object.freeze({isDismissible:!1,isScrollingModal:!1}),f=Object.freeze(["CO","ID"]),y=({country:e,referrer:t})=>{switch(e){case"CO":case"ID":return!0;case"US":case"CA":case"GB":case"IE":case"AU":case"NZ":case"DE":case"FR":case"CH":return(0,l.Xn)(t);default:return!1}},w=({modalHasShown:e,sessionContext:{country:t,isUnauthSharingModalsShown:o}})=>o||e&&(e=>f.includes(e))(t)||(0,h.P)()||!!(0,d.dh)()&&((0,v.qn)("msmrsfiiab")||(n.Z.increment("mobile_signup_modal.rules.suppress_for_instagram_in_app_browser"),(0,v.Nh)("msmrsfiiab","1")),!0),x=(e,t)=>{const o=((e,t)=>{switch(t.type){case"UPDATE_PRIORITY_OVER_NATIVE_APP_UPSELL":return{...e,prioritizeOverNativeAppUpsellTime:t.now};case"START_DISMISSIBLE_MODAL_EXPERIENCE":return{...e,dismissibleModalExperienceStartTime:t.now};case"INCREMENT_UPSELL_ELIGIBLE_NAVIGATION_COUNT":return{...e,upsellEligibleNavigationCount:e.upsellEligibleNavigationCount+1};case"DISMISS_MOBILE_SIGNUP_MODAL":return{...e,isSignupModalShown:!1,displayProps:g};case"UPDATE_SESSION_CONTEXT":return{...e,sessionContext:t.sessionContext};case"RESTORE_FROM_LOCAL_STORAGE":{const{prioritizeOverNativeAppUpsellTime:o,dismissibleModalExperienceStartTime:i,upsellEligibleNavigationCount:r}=t;return{...e,prioritizeOverNativeAppUpsellTime:o,dismissibleModalExperienceStartTime:i,upsellEligibleNavigationCount:null!=r?r:e.upsellEligibleNavigationCount}}case"SHOW_MOBILE_SIGNUP_MODAL":case"UPSELL_SIGNUP_MODAL":const o="UPSELL_SIGNUP_MODAL"===t.type&&"scrollOnSharedPinPage"===t.attributionLabel;return{...e,isSignupModalShown:!0,lastShownTime:t.now,timesShownForSessionCount:e.timesShownForSessionCount+1,scrollControllerHasDisplayed:e.scrollControllerHasDisplayed||o,displayProps:{...g,..."UPSELL_SIGNUP_MODAL"===t.type?{isScrollingModal:o}:t.displayProps,isDismissible:("UPSELL_SIGNUP_MODAL"===t.type?o:t.displayProps.isDismissible)||y(e.sessionContext)||!!e.dismissibleModalExperienceStartTime&&t.now-e.dismissibleModalExperienceStartTime<=864e5}};default:return e}})(e,t);return"DISMISS_MOBILE_SIGNUP_MODAL"!==t.type&&"SHOW_MOBILE_SIGNUP_MODAL"!==t.type&&"UPSELL_SIGNUP_MODAL"!==t.type||p(t,e,o),o},S=(0,i.createContext)(null),P=()=>(0,i.useContext)(S);function I({children:e}){const{country:t,referrer:o,isUnauthSharingModalsShown:n,unauthId:a}=(0,r.useSelector)((({session:e})=>e)),s=(0,l.an)(o),[d,c]=(0,i.useReducer)(x,{isSignupModalShown:!1,prioritizeOverNativeAppUpsellTime:null,scrollControllerHasDisplayed:!1,upsellEligibleNavigationCount:0,lastShownTime:null,dismissibleModalExperienceStartTime:null,timesShownForSessionCount:0,displayProps:g,sessionContext:{country:t,isUnauthSharingModalsShown:n,referrer:s,unauthID:a}});(0,i.useEffect)((()=>{c({type:"UPDATE_SESSION_CONTEXT",sessionContext:{country:t,isUnauthSharingModalsShown:n,referrer:s,unauthID:a}})}),[t,n,s,a]);const u=(0,i.useRef)(!1);(0,i.useEffect)((()=>{if(!u.current){u.current=!0;const e=(()=>{const e=(0,m.qn)(_);if(!e)return null;try{const{version:t,data:o}=JSON.parse(e);return{version:t,state:o}}catch(t){return null}})(),t=e&&"v1"===e.version?e.state:null;if(t){const{prioritizeOverNativeAppUpsellTime:e,dismissibleModalExperienceStartTime:o,upsellEligibleNavigationCount:i}=t;c({type:"RESTORE_FROM_LOCAL_STORAGE",prioritizeOverNativeAppUpsellTime:e,dismissibleModalExperienceStartTime:o,upsellEligibleNavigationCount:i})}}}),[]);const{prioritizeOverNativeAppUpsellTime:p,dismissibleModalExperienceStartTime:h,scrollControllerHasDisplayed:v,upsellEligibleNavigationCount:f}=d;return(0,i.useEffect)((()=>{u.current&&((e,t)=>{const o={version:t,data:e},i=JSON.stringify(o);(0,m.Nh)(_,i)})({prioritizeOverNativeAppUpsellTime:p,dismissibleModalExperienceStartTime:h,upsellEligibleNavigationCount:f},"v1")}),[p,h,f]),(0,b.jsx)(S.Provider,{value:{isSignupModalShown:d.isSignupModalShown,displayProps:d.displayProps,dispatch:c,upsellIsEnabledGlobally:()=>!d.isSignupModalShown&&!w({sessionContext:d.sessionContext,modalHasShown:!!d.lastShownTime}),prioritizeOverNativeAppUpsellTime:p,scrollControllerHasDisplayed:v,upsellEligibleNavigationCount:f},children:e})}},589265:(e,t,o)=>{o.d(t,{P:()=>s,C:()=>l});var i=o(731164),r=o(382745),n=o(652382);const a="msmrsfda",s=()=>!!(0,n.qn)(a),l=e=>{(0,r.LM)(e)&&!s()&&((0,n.Nh)(a,"1"),i.Z.incrementNow("mobile_signup_modal.rules.suppress_for_discover_article",1))}},583260:(e,t,o)=>{o.d(t,{of:()=>p,SD:()=>v,Xi:()=>b,xR:()=>g,$z:()=>f,OA:()=>y,YQ:()=>w,ZN:()=>x,fv:()=>S,g:()=>I,dK:()=>C,Vq:()=>T,L1:()=>R,aX:()=>j,xk:()=>E,YV:()=>U,KQ:()=>Z});var i=o(731164),r=o(311866),n=o(502709),a=o(204852),s=o(590307),l=o(782677),d=o(561613),c=o(442975);const u=(e,t)=>({type:d.Bc,payload:{id:e,value:t}}),p=e=>({type:d.XV,payload:{boardId:e}}),h=(e,t)=>({type:d.Aj,payload:{boardId:e,value:t}}),m=(e,t,o,i)=>({type:d.wc,payload:{boardId:e,userIds:t,viewingUser:o,status:i}}),_=(e,t)=>({type:d.Wn,payload:{...t,id:e}}),v=(e,t)=>o=>(o(((e,t)=>({type:d.Tl,payload:{boardId:e,userId:t}}))(e,t)),r.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate()),b=(e,t,o=!1)=>i=>(i(((e,t,o)=>({type:d.AZ,payload:{boardId:e,userId:t,isRequestToJoin:o}}))(e,t,o)),r.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate()),g=(e,t)=>o=>(o(((e,t)=>({type:d.CD,payload:{boardId:e,userId:t}}))(e,t)),r.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),f=(e,t,o)=>i=>(i(m(e,t,o,"new")),r.ZP.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()),y=(e,t)=>()=>r.ZP.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate(),w=(e,t,o,i)=>n=>{const a="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return n(((e,t,o)=>({type:d.Fi,payload:{boardId:e,userId:t,viewingUser:o}}))(e,o,i)),r.ZP.create(a,{board_id:e,field_set_key:"boardEdit",invited_user_id:o}).callDelete().catch((()=>n(m(e,[o],i,t))))},x=e=>t=>{r.ZP.create("BoardFollowResource",{board_id:e}).callCreate().catch((()=>t(u(e,!1)))),t(u(e,!0))},S=e=>t=>{r.ZP.create("BoardFollowResource",{board_id:e}).callDelete().catch((()=>t(u(e,!0)))),t(u(e,!1))};function P(e,t){return r.ZP.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:t})}const I=e=>(t,o)=>{const{session:{userId:i}}=o();P(e,i).callCreate().catch((()=>{t(h(e,!1))})),t(h(e,!0))},C=e=>(t,o)=>{const{session:{userId:i}}=o();P(e,i).callDelete({showError:!1}).catch((()=>{t(h(e,!0))})),t(h(e,!1))},T=(e,t)=>(o,i)=>{const{boards:a}=i(),s=a[e];return o(_(e,t)),r.ZP.create("BoardResource",{...t,board_id:e}).callUpdate().then((t=>{const i=(0,l.Fv)(t.resource_response.data,n.Z.BoardResource);return o(_(e,i.entities.boards[e])),t})).catch((t=>{throw s&&o(_(e,s)),t}))},R=(e,t,o,i)=>n=>{const a=r.ZP.create("BoardResource",{board_id:o}).callDelete();return n(((e,t,o,i)=>({type:d.OC,payload:{viewingUserId:e,viewingUsername:t,boardId:o,boardPinCount:i}}))(e,t,o,i)),a},j=(e,t,o,i)=>(d,u)=>{const p=u(),{userId:h}=p.session,m="BoardResource",_={name:e,privacy:t,return_existing:!1,initial_pins:o?[o]:[],user_id:h,initial_pin_client_tracking_params:i?[i]:[]};return r.ZP.create(m,_).callCreate().then((e=>{const t=(0,l.Fv)(e.resource_response.data,n.Z.BoardResource);d((0,c.XM)(m,_,e,t)),d((0,s.fO)({event_type:20})),d((0,c.bi)("UserResource",{options:{user_id:h,field_set_key:"save_behavior"}}));const o=`profile-boards:${e.resource_response.data.owner.username}`;return u().feeds[o]&&d((0,a.Qv)(o,[{id:e.resource_response.data.id,type:"board"}],{isPrepend:!0})),e}))},E=(e,t)=>o=>r.ZP.create("BoardArchiveResource",{boardId:e}).callUpdate().then((i=>{var r,n;return o((0,a.Qv)("archived-boards",[{id:e,type:"board"}])),o((r=e,n=t,{type:d.VP,payload:{boardId:r,username:n}})),i})),U=(e,t)=>o=>r.ZP.create("BoardArchiveResource",{boardId:e}).callDelete().then((i=>{var r;return o((0,a.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),o((r=e,{type:d.s1,payload:{boardId:r}})),i})),Z=(e,t)=>o=>r.ZP.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((r=>{if(!r||!r.resource_response)return{};const n=r.resource_response.data||{},a=(n.model||{}).custom_properties||{},{campaign_id:s="unknown"}=a,l=n.display_data||{},c=!!n.display_data,u=l.header_image_mobile,p=l.header_background_color,h=l.text_icon_color,m={boardId:e,isSocialSeasonalBoard:c,socialHeaderBgImage:u,socialHeaderBgColor:p,textIconColor:h};return i.Z.increment(`mweb.seasonal_board.${s}.${t}.land`),o((e=>({type:d.o3,payload:e}))(m))}))},590307:(e,t,o)=>{o.d(t,{fO:()=>c,NW:()=>u,pz:()=>p,UT:()=>m,CK:()=>_,Qu:()=>v,qI:()=>b,d9:()=>g,kd:()=>f,YX:()=>y,Tl:()=>x,CF:()=>S,dy:()=>P,$t:()=>C,oo:()=>T,$B:()=>R});var i=o(40142),r=o(311866),n=o(915140),a=o(534435),s=o(561613);const l=(e,t,o)=>({type:s.iY,payload:{placementId:e,experienceId:t,status:o}}),d=(e,t,o)=>({type:s.V$,payload:{placementId:e,experienceId:t,status:o}}),c=e=>t=>r.ZP.create("UserExperiencePlatformResource",{extra_context:e}).callGet().then((e=>{return e.resource_response?t((o=e.resource_response.data,{type:s._4,payload:{experiences:o}})):void 0;var o})),u=e=>t=>r.ZP.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((o=e.resource_response.data,{type:s.$S,payload:{experiencesMulti:o}})):void 0;var o})),p=(e,t)=>(o,i)=>{const{isSeoBot:n}=i().session;return n?Promise.resolve():r.ZP.create("UserExperienceResource",{placement_ids:e,extra_context:t||null}).callGet().then((e=>{return e.resource_response?o((t=e.resource_response.data,{type:s.mR,payload:{experiences:t}})):void 0;var t}))},h=(e,t)=>(o,i,n,s=!1)=>(u,p)=>{const{experiences:h,experiencesMulti:m}=p();let _=null,v=!0;if(s||(v=h[o]&&h[o].experience_id===i,_=v?h[o]:m[o].find((e=>e.experience_id===i))),_&&_.experience_id===i||s&&o&&i){const s=r.ZP.create(e,{placed_experience_id:`${o}%3A${i}`,extra_context:{}}),p=v?l:d;switch(t){case"dismissed":return s.callDelete().then((()=>{1000143===o&&u((0,a.XV)()),u(p(o,i,t)),u(c())}));case"completed":return s.callUpdate().then((()=>{1000143===o&&u((0,a.XV)()),n||(u(p(o,i,t)),u(c()))}));case"viewed":return u(p(o,i,t)),s.callUpdate().then((()=>{1000162===o&&u(c())}));case"completedWithoutHomefeed":return s.callUpdate().then((()=>{1000143===o&&u((0,a.XV)()),n||u(p(o,i,t))}));default:return Promise.resolve()}}return Promise.resolve()},m=h("UserExperienceViewedResource","viewed"),_=h("UserExperienceCompletedResource","completed"),v=h("UserExperienceResource","dismissed"),b=e=>{const t=(0,i.useDispatch)();return{complete:()=>t(_(e.placement_id,e.experience_id)),dismiss:()=>t(v(e.placement_id,e.experience_id))}},g=h("UserExperienceCompletedResource","completedWithoutHomefeed"),f=e=>(t,o)=>{const{experiences:i}=o(),n=i[e];n&&n.triggerable_placed_exps&&n.triggerable_placed_exps.length&&n.triggerable_placed_exps.forEach((e=>{const[,t]=e.split(":"),o=n.metadata&&n.metadata[t]?n.metadata[t]:null;r.ZP.create("UserExperienceTriggerResource",{placed_experience_id:e.replace(":","%3A"),extra_context:o}).callUpdate()}))},y=e=>(t,o)=>{t(f(e));const{experiences:i}=o();return i[e]},w=(e,t)=>(o,i)=>n=>{if(o&&o.id){const a=r.ZP.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":a.callDelete().then((()=>{n(c())}));break;case"completed":a.callUpdate().then((()=>{i||n(c())}));break;case"viewed":a.callUpdate()}}},x=w("UserExperienceCompletedResource","completed"),S=w("UserExperienceResource","dismissed"),P=w("UserExperienceViewedResource","viewed"),I=(e,t,o)=>({interests:e.join(","),log_data:JSON.stringify(t),referrer:"nux",redo_homefeed:o}),C=(e,t,o)=>i=>{const a=I(e,t,o);return r.ZP.create("OrientationContextResource",a).callCreate().then((()=>e.forEach((e=>i((0,n.hr)(e,!0))))))},T=(e,t)=>o=>{const i=e.map((e=>e.id)),a=e.map((e=>e.log_data||null)),s=I(i,a,t);return r.ZP.create("OrientationContextResource",s).callCreate().then((()=>i.forEach((e=>o((0,n.hr)(e,!0))))))},R=e=>t=>new Promise(((t,o)=>{const i=r.ZP.create("OrientationContextStatusResource",{redo_homefeed:e});let n=!1;const a=()=>n?t():n=!0;setTimeout(a,2e3);const s=e=>i.callGet().then((()=>a()),(()=>3===e?t():setTimeout((()=>s(e+1)),500)));s(0)}))},204852:(e,t,o)=>{o.d(t,{Qv:()=>r});o(311866);var i=o(561613);const r=(e,t,o=Object.freeze({}))=>({type:i.MU,payload:{id:e,options:o,items:t}})},650744:(e,t,o)=>{o.d(t,{DX:()=>U,iX:()=>M,q$:()=>D,lr:()=>A,ES:()=>k,Bp:()=>R,wh:()=>j,Zf:()=>O,NA:()=>L,t_:()=>N,Mr:()=>T,fH:()=>Z});var i=o(667294),r=o(214583),n=o(174523),a=o(388675),s=o(785893);const l=()=>(0,n.ZP)()._("Sweet save!","quickSave.toast.success.header","Header text on toast that appears after quick save a pin to board"),d=()=>(0,n.ZP)()._("All your boards live on your profile","quickSave.toast.success.subheader2","Subheader text on toast that appears after quick save a pin to board"),c=({board:e,pinId:t,username:o})=>(0,a.YW)({boardId:e.id,isFBC:!1,originalToasts:[{text:(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(l,{}),(0,s.jsx)(d,{})]}),href:`/${o}`}],pinId:t});var u=o(884272),p=o(311866),h=o(502709),m=o(613888),_=o(590307),v=o(679506),b=o(946753),g=o(24309),f=o(883119),y=o(442975),w=o(782677);const x=({board:e,section:t})=>{const o=(0,n.ZP)();return t?(0,b.nk)(o._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board","Toast for successfully saving to a section within a board"),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(f.xv,{color:"darkGray",children:o._("Saved to","Saved to {{ boardName }}","Saved to {{ boardName }}")}),(0,s.jsx)(f.xv,{color:"darkGray",weight:"bold",children:e.name})]})};class S{constructor({boardId:e,dispatch:t,history:o,isLegoSaveStyle:i=!1,isOneTapSave:r=!1,isQuickSave:n=!1,onSuccess:a,onUndo:s,pin:l,resourceName:d,section:c,showRepinToasts:p,trackingParams:m,userId:_,viewType:b=3}){var g,f,y,x,S;S=e=>(0,w.Fv)(e.resource_response.data,h.Z[this.resourceName]),(x="_getNormalizedResponse")in(y=this)?Object.defineProperty(y,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):y[x]=S,this.boardId=e,this.trackingParams=m,this.clientTrackingParams=(0,u.Z)(m.clientTrackingParams||"",l),this.dispatch=t,this.history=o,this.onSuccess=a,this.onUndo=s,this.pin=l,this.pinnedToBoardId=m.pinnedToBoardId||(null!==(g=null===(f=l.pinned_to_board)||void 0===f?void 0:f.id)&&void 0!==g?g:""),this.resourceName=d,this.showRepinToasts=p,this.section=c,this.isLegoSaveStyle=i,this.isOneTapSave=r,this.isQuickSave=n,this.userId=_,this.viewType=b,this.viewParameter=r?3173:(0,v.A)(l)}get resourceOptions(){const{link:e,title:t,promoted_is_removable:o,id:i}=this.pin,r=o?{is_removable:!0}:{},{viewType:n,viewParameter:a}=this;return{pin_id:i,board_id:this.boardId,section:this.section&&this.section.id,clientTrackingParams:this.clientTrackingParams,link:null!=e?e:"",title:null!=t?t:"",user_id:this.userId,is_removable:r,view_type:n,view_parameter:a}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.viewParameter,object_id_str:this.pin.id,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId}}}_createRepin(){return p.ZP.create(this.resourceName,this.resourceOptions).callCreate()}_createSuccessToast(e){var t;const o=(0,s.jsx)(f.xu,{"data-test-id":"pin-save-toast",width:54,height:54,children:this.isLegoSaveStyle?(0,s.jsx)(m.Z,{boardId:e.id}):(0,s.jsx)(r.ZP,{boardId:e.id,type:"thumbnail"})});return{text:(0,s.jsx)(x,{board:e,section:this.section}),thumbnail:this.section?void 0:o,href:this.section?`${e.url}${null!==(t=this.section.slug)&&void 0!==t?t:""}`:e.url}}processRepin(){return this._createRepin().then((e=>{this.onSuccess&&this.onSuccess();const t=e.resource_response.data,{board:o,pinner:i}=t;let r=this.isQuickSave?c({board:o,pinId:t.id,username:i.username})[0]:(0,a.s8)({boardId:o.id,isLegoSaveStyle:this.isLegoSaveStyle,originalToast:this._createSuccessToast(o)});this.isQuickSave&&(r={duration:5e3,text:(0,s.jsx)(n.oz,{children:e=>(0,s.jsx)(f.xv,{children:(0,b.nk)(e._("Saved to {{ profile }}","RepinRequest.ProfileSaveToastText","Toast for successfully saving to profile"),{profile:(0,s.jsx)(f.xv,{inline:!0,weight:"bold",children:e._("Profile","RepinRequest.ProfileSaveToastText.Profile","referring to pinner profile where pin was saved")})})})}),thumbnail:(0,s.jsx)(n.oz,{children:e=>(0,s.jsx)(f.xu,{color:"lightGray",display:"flex",justifyContent:"center",alignItems:"center",height:48,width:48,children:(0,s.jsx)(f.JO,{accessibilityLabel:e._("Profile","RepinRequest.ProfileIcon","Icon signifying Pin was saved to profile without a board"),icon:"history",size:22})})}),top:28},r.button=(0,s.jsx)(n.oz,{children:e=>(0,s.jsx)(f.zx,{fullWidth:!0,onClick:({event:e})=>{var i;return e.preventDefault(),e.stopPropagation(),null===(i=this.history)||void 0===i?void 0:i.push(`/pin/${null==t?void 0:t.id}/repin/?isEditingPin=true&pinBoardId=${null==o?void 0:o.id}&&isFromToast=true`)},text:e._("Change","RepinRequest.ChangeButton","Change saved Pin button")})})),this.isLegoSaveStyle&&!this.isQuickSave&&(r.button=(0,s.jsx)(n.oz,{children:e=>(0,s.jsx)(f.zx,{fullWidth:!0,onClick:({event:i})=>{i.preventDefault(),i.stopPropagation();const r=this.onUndo;var n;r&&r(this.pin.id,t.id,o.id,null===(n=this.section)||void 0===n?void 0:n.id,e)},text:e._("Undo","RepinRequest.UndoButton","Undo saved pin button")})}));const l=this._getNormalizedResponse(e);this.dispatch((0,y.XM)(this.resourceName,this.resourceOptions,e,l)),this.dispatch(T(t.id,o.id,this.section?this.section.id:void 0,this.userId));const d=this.showRepinToasts;return d&&d(r),this.dispatch((0,_.fO)({event_type:5})),(0,g.j)(this.trackingData),t}))}}var P=o(204852),I=o(899622),C=o(561613);const T=(e,t,o,i)=>({type:C.$o,payload:{pinId:e,boardId:t,boardSectionId:o,pinnerId:i}}),R=({history:e,i18n:t,onSuccess:o,onUndo:i,pinId:r,trackingParams:n,disableRepinAnimation:a,showRepinConfirmation:s,fromSaveButtonContainer:l,setShowPostSaveConfetti:d,setShowPostSaveConfettiHalfScreen:c,activatePostFirstSaveCelebration:u,pinCount:h})=>(m,_)=>{const{pins:v,session:b}=_(),{userId:g}=b,f=v[r],y={name:t._("Quick Saves","quickSave.boardName","Name of the auto-created board in quicksave experience."),layout:"quick_saves",protected:!1,return_existing:!0,user_id:g},{group:w,anyEnabled:x}=0===h&&u?u():{};return p.ZP.create("BoardResource",y).callCreate().then((r=>{l&&"enabled_fullscreen"===w?d(!0):l&&"enabled_halfscreen"===w&&c(!0),setTimeout((()=>{d(!1),c(!1);const l=r.resource_response.data;return new S({boardId:l.id,dispatch:m,isQuickSave:!0,history:e,i18n:t,onSuccess:o,onUndo:i,pin:f,resourceName:"RepinResource",section:void 0,showRepinToasts:e=>s?s([e],a):void 0,trackingParams:n,userId:b.userId}).processRepin()}),x?3e3:0)}))},j=({pinId:e,boardId:t,i18n:o,onSuccess:i,onUndo:r,showRepinConfirmation:n,showToast:a,section:s,trackingParams:l,isOneTapSave:d,viewType:c})=>(u,p)=>{var h,m,_,v,b;const{pins:g,session:f,feeds:y}=p(),w=g[e];t&&((null===(h=null!==(m=null==w?void 0:w.shopping_flags)&&void 0!==m?m:[])||void 0===h?void 0:h.length)>0||null!=w&&w.rich_summary&&(null===(_=null!==(v=null==w||null===(b=w.rich_summary)||void 0===b?void 0:b.products)&&void 0!==v?v:[])||void 0===_?void 0:_.length)>0)&&(y[`board-shop-saved-preview:${t}`]&&u((0,P.Qv)(`board-shop-saved-preview:${t}`,[w],{isPrepend:!0})),y[`board-shop-saved:${t}`]&&u((0,P.Qv)(`board-shop-saved:${t}`,[w],{isPrepend:!0})));return new S({boardId:t,dispatch:u,i18n:o,isLegoSaveStyle:!0,isOneTapSave:d,onSuccess:i,onUndo:r,pin:w,resourceName:"RepinResource",section:s,showRepinToasts:e=>n?n([e]):a?a(e):void 0,trackingParams:l,userId:f.userId,viewType:c}).processRepin()},E=[],U=e=>(t,o)=>{const{pinId:i}=e,r=o().pins[i];r&&!r.impressed&&(E.push(e),(e=>{e({type:"PIN_IMPRESSIONS",payload:E.slice()}),E.length=0})(t))},Z=(e,t)=>({type:C.KW,payload:{pinId:e,value:t}}),L=(e,t,o)=>({type:C.By,payload:{id:e,value:!0,undoAction:t,undoActionOptions:o}}),k=e=>t=>{const o=p.ZP.create("PinFlagResource",e).callCreate().catch((()=>t(Z(e.pin_id,"error"))));return t(Z(e.pin_id,"reported")),o},O=e=>t=>{const o=p.ZP.create("PinFeedbackResource",e).callUpdate().catch((()=>t(Z(e.pin_id,"error"))));return t(Z(e.pin_id,"hidden")),o},D=(e,t,o)=>(i,r)=>{const n=p.ZP.create("PinResource",{id:e}).callDelete(),{session:{userId:a}}=r();return i(((e,t,o,i)=>({type:C.l_,payload:{pinId:e,boardId:t,boardSectionId:o,userId:i}}))(e,t,o,a)),n},A=e=>t=>{const{boardId:o,pinId:i,description:r,section:n,title:a}=e,s=p.ZP.create("PinResource",{board_id:o,board_section_id:n&&n.id,description:r,id:i,title:a}).callUpdate();return t((e=>({type:C.fz,payload:e}))(e)),s},N=(e,t,o)=>({type:C.YZ,payload:{pinId:e,boardId:t,boardSectionId:o}}),M=e=>t=>{const{method:o,guid:i,image_base64:r,image_url:n}=e;return((e,t)=>new Promise((o=>{e?(0,I.eR)(e).then((e=>{o(e)})):o(t)})))(r,n).then((r=>{const n={...e,method:"button"!==o||i?o:"button_external",image_url:r,image_base64:void 0},a="PinResource";return p.ZP.create(a,n).callCreate().then((e=>{const o=(0,w.Fv)(e.resource_response.data,h.Z.PinResource);t((0,y.XM)(a,n,e,o));const i=e.resource_response.data,{board:{id:r},pinner:{id:s},section:l}=i,d=l&&l.id;return t(T(i.id,r,d,s)),e}))}))}},915140:(e,t,o)=>{o.d(t,{hr:()=>d,ZN:()=>c,fv:()=>u,fm:()=>p,bJ:()=>h,lD:()=>m});var i=o(311866),r=o(502709),n=o(301314),a=o(782677),s=o(561613);function l(e,t){return i.ZP.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const d=(e,t)=>({type:s.K0,payload:{id:e,value:t}}),c=(e,t)=>o=>{l(e,t).callCreate().catch((()=>o(d(e,!1)))),o(d(e,!0))},u=(e,t)=>o=>{l(e,t).callDelete().catch((()=>o(d(e,!0)))),o(d(e,!1))},p=e=>t=>{const o="NuxTopicToCreatorsResource";return i.ZP.create(o,{topicId:e}).callGet().then((i=>{const s=(0,a.Fv)(i.resource_response.data,r.Z[o]);return t((0,n.S)(o,{topicId:e},i,s,!1,void 0)),i.resource_response.data}))},h=e=>t=>{const o=e.reduce(((e,t)=>(e[t.id]=!t.is_followed,e)),{});return i.ZP.create("UpdateFollowedInterestsResource",{updated_interest_follows:o}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:o})=>{t(d(e,!o))}))}))},m=e=>t=>i.ZP.create("UpdateFollowedInterestsResource",{updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((o=>{const i=e[o];t(d(o,i))}))}))},899622:(e,t,o)=>{o.d(t,{Ge:()=>c,h2:()=>u,ZN:()=>p,fv:()=>h,kE:()=>m,_L:()=>b,Q_:()=>g,Cp:()=>f,W6:()=>y,b8:()=>w,Rc:()=>x,Ix:()=>P,eR:()=>I,OF:()=>C});var i=o(311866),r=o(442975),n=o(12516),a=o(561613);const s=(e,t)=>({type:a.T$,payload:{id:e,value:t}}),l=(e,t,o)=>({type:a.On,payload:{id:e,value:t,user:o}}),d=(e,t)=>({type:a.f6,payload:{ids:e,value:t}}),c=e=>t=>(t(s(e,!0)),i.ZP.create("UserBlockResource",{blocked_user_id:e}).callCreate().catch((()=>t(s(e,!1))))),u=e=>t=>(t(s(e,!1)),i.ZP.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(s(e,!0))))),p=(e,t)=>o=>{i.ZP.create("UserFollowResource",{user_id:e}).callCreate().catch((()=>o(l(e,!1,t)))),o(l(e,!0,t))},h=(e,t)=>o=>{i.ZP.create("UserFollowResource",{user_id:e}).callDelete().catch((()=>o(l(e,!0,t)))),o(l(e,!1,t))},m=e=>t=>{e.length>0&&(i.ZP.create("UserFollowMultipleResource",{followeeIds:e}).callUpdate().catch((()=>t(d(e,!1)))),t(d(e,!0)))},_=(e,t,o)=>i=>{i({type:a.E0,payload:{id:e,field:t,value:o}})},v=e=>{const t=e.split(" ");return{first_name:t[0],last_name:t[1]}},b=(e,t,o,n)=>(a,s)=>{const l=s().session.userId,d=s().users[l],c={user_id:l};if("full_name"===e)if(d.is_partner)c.business_name=t;else{const e=v(t);c.first_name=e.first_name,c.last_name=e.last_name||""}else c[e]=t;i.ZP.create("UserSettingsResource",c).callUpdate().then((()=>{if("profile_image_url"===e)a((0,r.bi)("UserResource",{options:c}));else if("full_name"===e)if(d.is_partner)a(_(l,"first_name",t));else{const e=v(t);a(_(l,"first_name",e.first_name)),a(_(l,"last_name",e.last_name))}a(_(l,e,t)),o()}),n)},g=(e,t)=>o=>i.ZP.create("UserStateResource",{state:e,value:t}).callCreate(),f=(e,t,o,r,n)=>()=>{const a={new_password:t,new_password_confirm:o,old_password:e};i.ZP.create("UserPasswordResource",a).callUpdate().then(r,n)},y=(e,t,o,r,n,a)=>s=>{s(_(e,`${t}.${o}`,r));let l={},d="EmailSettingsResource";void 0!==n?(l={section:t,option:o,value:r,od:n.od,user_id:n.user_id},d="UnsubEmailSettingsResource"):l={section:t,option:o,value:r},i.ZP.create(d,l).callUpdate().then(a).catch((()=>s(_(e,`${t}.${o}`,!r))))},w=(e,t)=>(o,r)=>{i.ZP.create("DeactivateAccountResource",{user_id:r().session.userId}).callCreate().then((()=>{e(),(0,n.Dm)()}),t)},x=(e,t)=>(o,r)=>{i.ZP.create("DeleteAccountResource",{user_id:r().session.userId}).callUpdate().then(e,t)};const S=async(e,t,o)=>{var r;const n=await i.ZP.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(r=n.resource_response)&&void 0!==r&&r.data[e]){const i=n.resource_response.data[e],{status:r,signature:a}=i;if("processing"===r||"registered"===r)setTimeout((async()=>{S(e,t,o)}),5e3);else if("succeeded"===r){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(a);t(e)}else o()}else o()},P=(e,t,o,r,n)=>((new FormData).append("img",e),i.ZP.create("VIPResource",{type:t}).callCreate().then((t=>{var i;if(null!==(i=t.resource_response)&&void 0!==i&&i.data){const{upload_id:i,upload_url:a,upload_parameters:s}=t.resource_response.data,l=new XMLHttpRequest;l.open("POST",a,!0),l.onload=()=>{var e;(e=l.status)>=200&&e<400?(o(100),S(i,r,n)):n()},l.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);o(t)};const d=new FormData;for(const e in s)d.append(e,s[e]);d.append("file",e),l.send(d)}}),(()=>{n()}))),I=e=>new Promise(((t,o)=>{var i;"string"==typeof e?e.startsWith("data")&&(i=function(e,t=512){const o=e.split(";"),i=o[0].split(":")[1],r=o[1].split(",")[1],n=atob(r),a=[];for(let s=0;s<n.length;s+=t){const e=n.slice(s,s+t),o=new Array(e.length);for(let t=0;t<e.length;t+=1)o[t]=e.charCodeAt(t);const i=new Uint8Array(o);a.push(i)}return new Blob(a,{type:i})}(e),new Promise(((e,t)=>{P(i,"pinimage",(()=>{}),(t=>{e(t)}),(e=>{t(e)}))}))).then((e=>t(e))):o("Invalid Image")})),C=e=>()=>i.ZP.create("EmailExistsResource",{email:e}).callGet()},158961:(e,t,o)=>{o.d(t,{t:()=>n,g:()=>a});var i=o(667294);const r=(0,i.createContext)(null),n=r.Provider,a=()=>(0,i.useContext)(r)},658726:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(174523),r=o(946753);const n=36e5,a=864e5;function s(){const e=(0,i.ZP)();return function(t,o){const i=new Date(t),s=new Date-i,l=Math.floor(s/6e4),d=Math.floor(s/n),c=Math.floor(s/a),u=Math.floor(s/6048e5),p=Math.floor(s/31536e6),h=e.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",l),m=e.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",d),_=e.ngettext("{{ days }} day ago","{{ days }} days ago",c),v=e.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",u),b=e.ngettext("{{ years }} year ago","{{ years }} years ago",p),g=e.ngettext("{{ minutes }}m","{{ minutes }}m",l,"minutes ago abbreviated","minutes ago abbreviated"),f=e.ngettext("{{ hours }}h","{{ hours }}h",d,"hours ago abbreviated","hours ago abbreviated"),y=e.ngettext("{{ days }}d","{{ days }}d",c,"days ago abbreviated","days ago abbreviated"),w=e.ngettext("{{ weeks }}w","{{ weeks }}w",u,"weeks ago abbreviated","weeks ago abbreviated"),x=e.ngettext("{{ years }}y","{{ years }}y",p,"years ago abbreviated","years ago abbreviated");return p>0?(0,r.nk)(o?x:b,{years:p}).join(""):u>0?(0,r.nk)(o?w:v,{weeks:u}).join(""):c>0?(0,r.nk)(o?y:_,{days:c}).join(""):d>0?(0,r.nk)(o?f:m,{hours:d}).join(""):l>0?(0,r.nk)(o?g:h,{minutes:l}).join(""):e._("Just now")}}},302199:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(174523);const r=(e,t)=>{const o=t||0,i=10**o,r=+(o?e*i:e).toFixed(8),n=Math.floor(r),a=r-n,s=a>.5-1e-8&&a<.5+1e-8?n%2==0?n:n+1:Math.round(r);return o?s/i:s},n=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function a(){const e=(0,i.ZP)();return(t,o,i)=>{let a=0,s=0;const l=i&&i.style||void 0,d=i&&i.shortform||!1,c=i&&i.uplimit||void 0,u=i&&i.currency||void 0,p=!!c&&o>=c,h=c&&p?c:o;if("currency"===l?(a=void 0===i||void 0===i.maximum_fraction_digits?2:i.maximum_fraction_digits,s=void 0===i||void 0===i.minimum_fraction_digits?2:i.minimum_fraction_digits):(a=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,s=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits),d&&h>999&&(a=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,s=0),a<s)return String(h);let m=h,_="";const v=[{"100M":{value:1e8,localeKey:e._("å","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:e._("ä¸","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],b=[{b:{value:1e9,localeKey:e._("B","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:e._("M","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:e._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],g=/^zh|ja|ko/.test(t);if(d&&h>999){const e=g?v:b;for(let t=0;t<e.length;t+=1){const o=Object.keys(e[t])[0],i=e[t][o].value;if(h>=i){m=r(h/i*Math.pow(10,a))/Math.pow(10,a),_=e[t][o].localeKey;break}}}if(null==m)return"";return m.toLocaleString([n(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:o,currency:i})=>{const r={maximumFractionDigits:e,minimumFractionDigits:t};return o?{...r,style:o,..."currency"===o?{currency:i,currencyDisplay:"symbol"}:{}}:r})({maximumFractionDigits:a,minimumFractionDigits:s,currency:u,style:l}))+_+(p?"+":"")}}},946753:(e,t,o)=>{function i(e,t,o){return e.split(o).map((e=>{if(e.match(o)){const o=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,o))return t[o]}return e}))}o.d(t,{nk:()=>n,Wc:()=>a,bF:()=>l});const r=/(\{\{\s*\w+\s*\}\})/g;function n(e,t){return i(e,t,r)}function a(e,t){return i(e,t,r).join("")}const s=/(\{\s*\w+\s*\})/g;function l(e,t){return i(e,t,s)}},500953:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(667294);const r=e=>{(0,i.useEffect)(e,[])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/50744-a453234c67490aa5.mjs.map