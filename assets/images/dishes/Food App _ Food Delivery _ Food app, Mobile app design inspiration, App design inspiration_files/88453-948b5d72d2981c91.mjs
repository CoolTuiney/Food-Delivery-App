(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[88453,64485,40623,66584],{715925:e=>{e.exports="https://s.pinimg.com/webapp/complete-d417088f.mp3"},656727:e=>{e.exports="https://s.pinimg.com/webapp/saveButtonClick-fb5393ea.mp3"},654592:e=>{e.exports="https://s.pinimg.com/webapp/success-0acd4a8d.mp3"},55558:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-ecc1d35a.png"},775846:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-0a8213db.png"},12552:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-e398675a.png"},90238:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-5895bc67.png"},315773:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-c3eda626.png"},188300:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-d867d9a4.png"},896990:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-47fa27f7.png"},551658:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-bf910b39.png"},207883:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-58486090.png"},110126:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-1705acdc.png"},501442:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-1dc864b9.png"},894639:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-60e3683e.png"},13902:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-15535147.png"},642438:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-1099f44a.png"},889456:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-e7a6773b.png"},516327:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-58f3c917.png"},23853:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-5f1515db.png"},421775:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-f061e9b4.png"},33720:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-d7864990.png"},419322:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-7b44a0ea.png"},587636:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-1cf70049.png"},387890:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-112e3f0c.png"},146957:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-7e4486d9.png"},689847:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-2a81803e.png"},444248:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-61ea661d.png"},196234:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-0a53c197.png"},166389:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-3af02ef3.png"},559902:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-ec2d7ab5.png"},127840:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-5787bbf9.png"},73837:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-09999946.png"},655632:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-024c511e.png"},362397:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-d3d7eda9.png"},682175:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-af9e1419.png"},695007:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-488e8cc6.png"},145289:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-e5d12354.png"},841191:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-22831293.png"},959230:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-e764ccf8.png"},48868:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-ca0773fb.png"},681104:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-55483593.png"},775079:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-695433d6.png"},108353:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-62177ec4.png"},695159:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-e55c64e4.png"},529269:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-2916bbea.png"},540188:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-34da9a4a.png"},57359:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-5749beff.png"},459764:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-a57c5839.png"},752821:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-c909bac5.png"},112251:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-8998d852.png"},339429:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-fa38b8b6.png"},582070:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-d31d4a18.png"},903066:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-c4b8da55.png"},935577:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-fd9bd702.png"},405100:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-5685a97f.png"},843182:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-2939b38c.png"},728116:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-188b728d.png"},24570:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-888d9aa1.png"},904761:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-bfa2f8d5.png"},821152:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-0e099997.png"},946614:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-988a46e6.png"},682609:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-1e888ea6.png"},281251:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-c216b517.png"},61837:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-fb5c6e06.png"},685933:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-abdc2e13.png"},30152:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-1bf8e802.png"},444543:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-0b2349f4.png"},878200:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-0ef5b95c.png"},727561:(e,t,n)=>{var i=n(567990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e}},554290:(e,t,n)=>{var i=n(406557);e.exports=function(e){return"function"==typeof e?e:i}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var i=n(513218),o=n(707771),r=n(14841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,d,c,u,p,h,m=0,g=!1,x=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,i=d;return l=d=void 0,m=t,u=e.apply(i,n)}function _(e){return m=e,p=setTimeout(b,t),g?y(e):u}function v(e){var n=e-h;return void 0===h||n>=t||n<0||x&&e-m>=c}function b(){var e=o();if(v(e))return w(e);p=setTimeout(b,function(e){var n=t-(e-h);return x?s(n,c-(e-m)):n}(e))}function w(e){return p=void 0,f&&l?y(e):(l=d=void 0,u)}function S(){var e=o(),n=v(e);if(l=arguments,d=this,h=e,n){if(void 0===p)return _(h);if(x)return clearTimeout(p),p=setTimeout(b,t),y(h)}return void 0===p&&(p=setTimeout(b,t)),u}return t=r(t)||0,i(n)&&(g=!!n.leading,c=(x="maxWait"in n)?a(r(n.maxWait)||0,t):c,f="trailing"in n?!!n.trailing:f),S.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=d=p=void 0},S.flush=function(){return void 0===p?u:w(o())},S}},733448:(e,t,n)=>{var i=n(644239),o=n(637005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==i(e)}},707771:(e,t,n)=>{var i=n(555639);e.exports=function(){return i.Date.now()}},823493:(e,t,n)=>{var i=n(23279),o=n(513218);e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:r,maxWait:t,trailing:a})}},498913:(e,t,n)=>{var i=n(422545),o=n(554290),r=n(640554),a=4294967295,s=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var n=a,l=s(e,a);t=o(t),e-=a;for(var d=i(l,t);++n<e;)t(n);return d}},418601:(e,t,n)=>{var i=n(14841),o=1/0;e.exports=function(e){return e?(e=i(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,t,n)=>{var i=n(418601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},14841:(e,t,n)=>{var i=n(727561),o=n(513218),r=n(733448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):a.test(e)?NaN:+e}},482131:(e,t,n)=>{n.d(t,{kz:()=>_,Y:()=>x,Tx:()=>k,Tb:()=>P});var i,o,r,a,s=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},l=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},d=function(e,t){var n=function n(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},c=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},u=function(e,t,n){var i;return function(o){t.value>=0&&(o||n)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}},p=-1,h=function(){return"hidden"===document.visibilityState?0:1/0},m=function(){d((function(e){var t=e.timeStamp;p=t}),!0)},g=function(){return p<0&&(p=h(),m(),c((function(){setTimeout((function(){p=h(),m()}),0)}))),{get firstHiddenTime(){return p}}},x=function(e,t){var n,i=g(),o=s("FCP"),r=function(e){"first-contentful-paint"===e.name&&(d&&d.disconnect(),e.startTime<i.firstHiddenTime&&(o.value=e.startTime,o.entries.push(e),n(!0)))},a=performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],d=a?null:l("paint",r);(a||d)&&(n=u(e,o,t),a&&r(a),c((function(i){o=s("FCP"),n=u(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-i.timeStamp,n(!0)}))}))})))},f=!1,y=-1,_=function(e,t){f||(x((function(e){y=e.value})),f=!0);var n,i=function(t){y>-1&&e(t)},o=s("CLS",0),r=0,a=[],p=function(e){if(!e.hadRecentInput){var t=a[0],i=a[a.length-1];r&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,a.push(e)):(r=e.value,a=[e]),r>o.value&&(o.value=r,o.entries=a,n())}},h=l("layout-shift",p);h&&(n=u(i,o,t),d((function(){h.takeRecords().map(p),n(!0)})),c((function(){r=0,y=-1,o=s("CLS",0),n=u(i,o,t)})))},v={passive:!0,capture:!0},b=new Date,w=function(e,t){i||(i=t,o=e,r=new Date,T(removeEventListener),S())},S=function(){if(o>=0&&o<r-b){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+o};a.forEach((function(t){t(e)})),a=[]}},j=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){w(e,t),o()},i=function(){o()},o=function(){removeEventListener("pointerup",n,v),removeEventListener("pointercancel",i,v)};addEventListener("pointerup",n,v),addEventListener("pointercancel",i,v)}(t,e):w(t,e)}},T=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,j,v)}))},k=function(e,t){var n,r=g(),p=s("FID"),h=function(e){e.startTime<r.firstHiddenTime&&(p.value=e.processingStart-e.startTime,p.entries.push(e),n(!0))},m=l("first-input",h);n=u(e,p,t),m&&d((function(){m.takeRecords().map(h),m.disconnect()}),!0),m&&c((function(){var r;p=s("FID"),n=u(e,p,t),a=[],o=-1,i=null,T(addEventListener),r=h,a.push(r),S()}))},I=new Set,P=function(e,t){var n,i=g(),o=s("LCP"),r=function(e){var t=e.startTime;t<i.firstHiddenTime&&(o.value=t,o.entries.push(e)),n()},a=l("largest-contentful-paint",r);if(a){n=u(e,o,t);var p=function(){I.has(o.id)||(a.takeRecords().map(r),a.disconnect(),I.add(o.id),n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,p,{once:!0,capture:!0})})),d(p,!0),c((function(i){o=s("LCP"),n=u(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-i.timeStamp,I.add(o.id),n(!0)}))}))}))}}},522925:(e,t,n)=>{n.d(t,{x:()=>o,s:()=>a});const i=/[\- _,.<>:;+=*&@~\/\|!]*$/,o=(e,t=80,n="…")=>{let o;if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])o=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return o=o.replace(i,""),o+n},r=/\s\s+/g,a=e=>e.replace(r," ")},585967:(e,t,n)=>{n.d(t,{P2:()=>a,Mf:()=>s,LC:()=>l,fH:()=>d,B:()=>c});var i=n(667294),o=n(785893);const r=(0,i.createContext)(),a=r.Provider;function s(e){function t(t){const n=(0,i.useContext)(r);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return(0,o.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const l=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},d=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function c(){const e=(0,i.useContext)(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},931253:(e,t,n)=>{n.d(t,{rr:()=>S,ZP:()=>k});var i=n(667294),o=n(40142),r=n(553431),a=n(174523),s=n(181307),l=n(883119),d=n(785893);function c(e){const t=(0,a.ZP)(),{viewType:n,boardId:i,handleTouch:o}=e,c=(0,s.tc)("mweb_board_modals")().anyEnabled,u=t._("Board","createMenuLinkButton.Create.Board.Label","label for creating a new board option"),p=t._("Section","createMenuLinkButton.Create.Section.Label","label for creating a new section option");return S.has(n)?(0,d.jsx)(r.Z,{pressState:"background",onTouch:o,to:{pathname:"/board/create"},children:(0,d.jsx)(l.xu,{paddingY:2,"data-test-id":"createMenuCreateBoardButton",children:c?(0,d.jsx)(l.X6,{size:"sm",children:u}):(0,d.jsx)(l.xv,{weight:"bold",children:u})})}):5===n&&i?(0,d.jsx)(r.Z,{to:`/board/${i}/create_section/`,pressState:"background",rounding:2,onTouch:o,children:(0,d.jsx)(l.xu,{paddingY:2,"data-test-id":"addSectionButton",children:c?(0,d.jsx)(l.X6,{size:"sm",children:p}):(0,d.jsx)(l.xv,{weight:"bold",children:p})})}):null}var u=n(855168),p=n(150282);function h({handleTouch:e}){const t=(0,a.ZP)(),n=(0,u.k6)(),i=e=>({base64Image:e,method:p.Iv}),{anyEnabled:o}=(0,s.tc)("mweb_board_modals")(),r=t._("Photo","createPinButton.Photo.Upload.Label","label to upload pin from camera roll photos");return(0,d.jsx)(l.iP,{tapStyle:"none",onTap:e,children:(0,d.jsxs)(l.xu,{position:"relative",paddingY:2,children:[o?(0,d.jsx)(l.X6,{size:"sm",children:r}):(0,d.jsx)(l.xv,{weight:"bold",children:r}),(0,d.jsx)("input",{id:"upload-pin",type:"file",accept:"image/*",onChange:e=>{const t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{const e=t.result;n.push({pathname:`/pin/create/${p.Iv}/`,state:i(String(e))})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"}})]})})}var m=n(171456),g=n(968807),x=n(288453),f=n(530794),y=n(24309),_=n(375943),v=n(192167),b=n(997993);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=new Set([1,4]),j=e=>{const t=window&&window.innerWidth||0,n=e._("Enter a link to create a Pin, https://...","placeholder in text field where a user inputs a URL to create a Pin","placeholder in text field where a user inputs a URL to create a Pin"),i=e._("Enter a link, https://...","placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit","placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit");return t<380?i:n};class T extends i.PureComponent{constructor(...e){super(...e),w(this,"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,urlValidationError:null}),w(this,"createPinFromLinkInput",(0,i.createRef)()),w(this,"closeCreateModal",(()=>{this.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),this.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""})})),w(this,"clearValidationError",(()=>{this.setState({urlValidationError:null})})),w(this,"openCreateModal",(e=>{this.handleTouch(),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({showCreateModal:!0}),modalHeader:(0,f.is)(this.props.i18n)})()})),w(this,"handleCreatePinFromLinkTouch",(()=>{this.setState({showInlineTextEditCreatePin:!0}),this.props.updatePinBuilderInput({isInputOpen:!0})})),w(this,"handleLinkFieldChange",(({value:e})=>{this.setState({createPinFromLinkUrl:e})})),w(this,"handlePinFromLinkFormSubmit",((e,t)=>{const{createPinFromLinkUrl:n}=this.state;e.preventDefault(),(0,b.Jx)({message:this.props.i18n._("Oops! Please enter a valid URL.","URL validation error message on Pin builder form","URL validation error message on Pin builder form")})(n,(e=>this.handleUrlValidation(e,t)))})),w(this,"handleTouch",(()=>{const{viewType:e,elementType:t}=this.props;(0,y.So)({view_type:e,view_parameter:3106,element:t})})),w(this,"handleUrlValidation",((e,t)=>{const{errors:n}=e;if(n&&n.length>0)this.setState({urlValidationError:n[0]});else{this.setState({showInlineTextEditCreatePin:!1});const e=this.state.createPinFromLinkUrl;this.props.updatePinBuilderInput({submittedLink:e}),t.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:e}})}})),w(this,"renderCreatePinFromLinkOption",(()=>{const{legoBoardModalsEnabled:e,history:t}=this.props,{createPinFromLinkUrl:n,showInlineTextEditCreatePin:i}=this.state,o=this.props.i18n._("Website","editPin.CreatePinFromUrl.Label","label for option to create a pin from a url"),r=e?46:60;return(0,d.jsx)(l.kC,{alignItems:"center",height:r,justifyContent:"start",children:i?(0,d.jsx)("form",{onSubmit:e=>this.handlePinFromLinkFormSubmit(e,t),style:{width:"100%"},children:(0,d.jsxs)(l.xu,{display:"flex",justifyContent:"between",position:"relative",children:[(0,d.jsxs)(l.xu,{ref:this.createPinFromLinkInput,width:"100%",children:[this.renderErrorFlyout(),(0,d.jsx)(l.nv,{id:"create-pin-from-link",onChange:this.handleLinkFieldChange,onFocus:()=>this.setState({urlValidationError:null}),placeholder:j(this.props.i18n),size:"lg",value:n})]}),(0,d.jsx)(m.ZP,{accessibilityLabel:this.props.i18n._("Create Pin from entered link","navigation button to confirm user will create a Pin from a link they entered","navigation button to confirm user will create a Pin from a link they entered"),color:e?"darkGray":void 0,icon:"arrow-forward",onTouch:e=>this.handlePinFromLinkFormSubmit(e,t),size:"lg"})]})}):(0,d.jsx)(g.Z,{onTouch:()=>this.handleCreatePinFromLinkTouch(),pressState:"none",children:(0,d.jsx)(l.xu,{position:"relative",width:e?void 0:"100vw",children:e?(0,d.jsx)(l.X6,{size:"sm",children:o}):(0,d.jsx)(l.xv,{weight:"bold",children:o})})})})})),w(this,"renderErrorFlyout",(()=>{const{urlValidationError:e}=this.state;return e&&(0,d.jsx)(l.J2,{anchor:this.createPinFromLinkInput.current,color:"red",idealDirection:"up",onDismiss:this.clearValidationError,size:"sm",children:(0,d.jsx)(l.xu,{padding:3,width:"100%",children:(0,d.jsx)(l.xv,{align:"center",color:"white",weight:"bold",children:e})})})}))}componentDidMount(){const{isInputOpen:e,submittedLink:t}=this.props;(e||t)&&this.setState({showCreateModal:!!e,showInlineTextEditCreatePin:!!e,createPinFromLinkUrl:t||""})}render(){const{bgColor:e,boardId:t,buttonPadding:n,i18n:o,iconButtonColor:r="gray",iconButtonSize:a="xl",legoBoardModalsEnabled:s,viewType:u}=this.props,{showCreateModal:p}=this.state;let g=this.props.i18n._("Add to section","heading in section create modal","heading in section create modal");S.has(u)?g=this.props.i18n._("Add a Pin or board","heading in profile create modal","heading in profile create modal"):5===u&&(g=this.props.i18n._("Add a Pin or section","heading in profile create modal","heading in profile create modal")||o._("Add to board","heading in board create modal"));const f=4===u?this.props.i18n._("Add to profile","editPin.AddToProfile.Modal.Header","heading in profile create modal"):g;return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,d.jsx)(m.ZP,{accessibilityLabel:this.props.i18n._("Create a Pin or board","icon that opens model prompting user to create a new pin or board","icon that opens model prompting user to create a new pin or board"),bgColor:e,color:r,icon:"add",size:a,padding:n||1,onTouch:this.openCreateModal,testId:"createMenuCreateButton"})}),p&&(0,d.jsx)(x.Z,{accessibilityCloseIconLabel:this.props.i18n._("close board and pin create modal","close modal that prompts user to create a new pin or board","close modal that prompts user to create a new pin or board"),heading:f,isOpen:this.state.showCreateModal,legoBoardModalsEnabled:s,onDismiss:this.closeCreateModal,type:"create_menu",children:(0,d.jsxs)(l.xu,{direction:"column",display:"flex",padding:s?void 0:2,children:[s?(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(l.xu,{paddingX:2,children:[(0,d.jsx)(l.xv,{children:this.props.i18n._("Create","editPin.Create.Section.Text","Section title to Create new things on Edit Pin add modal")}),(0,d.jsx)(i.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,d.jsx)(h,{handleTouch:this.handleTouch})]}),164!==u&&(0,d.jsxs)(l.xu,{marginTop:6,paddingX:2,children:[(0,d.jsx)(l.xv,{children:this.props.i18n._("Add","editPin.Section.Add.Text","Section Add title on Edit Pin add modal")}),(0,d.jsx)(c,{boardId:t,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:u})]})]}):(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(c,{boardId:t,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:u}),(0,d.jsxs)(l.xu,{direction:"column",display:"flex",height:"80%",marginTop:5,children:[(0,d.jsx)(l.xv,{children:this.props.i18n._("Pin","label above uploading a new pin option","label above uploading a new pin option")}),(0,d.jsxs)(l.xu,{paddingX:2,children:[(0,d.jsx)(i.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,d.jsx)(h,{handleTouch:this.handleTouch})]})]})]}),(0,d.jsx)(l.xu,{display:"flex",justifyContent:"center",marginBottom:s?2:void 0,marginTop:7,children:(0,d.jsx)(l.zx,{onClick:()=>this.closeCreateModal(),size:"lg",text:this.props.i18n._("Close","editPin.Modal.Close.Button","Button text to close modal on EditPin")})})]})})]})}}function k(e){const t=(0,a.ZP)(),n=(0,o.useDispatch)(),i=(0,u.k6)(),r=(0,s.tc)("mweb_board_modals")().anyEnabled,{pinBuilder:l}=(0,o.useSelector)((e=>e.session)),c=l&&l.isInputOpen,p=l&&l.submittedLink,h=(0,_.Z)();return(0,d.jsx)(T,{...e,history:i,isInputOpen:c,legoBoardModalsEnabled:r,submittedLink:p,updatePinBuilderInput:e=>n((0,v.p_)(e)),i18n:t,requireAuthForLimitedLogin:h})}},287954:(e,t,n)=>{n.d(t,{iK:()=>te,G9:()=>q,ZP:()=>ne,kk:()=>V,cV:()=>K});var i=n(667294),o=n(40142),r=n(989847),a=n(155656),s=n(156993),l=n(899520),d=n(847495),c=n(534435),u=n(213162),p=n(174523),h=n(883119),m=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],f=[140,220,265],y="BizNuxHomefeedLoader",_=[`${y}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${y}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class v extends i.PureComponent{constructor(...e){super(...e),g(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),g(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),g(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(e){const{homefeedLoading:t}=this.props,{enterAnimationFinished:n,startExitAnimation:i}=this.state;!n||t||i||(0,u.b8)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:this.numberOfColumns},(e=>[]));for(let i=0;i<t.length;i+=1){const e=t[i].getBoundingClientRect();n[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return n}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,n){const i=this.numberOfColumns+1,o=(window&&window.innerWidth-16*i)/this.numberOfColumns;return{left:e*o+16*(e+1),top:n,width:o,height:f[(e+t)%f.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,n=Array(this.numberOfColumns).fill(l.R$),i=this.gridCellDimensionsByColumn,o=e.map(((e,o)=>{const r=o%this.numberOfColumns,a=Math.floor(o/this.numberOfColumns),s=x[o%x.length],l=n[r],d=this.computeGridCellLayout(r,a,l),c=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i={}})=>{const o=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?o:{}}})({color:s,startAnimation:t,originDimension:d,destinationDimension:i&&i[r][a]});return n[r]+=16+d.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,m.jsx)(h.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:(u=t,u?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${y}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${y}_FadeOut`}:{})},children:(0,m.jsx)(h.X6,{color:"white",size:"md",children:e.name})})},o);var u}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${y}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${y}_SlideUp`}},children:o})}render(){const{startExitAnimation:e}=this.state;return(0,m.jsx)(s.Z,{viewType:24,viewParameter:261,children:(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(a.Z,{unsafeCSS:(0,d.Ll)(_)}),(0,m.jsx)(h.xu,{color:"white",dangerouslySetInlineStyle:{__style:(t=e,{position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...t?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${y}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${y}_FadeOut`}:{}})},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(r.Z,{duration:3700,finalProgress:100}),(0,m.jsx)(h.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${y}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${y}_FadeOut`}},children:(0,m.jsx)(h.X6,{children:this.props.i18n._("Personalizing your feed with...","Loading homefeed details","Loading homefeed details")})})]}),this.renderGrid()]})})]})});var t}}const b=(0,o.connect)((({topics:e})=>({selectedTopics:Object.keys(e).filter((t=>e[t].is_followed)).map((t=>e[t]))})),(e=>({dismissLoader:()=>e((0,c.MI)(!1))})))((function(e){const t=(0,p.ZP)();return(0,m.jsx)(v,{...e,i18n:t})}));var w=n(214583),S=n(17649),j=n(968807),T=n(731164),k=n(255038),I=n(352645),P=n(24309);const C=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],E=[140,220,265],A=["NuxHomefeedLoader_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }","NuxHomefeedLoader_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }"];function L({gridContainerRef:e,homefeedLoading:t}){const n=(0,p.ZP)(),[g,x]=(0,i.useState)(!1),[f,y]=(0,i.useState)(!1),_=(0,o.useDispatch)(),v=(0,o.useSelector)((({topics:e})=>Object.keys(e).filter((t=>e[t].is_followed)).map((t=>e[t]))));let b,w;(0,i.useEffect)((()=>(window.scrollTo(0,0),b=setTimeout((()=>{x(!0)}),3e3),()=>{clearTimeout(b),clearTimeout(w)})),[]),(0,i.useEffect)((()=>{t||!g||f||(0,u.b8)((()=>{y(!0),w=setTimeout((()=>{(0,P.j)({event_type:8900,view_type:24,view_parameter:261}),_((0,c.gH)(!1))}),2550)}))}),[t,g,f]);const S=()=>Math.max(Math.floor(window.innerWidth/200),2),j=n._("Personalizing your feed with...","Loading homefeed details","Loading homefeed details");return(0,m.jsx)(s.Z,{viewType:24,viewParameter:261,children:(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(a.Z,{unsafeCSS:(0,d.Ll)(A)}),(0,m.jsx)(h.xu,{color:"white",dangerouslySetInlineStyle:{__style:(T=f,{position:"absolute",width:"100%",height:"100vh",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...T?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{}})},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsx)(r.Z,{color:"darkGray",duration:5550,finalProgress:100}),(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"2.8s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"2.5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}},paddingX:4,paddingY:6,children:(0,m.jsx)(h.X6,{size:"md",children:j})}),(()=>{const t=S(),n=Array(t).fill(l.R$),i=(()=>{const t=S();if(!e.current)return null;const n=e.current.querySelectorAll(".PinCard__imageWrapper"),i=Array.from({length:t},(e=>[]));for(let e=0;e<n.length;e+=1){const o=n[e].getBoundingClientRect();i[Math.round(o.left/(window.innerWidth/t))].push(o)}return i})(),o=v.map(((e,o)=>{const r=o%t,a=Math.floor(o/t),s=C[o%C.length],l=((e,t,n)=>{const i=S(),o=i+1,r=(window&&window.innerWidth-8*o)/i;return{left:e*r+8*(e+1),top:n,width:r,height:E[(e+t)%E.length]}})(r,a,n[r]),d=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i={}})=>{const o=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?o:{}}})({color:s,startAnimation:f,originDimension:l,destinationDimension:i&&i[r][a]});return n[r]+=8+l.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,m.jsx)(h.xu,{margin:4,dangerouslySetInlineStyle:{__style:(c=f,c?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{})},children:(0,m.jsx)(h.X6,{color:"white",size:"sm",children:e.name})})},o);var c}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100vh",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"2.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_SlideUp",transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"2.4s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_SlideUp"}},children:o})})()]})})]})});var T}var D=n(723498),R=n(675135);const O=120;function N({enabled:e,onPull:t,refreshing:n}){const o=(0,p.ZP)(),[r,a]=(0,i.useState)(0),s=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!n&&(s.current=e.touches[0].clientY)},i=e=>{if(s.current){const t=.5*(e.touches[0].clientY-s.current);t>0&&(a(t),e.preventDefault())}},o=e=>{s.current&&(r>=O&&t(),s.current=null,a(0))};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",o),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("touchend",o)}}}),[e,t,r,n]);const l=n?0:r/O,d=Math.min(l,1),c=o._("Pull to refresh","Pull down on grid to refresh items","Pull down on grid to refresh items");return(0,m.jsx)(h.xu,{children:e&&(0,m.jsx)(h.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:l*O,dangerouslySetInlineStyle:{__style:{opacity:d,transition:null===s.current?"all .3s ease-out":void 0}},children:(0,m.jsx)(h.JO,{size:40,icon:s.current&&r<O?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:c})})})}var B=n(711057),Z=n(550343),F=n(22463),M=n(608527),H=n(903945),z=n(271121),U=n(796821),W=n(95957),$=n(964964),G=n(855168);function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const V=({isDesktop:e})=>{const t=(0,z.K)({isDesktop:e});return t?-t:0},q=-2,X={},K=e=>{X[e]&&X[e].handlePullToRefresh()},J=(e,t)=>e.slice(0,t).map((e=>e.id)),Q=()=>{const e="desktop"===(0,U.ZP)(),t=(0,z.K)({isDesktop:e}),n=t?-t:0;return(0,m.jsx)(h.xu,{marginTop:n,marginBottom:n,paddingY:t})};class ee extends i.PureComponent{constructor(...e){super(...e),Y(this,"state",{refreshing:!1,plpIds:(0,F.HW)().extraPlpIds,plpFeed:[]}),Y(this,"backonlineAutoFetchResource",(()=>{this.props.feedResource.fetchMore()})),Y(this,"onPinTouch",(e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}})),Y(this,"handlePullToRefresh",(()=>{this.props.feedResource.refresh(),this.setState({refreshing:!0})})),Y(this,"gridContainerRef",(0,i.createRef)()),Y(this,"renderFeedPin",((e,t)=>{const{feedItemProps:n,history:i,isOneTapExploreLocalTab:o,location:r,renderSquarePins:a,showSeoMetadata:s,topLevelTrafficSource:l,topLevelTrafficSourceDepth:d,trafficSource:c,squarePins:u}=this.props,{auxData:p,componentType:h,feedback:g,imageOnly:x,impressionData:f,objectIdStr:y,oneTapSave:_,onFeedItemClick:v,onPinLinkClick:b,showSeoMetadata:w,viewData:S,viewParameter:j,viewType:T}=n||{},k=(r.search||"").includes("force_seo");return(0,m.jsx)(z.Z,{auxData:p,componentType:h||0,feedback:g,history:i,imageOnly:x,impressionData:f,isOneTapExploreLocalTab:o,isSquarePin:a||u,location:r,objectIdStr:y,oneTapSave:_,onPinClick:v,onPinLinkClick:b,pinId:e.id,showSeoMetadata:s||k||w,slotIndex:t,topLevelTrafficSource:l,topLevelTrafficSourceDepth:d,trackingParams:e.trackingParams,trafficSource:c,viewData:S,viewParameter:j,viewType:T||1})})),Y(this,"renderFeedItem",(({data:e,itemIdx:t})=>{const{breakIn:n,prepend:i,feedItemProps:o,renderFeedItem:r,trafficSource:a}=this.props;if(r)return r(e,t);const{viewParameter:s,viewType:l}=o||{};switch(e.type){case"pin":return(0,m.jsx)(j.Z,{onTouch:this.onPinTouch,pressState:"none",children:this.renderFeedPin(e,t)});case"user":return(0,m.jsx)(S.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===a,viewParameter:s,viewType:l});case"board":return(0,m.jsx)(w.ZP,{boardId:e.id,type:"grid",viewParameter:s,viewType:l});case"topic":return(0,m.jsx)(Z.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:s,viewType:l});case"story":return"number"==typeof s?(0,m.jsx)(R.Z,{slotIndex:t,storyId:e.id,viewParameter:s,viewType:l||1}):null;case"randomCuratedLinks":case"interestLinks":return(null==n?void 0:n.content)||null;case"articlesLink":return(null==i?void 0:i.content)||null;default:return null}}))}componentDidMount(){window.addEventListener("online",this.backonlineAutoFetchResource);const{logFeed:e,feedKey:t,feedItemProps:n}=this.props;if(e){const{viewParameter:e,viewType:t,auxData:i,componentType:o}=n||{},r={event_type:13};e&&(r.view_parameter=e),t&&(r.view_type=t),i&&(r.aux_data=i),o&&(r.component=o),(0,P.j)(r)}((e,t)=>{X[e]=t})(t,this)}setPlpFeedData(e){const{feedItems:t,pins:n}=this.props,{plpIds:i}=this.state;if(e)return(0,H.L_)(M.zR),void this.setState({plpIds:[],plpFeed:[]});if(i.length>0&&t&&t.length>0){const e=i[0],o=n[e],r=t.slice(0,5).map((e=>e.id)).includes(e);o&&!r&&this.setState({plpFeed:[{id:i[0],type:"pin",trackingParams:t[0].trackingParams}].concat(t)})}}logHomefeedRefreshStats(e,t,n,i){const{locale:o}=this.props,{refreshing:r}=this.state;if(r&&t.isFetching&&!e.isFetching&&n&&n.length>0&&i&&i.length>0){const e=J(i,5),t=J(n,5),r={appType:"mweb",language:(o?o.slice(0,2):void 0)||"unknown",locale:o||"unknown"};T.Z.increment("home_product.homefeed.refresh",1,r),a=e,s=t,JSON.stringify(a)===JSON.stringify(s)&&T.Z.increment("home_product.homefeed.refresh.no_change",1,r)}var a,s}componentDidUpdate(e){const{feedItems:t}=e,{feedKey:n,feedItems:i}=this.props,{plpFeed:o,plpIds:r,refreshing:a}=this.state,s="homefeed"===n;a&&e.feedResource.isFetching&&!this.props.feedResource.isFetching&&this.setState({refreshing:!1}),s&&this.logHomefeedRefreshStats(this.props.feedResource,e.feedResource,i,t);const l=r.length>0;if(s&&l){const e=!!t&&t.length>0,n=!!i&&i.length>0,r=!e&&n,a=!!i&&i.length>0&&!!t&&t.length>0&&t[0]!==i[0],s=!!i&&i.length>0&&!!t&&t.length>0&&t[0]===i[0]&&t.length!==i.length,l=n&&!a&&0===o.length;(r||a||s||l)&&this.setPlpFeedData(a)}}componentWillUnmount(){var e;window.removeEventListener("online",this.backonlineAutoFetchResource),e=this.props.feedKey,delete X[e]}renderFeedItems(e){const{breakIn:t,deviceType:n,emptyState:o,feedKey:r,feedResource:a,gridConfig:s,pullToRefresh:l,serverRender:d,showBizNuxHomefeedLoader:c,showNuxHomefeedLoader:u,trafficSource:p}=this.props,{key:g}=s||{},x=r+(g?`|${g}`:""),f="user_search"===p,y=f?window.innerWidth-16:200,_={columnWidth:"desktop"===n?W.PS:y,comp:this.renderFeedItem,gutterWidth:"desktop"===n?4*W.hF:void 0,loadItems:a.fetchMore,minCols:f?1:2,...s},v=!u&&!c&&a.isFetching&&!this.state.refreshing,w="row"===(null==t?void 0:t.item.type),S=w&&null!=t&&t.position?e.slice(0,t.position):e,j=w&&null!=t&&t.showItemsAfterBreak?e.slice(t.position):[];let T,P,C;return(r.includes("homefeed")||r.includes("search"))&&(T=!0,P=!0,C=Object.values(this.props.pins).length?Object.values(this.props.pins):void 0),(0,m.jsxs)(h.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(N,{enabled:!!l,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,m.jsxs)(h.xu,{marginStart:W.qG,marginEnd:W.qG,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,m.jsx)(k.Z,{isAtEndOfFeed:a.isAtEnd,pinData:C,includeVideos:P,includeBackgroundImages:T,itemCount:e.length,children:e.length?(0,m.jsx)(h.xu,{"data-test-id":"feed",marginTop:V({isDesktop:"desktop"===n}),children:(0,m.jsx)(B.Z.Consumer,{children:e=>(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(I.Z,{cacheKey:x,id:d?r:void 0,items:S,scrollContainerRef:e,serverRender:d,..._}),w&&(null==t?void 0:t.content),j.length>0&&(0,m.jsx)(I.Z,{cacheKey:`${x}_afterBreak`,items:j,scrollContainerRef:e,..._})]})})}):a.isFetching?(0,m.jsx)(Q,{}):null!=o?o:null}),v&&(0,m.jsx)(h.xu,{column:12,paddingY:2,children:(0,m.jsx)(D.Z,{})}),u&&(0,m.jsx)(L,{homefeedLoading:a.isFetching,gridContainerRef:this.gridContainerRef}),c&&(0,m.jsx)(b,{homefeedLoading:a.isFetching,gridContainerRef:this.gridContainerRef})]})]})}render(){const{feedItems:e,feedKey:t,isAuthenticated:n}=this.props,{plpFeed:i}=this.state,o=e||[];return"homefeed"!==t?this.renderFeedItems(o):n&&i.length>0?this.renderFeedItems(i):this.renderFeedItems(o)}}function te({resource:{error:e,...t},itemShouldBeExcluded:n,feedOffset:i,...r}){const{breakIn:a,prepend:s,feedKey:l}=r,d=(0,G.TH)(),u=(0,G.k6)(),p=(0,U.ZP)(),h=(0,o.useDispatch)(),{isAuthenticated:g,isBizNuxHomefeedLoadShown:x,isNuxHomefeedLoadShown:f,isSeoBot:y,locale:_}=(0,o.useSelector)((({session:e})=>e)),v=(0,o.useSelector)((({feeds:e})=>e[l])),b=(0,o.useSelector)((({pins:e})=>e)),w=(0,o.useSelector)((({session:e})=>e.firstHomeFeedRequestAfterNux));"homefeed"===l&&v&&v.length>0&&w&&h((0,c.H5)(!1));let S=v;return S&&(a&&a.item&&("randomCuratedLinks"===a.item.type||"interestLinks"===a.item.type)&&v.length>=a.position&&(S=[...v.slice(0,a.position),a.item,...v.slice(a.position)]),s&&s.item&&"articlesLink"===s.item.type&&v.length>=3&&(S=[s.item,...v]),n&&(S=S.filter((e=>!n(e)))),i&&(S=S.slice(i))),(0,m.jsx)(ee,{...r,deviceType:p,feedItems:S,feedResource:t,history:u,isAuthenticated:g,showBizNuxHomefeedLoader:!!x,showNuxHomefeedLoader:!!f,locale:_,location:d,pins:b,showSeoMetadata:y})}function ne({resourceConfig:e,...t}){const n=(0,$.Wf)(e);return(0,m.jsx)(te,{...t,resource:n})}},589841:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(40142),o=n(855283),r=n(899622),a=n(785893);function s({user:e,invertColors:t,isSecondaryButton:n,onTap:s,size:l,viewParameter:d,viewType:c}){const u=(0,i.useDispatch)(),{id:p}=e,h=(0,i.useSelector)((({users:t})=>t[p]?t[p].explicitly_followed_by_me:e.explicitly_followed_by_me));return(0,a.jsx)(o.Z,{id:p,onFollow:()=>{u((0,r.ZN)(p,e)),s&&s()},onUnfollow:()=>{u((0,r.fv)(p,e)),s&&s()},size:l,invertColors:t,isSecondaryButton:n,isFollowed:h,isUserFollowButton:!0,followEventType:45,unfollowEventType:46,viewParameter:d,viewType:c})}},347136:(e,t,n)=>{n.d(t,{ef:()=>S,ZP:()=>k});var i=n(667294),o=n(40142),r=n(153010),a=n(378825),s=n(861106),l=n(584935),d=n(605558),c=n(24309),u=n(348149),p=n(174523),h=n(590307),m=n(883119),g=n(708206),x=n(855168),f=n(785893);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},v=1,b=2,w=3,S=0;class j extends i.PureComponent{constructor(...e){super(...e),y(this,"state",{tooltipHidden:!1}),y(this,"tooltipAnchor",(0,i.createRef)()),y(this,"getElementType",(e=>{switch(e){case b:return 11081;case v:return 11674;default:return 11082}})),y(this,"handleChangeTab",(e=>{var t;const n=null===(t=this.tabs)||void 0===t?void 0:t[e];n&&(this.props.setActiveTab(n.boardId,e),(0,c.j)({event_type:n.tabType===v?102:101,view_type:1,view_parameter:92,component:13184,element:this.getElementType(n.tabType),aux_data:{index:e.toString()}}))})),y(this,"handleCompleteExperience",(({event:e})=>{e.stopPropagation(),e.preventDefault();const{completeExperience:t,experience:n,setActiveTab:i}=this.props;if(t(n),this.tabs){const e=this.tabs.findIndex((e=>e.tabType===w));this.tabs&&this.tabs[e]&&i(this.tabs[e].boardId,e)}})),y(this,"handleDismissExperience",(({event:e})=>{e.stopPropagation(),e.preventDefault();const{dismissExperience:t,experience:n}=this.props;t(n)})),y(this,"handleDismissFlyout",(()=>{const{dismissExperience:e,experience:t}=this.props;e(t)})),y(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({tooltipHidden:e})}))})),y(this,"handleScroll",(0,s.Z)((e=>{const{tooltipHidden:t}=this.state,n=window.scrollY;this.lastScrollPos>n+l.m&&t?this.updateHiddenState(!1):n>this.lastScrollPos+l.m&&!t&&this.updateHiddenState(!0),this.lastScrollPos=n}),20))}get tabs(){const{currentTabIndex:e,shouldShowTodayTab:t,tabBoards:n}=this.props,{tooltipHidden:i}=this.state;if(n.length||t){const o=[{href:"/",text:this.props.i18n._("For you","homefeed.moreIdeasTab.homefeedTab","Homefeed tab"),tabType:b}];return t&&o.push({href:"/today/",text:this.props.i18n._("Today","Today tab","Today tab"),tabType:v,locationState:{referrer:1}}),o.push(...n.filter((e=>e)).map((({id:t,name:n},o)=>({href:`/?boardId=${t}`,text:0!==o||e!==S||i?(0,f.jsx)(m.xu,{maxWidth:100,overflow:"hidden",dangerouslySetInlineStyle:_,children:n}):(0,f.jsxs)(m.xu,{ref:this.tooltipAnchor,children:[(0,f.jsx)(m.xu,{maxWidth:100,overflow:"hidden",dangerouslySetInlineStyle:_,children:n}),this.renderTooltip([501228])]}),boardId:t,tabType:w})))),o}return null}componentDidMount(){window.addEventListener("scroll",this.handleScroll),this.props.shouldShowTodayTab&&(0,c.j)({event_type:13,view_type:1,view_parameter:92,component:13184,element:11674})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}renderTooltip(e){const{experience:t}=this.props,n=t&&t.display_data||{};return(0,f.jsx)(r.Z,{eligibleIds:e,experience:t,children:(0,f.jsx)(m.J2,{onDismiss:this.handleDismissFlyout,anchor:this.tooltipAnchor.current,color:"blue",idealDirection:"down",size:"sm",children:(0,f.jsxs)(m.xu,{padding:2,column:12,children:[(0,f.jsx)(m.xu,{padding:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"normal"}},children:(0,f.jsx)(m.xv,{color:"white",weight:"bold",children:n.text})}),(0,f.jsxs)(m.xu,{display:"flex",paddingY:2,column:12,children:[(0,f.jsx)(m.xu,{paddingX:2,column:6,children:(0,f.jsx)(m.zx,{fullWidth:!0,color:"transparent",onClick:this.handleDismissExperience,text:n.dismiss_button_text||"",size:"sm"})}),(0,f.jsx)(m.xu,{paddingX:2,column:6,children:(0,f.jsx)(m.zx,{fullWidth:!0,color:"white",onClick:this.handleCompleteExperience,text:n.complete_button_text||"",size:"sm"})})]})]})})})}render(){if(this.tabs){const e=this.tabs.map((e=>({href:e.href,text:e.text,locationState:e.locationState})));return(0,f.jsx)(a.Z,{items:e,selectedTabIndex:this.props.currentTabIndex,onChange:this.handleChangeTab})}return null}}const T=(0,g.compose)((0,o.connect)(null,(e=>({completeExperience:t=>e((0,h.Tl)(t)),dismissExperience:t=>e((0,h.CF)(t)),setActiveTab:(t,n)=>e((0,d.r)(t,n))}))),x.EN)(j);function k(e){const t=(0,p.ZP)(),n=(0,u._P)({id:1000049});return(0,f.jsx)(T,{...e,experience:n,i18n:t})}},352645:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(551687),r=n(155656),a=n(796821),s=n(883119),l=n(785893);const d={},c=e=>{if(e)return d[e]&&d[e].screenWidth===window.innerWidth||(d[e]={screenWidth:window.innerWidth,cache:s.Rk.createMeasurementStore()}),d[e].cache};function u({flexible:e,gutterWidth:t,id:n,itemWidth:i,maxColumns:o,minColumns:r}){const a=n.replace(/\:/g,"\\:"),s=i+t;return`\n    .mobileGrid {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .mobileGrid .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:o+1-r},((e,t)=>t+r)).map((n=>{const l=n===o?null:(n+1)*s-1;return`\n      @media (min-width: ${n===r?0:n*s}px) ${l?`and (max-width: ${l}px)`:""} {\n        #${a} .static:nth-child(-n+${n}) {\n          position: static !important;\n          visibility: visible !important;\n          float: left;\n          display: block;\n        }\n\n        ${e?`\n      #${a} .static {\n        width: calc(100% / ${n}) !important;\n      }\n    `:`\n      #${a} {\n        width: ${n*s}px;\n      }\n\n      #${a} .static {\n        padding: 0 ${t/2}px;\n        width: ${i}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}function p({cacheKey:e,columnWidth:t,comp:n,disableVirtualize:d,gutterWidth:p,id:h,layout:m,items:g,loadItems:x,minCols:f,scrollContainerRef:y,serverRender:_}){const v="desktop"!==(0,a.ZP)(),b=(0,i.useCallback)((()=>y&&y.current||window),[y]),w=(0,i.useCallback)((e=>(0,l.jsx)(o.Z,{name:"MobileGridItem",children:(0,l.jsx)(n,{...e})})),[n]);return(0,l.jsxs)("div",{id:h,className:"mobileGrid",children:[_&&h&&(0,l.jsx)(r.Z,{unsafeCSS:u({flexible:v,gutterWidth:p||0,id:h,itemWidth:t||236,maxColumns:g.length||16,minColumns:f||2})}),(0,l.jsx)(s.Rk,{columnWidth:t,comp:w,flexible:v,gutterWidth:p,layout:m,items:g,loadItems:x,measurementStore:c(e),minCols:f,scrollContainer:b,virtualize:!d})]})}},288453:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),o=n(40142),r=n(171456),a=n(241933),s=n(968807),l=n(51610),d=n(174523),c=n(131546),u=n(799977),p=n(213162),h=n(641483),m=n(931185);const g={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,m.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"16px 16px 0px 0px",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},legoModal:{borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},baseStylesSliding:{border:(0,m.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},x=e=>e?g.RTLheadingOffset:g.headingOffset;var f=n(883119),y=n(785893);const _=e=>{e.preventDefault()};function v({accessibilityCloseIconLabel:e,allowScrolling:t=!1,childPaddingX:n=3,childPaddingY:m=3,children:v,disableMask:b,enableCloseIconBackground:w,fullScreenHeight:S,heading:j,hasCustomHeight:T=!1,hideCloseIcon:k,isFullscreen:I,isLegoModal:P,isMaskTransparent:C,isOpen:E,isSlideUp:A,isTablet:L,legoBoardModalsEnabled:D=!1,maskFadeInDuration:R,modalStyle:O,onCloseIconDismiss:N,onDismiss:B,overrideZDepth:Z,overrideBackgroundColor:F,overrideBorder:M,slideUpDuration:H,thinnerModal:z,type:U}){const W=(0,d.ZP)(),$=(0,o.useDispatch)(),G=(0,o.useSelector)((({session:e})=>e.isRTL)),Y=(0,i.useRef)(!1),[V,q]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(0,h.ZP)(`mweb_unauth.mobile_modal.${U||"unknown_type"}.did_mount.is_open.${String(!!E)}`)}),[E,U]),(0,i.useEffect)((()=>(Y.current=(0,p.b8)((()=>{Y.current&&q(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&Y.current&&(window.cancelAnimationFrame(Y.current),Y.current=null)})),[]),(0,i.useEffect)((()=>{const e=e=>$((0,u._L)(e));return E?(a.ZP.pause(),e(!1)):(a.ZP.resume(),e(!0)),()=>{E&&(a.ZP.resume(),e(!0))}}),[$,E]);const X=E&&!t;(0,i.useEffect)((()=>(X&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{X&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[X]);const K=(({isMaskTransparent:e,isShowing:t,maskFadeInDuration:n})=>{const i=g.mask.baseStyles;return{__style:e?{...i,...n?{opacity:t?1:0,transitionDuration:n}:null,backgroundColor:"transparent"}:{...i,...n?{opacity:t?1:0,transitionDuration:n}:null}}})({isMaskTransparent:!!C,isShowing:V,maskFadeInDuration:R}),J=F||"white";if(!E)return null;const Q=A?(({overrideBorder:e,isLegoModal:t,isFullscreen:n,isTablet:i,isShowing:o,type:r})=>{let a=g.modal.baseStylesSliding,s=o?"translateY(0)":"translateY(100vh)";return a.border=e||a.border,a.height=n?"100vh":a.height,t&&(a={...a,...g.modal.legoModal}),i&&"related_interests_modal"===r&&(a={...a,...g.modal.tabletNarrowStyle},s=o?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...a,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:s}}})({overrideBorder:M,isLegoModal:P,isFullscreen:I,isTablet:L,isShowing:V,type:U}):(({fullScreenHeight:e,isFullscreen:t,isLegoModal:n,isShowing:i,isTablet:o,modalStyle:r,overrideBorder:a,slideUpDuration:s,thinnerModal:l,type:d})=>{const c=e?{...g.modal.fullscreenStyles,height:e,marginTop:`calc(-${e} / 2)`,top:"50%"}:g.modal.fullscreenStyles;let u;return t?u=c:o?u=g.modal.tabletStyles:"signup"===d?(u=g.modal.nonTabletSignUpStyles,l&&("undefined"!=typeof window&&window.screen&&window.screen.width>=375?(u.left="36px",u.right="36px"):"undefined"!=typeof window&&window.screen&&window.screen.width>=345&&(u.left="21px",u.right="21px"))):u={...g.modal.baseStyles,borderRadius:"32px 32px 0 0"},n&&(u={...u,...g.modal.legoModal}),{__style:{...r||u,...a?{border:a}:Object.freeze({}),...s?{transform:i?"translateY(0)":"translateY(100vh)",transitionDuration:s}:Object.freeze({})}}})({fullScreenHeight:S,isFullscreen:I,isLegoModal:P,isShowing:V,isTablet:L,modalStyle:O,overrideBorder:M,slideUpDuration:H,thinnerModal:z,type:U});return(0,y.jsx)(l.Z,{children:(0,y.jsx)(f.mh,{children:(0,y.jsxs)(f.xu,{display:"inlineBlock",zIndex:Z?new f.Ry(Z):new f.H3([c.dS]),position:"relative",children:[!b&&(0,y.jsx)(s.Z,{accessibilityLabel:W._("Mobile Signup Modal Mask","mweb.signup_modal.mask","The acessibility label for the mask of mobile signup modal"),onTouch:e=>{const t=e,n=B?"with":"without",i=U||"unknown_type";(0,h.tj)(`mweb_unauth.mobile_modal.wash_tap.${i}.${n}_dismissal`,{x:t.clientX,y:t.clientY}),B&&B()},pressState:"none",children:(0,y.jsx)(f.xu,{position:"fixed",top:!0,left:!0,onTouchMove:t?()=>{}:_,dangerouslySetInlineStyle:K})}),w&&(0,y.jsx)(f.xu,{top:!0,left:!0,position:"fixed",zIndex:new f.Ry(1),children:(0,y.jsx)(f.hU,{accessibilityLabel:W._("close icon background","accesibility label for close icon on a overlay","accesibility label for close icon on a overlay"),icon:"cancel",iconColor:D?"darkGray":"white",onClick:N,size:"lg"})}),(0,y.jsxs)(f.xu,{position:"fixed",color:J,onTouchMove:_,dangerouslySetInlineStyle:Q,children:[e&&!k&&(0,y.jsx)(f.xu,{children:(0,y.jsxs)(f.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,y.jsx)(f.xu,{display:"flex",alignItems:"center",padding:2,children:(0,y.jsx)(r.ZP,{accessibilityLabel:e,color:"darkGray",icon:"cancel",onTouch:B,padding:4,size:D?"lg":"sm"})}),(0,y.jsx)(f.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:x(G),children:I?j:(0,y.jsx)(f.xv,{align:"center",weight:"bold",children:(0,y.jsx)("span",{className:"deprecatedTextSizeXL",children:j})})})]})}),(0,y.jsx)(f.xu,{paddingX:n,paddingY:m,height:T?window.innerHeight-12+"px":"auto",overflow:T?"scrollY":"auto",children:v})]})]})})})}},131546:(e,t,n)=>{n.d(t,{Zk:()=>G,Z7:()=>V,wt:()=>Y,dS:()=>q,ZP:()=>ne});var i=n(667294),o=n(40142);const r=e=>{const t=e.split("/");return 4===t.length?"pin"===t[1]&&""===t[3]:3===t.length&&("pin"===t[1]&&""!==t[2])};var a=n(931253),s=n(174523),l=n(883119),d=n(785893);const c=({showLabel:e=!1,color:t="gray",viewType:n})=>{const i=(0,s.ZP)();return(0,d.jsx)(l.xu,{rounding:3,flex:"grow",children:(0,d.jsxs)(l.xu,{display:"flex",justifyContent:"center",position:"relative",direction:"column",children:[(0,d.jsx)(l.xu,{display:"flex",justifyContent:"center",padding:1,children:(0,d.jsx)(a.ZP,{elementType:249,iconButtonColor:"gray",iconButtonSize:"xl",viewType:n})}),e&&(0,d.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitUserSelect:"none"}},children:(0,d.jsx)(l.xv,{align:"center",size:"sm",lineClamp:1,color:t,children:i._("Create","nav.navFooterAdd.createPinButton","Create pin button on the Nav bar")})})]})})};var u=n(151101),p=n(553431),h=n(530826);const m=(0,i.memo)((({height:e=18,width:t=18,text:n})=>(0,d.jsx)(l.xu,{alignItems:"center",color:"red",display:"flex",height:e,justifyContent:"center",rounding:"pill",width:t,children:n&&(0,d.jsx)(l.xv,{align:"center",color:"white",size:"sm",weight:"bold",children:n})}))),g={zIndex:1,position:"relative"};function x({accessibilityLabel:e,avatarSrc:t,badge:n,badgeMargins:o,color:r,flyoutText:a,icon:c,onTouch:x,showFlyout:f,showFlyoutButton:y,showLabel:_,svgPath:v,title:b,to:w}){const S=(0,s.ZP)(),[j,T]=(0,i.useState)(!1),k=(0,i.useRef)(),I="nav-bar-"+String(c);return(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:j?g:{}},flex:"grow",children:(0,d.jsx)(p.Z,{onBlur:()=>T(!1),onFocus:()=>T(!0),onTouch:x,pressState:"compress",rounding:_?4:6,to:w,children:(0,d.jsxs)(l.xu,{display:"flex",justifyContent:"center",position:"relative",color:"transparent",direction:"column",rounding:3,"data-test-id":I,children:[(0,d.jsxs)(l.xu,{position:"relative",display:"flex",justifyContent:"center",children:[(0,d.jsx)(l.xu,{padding:2,ref:k,children:t?(0,d.jsx)(l.xu,{rounding:"circle",dangerouslySetInlineStyle:{__style:{boxShadow:"darkGray"===r?"0 0 0 2px black":"0 0 0 2px transparent"}},children:(0,d.jsx)(u.Z,{name:e,src:t,size:"xs"})}):(0,d.jsx)(l.JO,{accessibilityLabel:e,icon:c,color:r,size:24,inline:!0,dangerouslySetSvgPath:v?{__path:v}:void 0})}),n&&(0,d.jsx)(l.xu,{marginStart:null==o?void 0:o.marginLeft,marginEnd:null==o?void 0:o.marginRight,marginTop:null==o?void 0:o.marginTop,marginBottom:null==o?void 0:o.marginBottom,position:"absolute",children:(0,d.jsx)(m,{...n})}),f&&(0,d.jsx)(l.J2,{anchor:k.current,color:"blue",onDismiss:()=>{},showCaret:!0,size:"flexible",children:(0,d.jsxs)(l.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",minHeight:70,paddingX:y?4:0,paddingY:y?4:1,width:y?200:132,children:[(0,d.jsx)(l.xv,{align:"center",color:"white",children:a||S._("Explore something new","Flyout message prompting user to click on the explore icon.","unauthNavBar.explore.flyout")}),y?(0,d.jsx)(l.xu,{marginTop:4,children:(0,d.jsx)(h.Z,{accessibilityLabel:S._("Explore","navFooter.flyout.button","Button on flyout to upsell home icon"),color:"white",to:w,onTouch:x,shape:"pill",text:S._("Explore","navFooter.flyout.button","Button on flyout to upsell home icon")})}):null]})})]}),_&&(0,d.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitUserSelect:"none"}},children:(0,d.jsx)(l.xv,{align:"center",color:r,size:"sm",lineClamp:1,children:b})})]})})})}var f=n(153010),y=n(590307),_=n(348149);const v=[501227],b={badge:{width:8,height:8,text:" "},badgeMargins:{marginLeft:6,marginTop:1}},w=(0,i.memo)((({avatarSrc:e,completeExperience:t,experience:n,isActive:r,locationPath:a,onTouch:l,showLabel:c,username:u})=>{const p=(0,s.ZP)(),{isAuthenticated:h}=(0,o.useSelector)((({session:e})=>e)),m=a.startsWith(`/${u}`),g=n&&v.includes(n.experience_id);(0,i.useEffect)((()=>{if(g&&m){const{experience_id:e,placement_id:i}=n||{};t(i,e)}}));const y=t=>(0,d.jsx)(x,{accessibilityLabel:p._("My profile","Nav bar icon","Nav bar icon"),avatarSrc:e,color:r?"darkGray":"gray",icon:"person",onTouch:l,showLabel:c,title:p._("Saved","Saved button on the Nav bar","Saved button on the Nav bar"),to:u?`/${u}/`:h?"/":"/unauth-profile",...t});return g&&!m?(0,d.jsx)(f.Z,{eligibleIds:v,experience:n,children:y(b)}):y({})})),S=(0,o.connect)(null,(e=>({completeExperience:(t,n)=>e((0,y.CK)(t,n))})))((e=>{const t=(0,_._P)({id:1000181});return(0,d.jsx)(w,{experience:t,...e})}));var j=n(311866),T=n(250766);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends i.PureComponent{constructor(...e){super(...e),k(this,"state",{newsBadgeCount:0,unreadMessageCount:0,showBadge:!1}),k(this,"clearNotificationBadge",(()=>{const{isAuthenticated:e,onTouch:t}=this.props;e&&(j.ZP.create("NewsHubBadgeResource",{}).callDelete({showError:!1}),this.setState({newsBadgeCount:0,showBadge:!1})),t&&t()})),k(this,"getBadging",(()=>{j.ZP.create("NewsHubBadgeResource",{}).callGet().then((({resource_response:{data:e}})=>{const t=e.news_hub_count+e.conversations_unseen_count;this.setState({newsBadgeCount:e.news_hub_count,unreadMessageCount:e.conversations_unseen_count,showBadge:t>0})}))}))}componentDidMount(){this.props.isAuthenticated&&this.getBadging()}render(){const{isActive:e,showLabel:t,icon:n="speech-ellipsis",onTouch:i}=this.props,{newsBadgeCount:o,unreadMessageCount:r,showBadge:a}=this.state,s=o+r,l=s>0&&s<100?s:"99+",c=l.toString().length,u={width:1===c?16:2===c?24:30,height:16,text:l},p=r>0?"/inbox/":"/notifications/";return(0,d.jsx)(x,{accessibilityLabel:this.props.i18n._("News notifications and messages","mweb.navbar.notifs_button.a11y","accessibility label for notifs icon button"),badge:a&&u||void 0,badgeMargins:{marginLeft:4},icon:n,to:p,color:e?"darkGray":"gray",onTouch:"/notifications/"===p?this.clearNotificationBadge:i,title:this.props.i18n._("Notifications","Notifications button on the Nav bar","Notifications button on the Nav bar"),showLabel:t})}}const P=(0,o.connect)((function(e){return{browserName:e.session.browser,browserVersion:e.session.browserVersion,currentUser:(0,T.ts)(e),isAuthenticated:e.session.isAuthenticated}}),(()=>({})))((function(e){const t=(0,s.ZP)();return(0,d.jsx)(I,{...e,i18n:t})}));var C=n(708206),E=n(287954),A=n(855168);class L extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=null,(n="leftHomeTimeOut")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(e){const{location:t}=this.props;this.shouldRefreshHomefeed(t.pathname)?this.refreshHomefeed():this.shouldSetLeftHomeTimeout(t.pathname,e)?this.setLeftHomeTimeout():this.shouldClearLeftHomeTimeout(t.pathname)&&this.clearLeftHomeTimeout()}componentWillUnmount(){this.clearLeftHomeTimeout()}setLeftHomeTimeout(){this.leftHomeTimeOut=setTimeout((()=>{this.leftHomeTimeOut&&(this.clearLeftHomeTimeout(),this.leftHomeTimeOut=void 0)}),5e3)}clearLeftHomeTimeout(){this.leftHomeTimeOut&&(clearTimeout(this.leftHomeTimeOut),this.leftHomeTimeOut=null)}refreshHomefeed(){(0,E.cV)("homefeed"),this.leftHomeTimeOut=null}shouldClearLeftHomeTimeout(e){return this.leftHomeTimeOut&&"/"===e}shouldRefreshHomefeed(e){return"/"===e&&92===this.props.viewParameter&&void 0===this.leftHomeTimeOut}shouldSetLeftHomeTimeout(e,t){return null===this.leftHomeTimeOut&&"/"!==e&&"/"===t.location.pathname&&!e.startsWith("/pin/")}render(){return null}}const D=(0,C.compose)(A.EN,(0,o.connect)((({currentPage:e})=>({viewParameter:e.viewParameter}))))(L);var R=n(616470),O=n(18562),N=n(899520),B=n(347136),Z=n(329487),F=n(18236),M=n(273298),H=n(605558),z=n(24309),U=n(309970),W=n(709107);function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G=52,Y=160,V=60,q=new l.H3([O.N]),X={},K=e=>{const t=e>100?e-100:5,n=Math.max(e-t,0);window.scrollTo(0,n),n>0&&window.requestAnimationFrame((()=>K(n)))},J=e=>"/"===e||r(e)||e.startsWith("/search/")||"/inbox/"===e||"/inbox/compose/"===e||"/notifications/"===e||e.includes("/report/"),Q=e=>{switch(e){case"home":return 146;case"notifications":return 139;case"profile":return 40;case"today":return 11674;case"videos":return 11924;case"search":return 43;default:return}},ee=(e,t,n)=>{const i=X[e.key];if(i)return i;const o=e.pathname;return"/"===o||!n&&"/ideas"===o?"home":o.startsWith("/inbox")?"inbox":o.startsWith("/notifications")?"notifications":o.startsWith("/videos")?"videos":o.startsWith("/today")?"today":o.startsWith("/search")?"search":(0,A.LX)(o,{path:`/${t}/(|pins|boards|tried)?`,exact:!0})||!n&&o.startsWith("/unauth-profile")?"profile":null};class te extends i.PureComponent{constructor(...e){super(...e),$(this,"state",{bottom:0,hasScrolled:!1,isNavFooterHidden:!1,prevLocation:this.props.location,selectedItem:ee(this.props.location,this.props.username,this.props.isAuthenticated),showUnauthNavExplorePrompt:!1}),$(this,"getProfileButtonRef",(e=>{this.profileButton=e})),$(this,"handleScrollForIphoneX",(()=>{window.innerHeight!==this.currInnerHeight&&(this.currInnerHeight=window.innerHeight,this.forceUpdate())})),$(this,"handleScrollForMobileSafari",(()=>this.setState({bottom:0===window.pageYOffset?40:0}))),$(this,"selectItem",(e=>{const{viewData:t,viewParameter:n,viewType:i}=this.props;this.setState({selectedItem:e}),(0,z.So)({component:8,element:Q(e),view_data:t,view_type:i,view_parameter:n})})),$(this,"handleHomeTouch",(()=>{const{activeHomefeedTabIndex:e,location:t,setHomeFlyoutText:n,setHomefeedAsActiveHomefeedTab:i,setShowHomeBadge:o,setShowHomeFlyoutWithButton:r}=this.props;this.selectItem("home"),(0,W.E)(!1),n(),o(!1),r(!1),Z.HOMEFEED_PATHS.has(t.pathname)&&e!==B.ef&&0===window.scrollY?i():0===window.scrollY&&"/"===t.pathname?(0,E.cV)("homefeed"):"/"===window.location.pathname&&window.scrollY>0&&K(window.scrollY)})),$(this,"handleInboxTouch",(()=>this.selectItem("inbox"))),$(this,"handleProfileTouch",(()=>{this.selectItem("profile")})),$(this,"handleTodayTouch",(()=>this.selectItem("today"))),$(this,"handleSearchTouch",(()=>this.selectItem("search"))),$(this,"handleNavFooterScroll",(e=>{const{experience:t,dismissExperience:n,setIsNavFooterHiddenAfterScroll:i}=this.props,{hasScrolled:o}=this.state;t&&502511===t.experience_id&&n&&!o&&n(1000151,502511),this.setState({isNavFooterHidden:e,hasScrolled:!0}),i(e)})),$(this,"currInnerHeight",0)}componentDidMount(){const{devicePlatform:e,isMobileSafari:t}=this.props;this.currInnerHeight=window.innerHeight,(0,F.Rq)(e)&&window.addEventListener("scroll",this.handleScrollForIphoneX),t&&window.addEventListener("scroll",this.handleScrollForMobileSafari)}static getDerivedStateFromProps(e,t){return e.location===t.prevLocation?null:{...t,prevLocation:e.location,selectedItem:ee(e.location,e.username,e.isAuthenticated)}}componentDidUpdate({location:e},{selectedItem:t}){const{location:n,history:{action:i}}=this.props,{selectedItem:o}=this.state;e!==n&&("REPLACE"===i||"PUSH"===i&&t!==o)&&(X[e.key]=t,X[n.key]=o)}componentWillUnmount(){const{devicePlatform:e,isMobileSafari:t,location:n}=this.props;X[n.key]=this.state.selectedItem,(0,F.Rq)(e)&&window.removeEventListener("scroll",this.handleScrollForIphoneX),t&&window.removeEventListener("scroll",this.handleScrollForMobileSafari)}render(){var e;const{isAuthenticated:t,homeFlyoutText:n,location:o,shouldUpsellHomePage:r,showBusinessAppUpsell:a,showHomeBadge:s,showHomeFlyoutWithButton:u,username:p,viewingUser:h,viewType:m}=this.props,{bottom:g,isNavFooterHidden:f,selectedItem:y}=this.state,_=a,v=(0,M.EO)(h),b=t&&v,w=((e,t)=>t?e?320:264:200)(b,t);return(0,d.jsxs)(N.G_,{bottom:g,height:V,isModal:(j=o.pathname,j.includes("/report/")),footerWidth:w,noPadding:!0,hideOnScroll:a||!t||t&&J(o.pathname),onScroll:this.handleNavFooterScroll,showBusinessAppUpsell:_,footerInLego:!0,zIndex:q,children:[(0,d.jsx)(D,{}),(0,d.jsxs)(l.xu,{display:"flex",alignItems:"center",justifyContent:"around",width:w,maxWidth:w,paddingX:2,marginStart:"auto",marginEnd:"auto",children:[(0,d.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",flex:"grow",children:[(0,d.jsx)(x,{accessibilityLabel:this.props.i18n._("Home","Nav bar icon","Nav bar icon"),badge:s?{height:8,width:8}:void 0,badgeMargins:s?{marginLeft:8,marginTop:1}:void 0,color:"home"===y?"darkGray":"gray",flyoutText:n,onTouch:this.handleHomeTouch,showFlyout:u,showFlyoutButton:u,showLabel:b,svgPath:"M12 0L1 10v14h8v-7a3 3 0 116 0v7h8V10z",title:this.props.i18n._("Home","Home button on the Nav bar","Home button on the Nav bar"),to:t?"/":"/ideas"}),r&&!f&&(0,d.jsx)(l.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:(0,d.jsx)(l.o3,{size:90})})]}),!t&&(0,d.jsx)(x,{accessibilityLabel:this.props.i18n._("Search","bottomNavBar.searchButton","Search button on the nav bar"),color:"search"===y?"darkGray":"gray",icon:"search",onTouch:()=>{},showLabel:b,title:this.props.i18n._("Search","bottomNavBar.searchButton","Search button on the nav bar"),to:"/search"}),t&&(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(x,{icon:"search",to:"/search/",color:"search"===y?"darkGray":"gray",accessibilityLabel:this.props.i18n._("Search","Nav bar icon","Nav bar icon"),onTouch:this.handleSearchTouch,title:this.props.i18n._("Search","Nav bar icon","Nav bar icon"),showLabel:b}),(null==h?void 0:h.is_partner)&&(0,d.jsx)(c,{showLabel:b,viewType:m}),(0,d.jsx)(P,{isActive:"inbox"===y||"notifications"===y,onTouch:this.handleInboxTouch,showLabel:b,icon:"speech-ellipsis"})]}),(0,d.jsx)(R.Z,{children:(0,d.jsx)(l.xu,{ref:this.getProfileButtonRef,flex:"grow",children:(0,d.jsx)(S,{avatarSrc:!h||null!==(e=h.image_small_url)&&void 0!==e&&e.includes("default")||"string"!=typeof h.image_small_url?"":h.image_small_url,isActive:"profile"===y,locationPath:o.pathname,onTouch:this.handleProfileTouch,showLabel:b,username:p})})})]})]});var j}}const ne=(0,C.compose)((0,o.connect)((function({currentPage:e,homefeedTabUI:t,session:n,users:i}){return{activeHomefeedTabIndex:t.activeTabIndex,country:n.isAuthenticated&&i[n.userId]&&"string"==typeof i[n.userId].country?i[n.userId].country:n.country,devicePlatform:n.userAgentPlatform,isAuthenticated:n.isAuthenticated,isMobileSafari:(n.isMobile||n.isTablet)&&(n.browser||"").includes("Safari"),isToastShown:n.isToastShown||!1,locale:n.locale,showBusinessAppUpsell:n.showBusinessAppUpsell||!1,username:n.isAuthenticated&&i[n.userId]?i[n.userId].username:"",viewingUser:n.isAuthenticated?i[n.userId]:void 0,viewData:e.viewData,viewParameter:e.viewParameter,viewType:e.viewType}}),(function(e){return{dismissExperience:(t,n)=>e((0,y.Qu)(t,n)),setHomefeedAsActiveHomefeedTab:()=>e((0,H.r)(null,B.ef))}})),A.EN)((e=>{const t=(0,W.S)(),n=(0,s.ZP)(),{homeFlyoutText:i,setHomeFlyoutText:o,setIsNavFooterHiddenAfterScroll:r,setShowHomeBadge:a,setShowHomeFlyoutWithButton:l,showHomeBadge:c,showHomeFlyoutWithButton:u}=(0,U.UY)(),p=(0,_._P)({id:1000151});return(0,d.jsx)(te,{...e,experience:p,homeFlyoutText:i,setHomeFlyoutText:o,setIsNavFooterHiddenAfterScroll:r,setShowHomeBadge:a,setShowHomeFlyoutWithButton:l,showHomeBadge:c,showHomeFlyoutWithButton:u,shouldUpsellHomePage:t,i18n:n})}))},309970:(e,t,n)=>{n.d(t,{mu:()=>d,UY:()=>l});var i=n(667294),o=n(762803),r=n(785893);const{Provider:a,Consumer:s,useHook:l}=(0,o.ZP)("NavFooterContext");function d({children:e}){const[t,n]=(0,i.useState)(),[o,s]=(0,i.useState)(!1),[l,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1);return(0,r.jsx)(a,{value:{homeFlyoutText:t,isNavFooterHiddenAfterScroll:o,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:s,setShowHomeBadge:d,setShowHomeFlyoutWithButton:u,showHomeBadge:l,showHomeFlyoutWithButton:c},children:e})}},271121:(e,t,n)=>{n.d(t,{Z:()=>ke,K:()=>fe});var i=n(667294),o=n(40142),r=n(551687),a=n(454217),s=n(151101),l=n(427908),d=n(779847),c=n(968807),u=n(689859),p=n(174523),h=n(785112),m=n(883119),g=n(785893);const x=(0,o.connect)((({pins:e},{pinId:t})=>({pin:e[t]})),(()=>({})))((function({pin:e}){var t,n,i,o,r,a;const s=(0,p.ZP)(),{images:l,dominant_color:d}=e,{pinTitle:c}=(0,h.Fi)({i18n:s,pin:e});let u=null;l&&(u=l["236x"]||l["170x"]);const x=d||"#efefef";return Boolean(u)&&(0,g.jsx)(m.xu,{display:"flex",justifyContent:"center",position:"relative",children:(0,g.jsx)(m.xu,{height:437,width:247,rounding:4,marginTop:4,marginBottom:4,overflow:"hidden",dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},children:(0,g.jsx)(m.Ee,{alt:c||"",color:x,naturalHeight:null!==(t=null===(n=u)||void 0===n?void 0:n.height)&&void 0!==t?t:1,naturalWidth:null!==(i=null===(o=u)||void 0===o?void 0:o.width)&&void 0!==i?i:1,src:null!==(r=null===(a=u)||void 0===a?void 0:a.url)&&void 0!==r?r:"",fit:"cover"})})})}));var f=n(68131),y=n(946753),_=n(128833),v=n(24309),b=n(899622);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=(0,i.lazy)((()=>Promise.all([n.e(38202),n.e(42113),n.e(72077)]).then(n.bind(n,642113))));class j extends i.PureComponent{constructor(...e){super(...e),w(this,"stopPropagation",(e=>{e.stopPropagation(),e.preventDefault()})),w(this,"onUserTouch",(e=>{e.stopPropagation(),e.preventDefault();const{history:t,pinner:n}=this.props;t.push(`/${n.username}/`)})),w(this,"onCommentIconTouch",(e=>{e.stopPropagation(),e.preventDefault();const{history:t,pin:n}=this.props;t.push(`/pin/${n.id}/comments/`)})),w(this,"onFollow",((e,t,n)=>{e.stopPropagation(),e.preventDefault();const{followUser:i,unfollowUser:o}=this.props;n?(i(t),(0,v.j)({event_type:45,view_type:1,view_parameter:3349,object_id_str:t})):(o(t),(0,v.j)({event_type:46,view_type:1,view_parameter:3349,object_id_str:t}))})),w(this,"onSave",(e=>{e.stopPropagation(),e.preventDefault();const{history:t,pinId:n}=this.props;(0,v.j)({event_type:5,view_type:1,view_parameter:3349,object_id_str:n}),t.push(`/pin/${n}/repin/`)}))}render(){var e,t,n,o;const{i18n:a,pin:p,pinId:v,pinner:b,type:w,feedback:j,feedbackType:T,getRecommendationDescription:k,slotIndex:I}=this.props;if(!p||!b)return null;const{pinTitle:P}=(0,h.Fi)({i18n:a,pin:p}),{full_name:C,image_large_url:E,image_medium_url:A,explicitly_followed_by_me:L}=b,D=E||A,R=(0,d.Z)(p),{aggregated_pin_data:O,category:N,description:B,dominant_color:Z,image_signature:F,images:M,is_downstream_promotion:H,promoter:z,story_pin_data_id:U}=p;let W=null;M&&(W=M["736x"]||M["236x"]||M["170x"]);const $=Boolean(z&&!H),G=O&&O.comment_count||0,Y={imageURL:null==M||null===(e=M["236x"])||void 0===e?void 0:e.url};return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",paddingY:2,children:[D&&(0,g.jsx)(c.Z,{onTouch:this.onUserTouch,pressState:"none",children:(0,g.jsx)(s.Z,{name:null!=C?C:"",size:"sm",src:D})}),(0,g.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{flex:"1 1 0%"}},marginStart:D?2:void 0,overflow:"hidden",marginEnd:2,children:(0,g.jsx)(c.Z,{onTouch:this.onUserTouch,pressState:"none",children:(0,g.jsx)(m.xv,{size:"md",lineClamp:1,weight:"bold",children:$?(0,y.nk)(this.props.i18n._("Promoted by {{ user }}","Label for who promoted pin","Label for who promoted pin"),{user:C}):C})})}),(0,g.jsx)(m.xu,{display:"inlineBlock",children:(0,g.jsx)(c.Z,{pressState:"compress",onTouch:e=>this.onFollow(e,b.id,!L),children:(0,g.jsx)(m.xu,{color:"lightGray",rounding:"pill",position:"relative",children:(0,g.jsx)(m.xu,{padding:3,children:(0,g.jsx)(m.xv,{color:"darkGray",weight:"bold",size:"md",children:L?this.props.i18n._("Unfollow","Unfollow creator button text","Unfollow creator button text"):this.props.i18n._("Follow","Follow creator button text","Follow creator button text")})})})})})]}),(0,g.jsx)(m.xu,{children:(0,g.jsx)(_.dL,{loggingId:v,objectIdStr:v,slotIndex:I,impressionData:Y,viewParameter:3349,component:13484,children:(0,g.jsx)(l.Z,{children:"video"===w&&R?(0,g.jsx)(f.Z,{pinId:v,isFullWidth:!0}):"storyPin"===w&&U?(0,g.jsx)(x,{pinId:v}):W?(0,g.jsx)(m.Ee,{alt:P||"",color:Z||"#efefef",naturalHeight:null!==(t=W.height)&&void 0!==t?t:1,naturalWidth:null!==(n=W.width)&&void 0!==n?n:1,src:null!==(o=W.url)&&void 0!==o?o:""}):null})})}),P&&"storyPin"!==w&&(0,g.jsx)(m.xu,{marginTop:3,children:(0,g.jsx)(m.xv,{weight:"bold",align:"center",children:P})}),(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:5,marginTop:3,children:[(0,g.jsx)(m.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",width:"50%",children:(0,g.jsx)(c.Z,{pressState:"none",onTouch:this.onCommentIconTouch,children:(0,g.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(m.xu,{padding:3,children:(0,g.jsx)(m.JO,{icon:"speech",accessibilityLabel:this.props.i18n._("Tap to see or add comments on pin","tap to see or add comments on pin","tap to see or add comments on pin"),size:"20"})}),G>0&&(0,g.jsx)(m.xu,{marginStart:-1,children:(0,g.jsx)(m.xv,{inline:!0,color:"gray",children:G})})]})})}),(0,g.jsx)(m.xu,{flex:"none",display:"inlineBlock",children:(0,g.jsx)(c.Z,{pressState:"compress",onTouch:this.onSave,children:(0,g.jsx)(m.xu,{color:"red",rounding:"pill",position:"relative",children:(0,g.jsx)(m.xu,{paddingX:6,paddingY:5,children:(0,g.jsx)(m.xv,{color:"white",weight:"bold",children:this.props.i18n._("Save","Save the Pin to a board","Save the Pin to a board")})})})})}),(0,g.jsx)(m.kC,{flex:"grow",justifyContent:"end",width:"50%",children:(0,g.jsx)(r.Z,{name:"SafeSuspense_FullWidthPinCard_ContextualMenu",children:(0,g.jsx)(u.Z,{children:(0,g.jsx)(S,{feedback:j,feedbackType:T,getRecommendationDescription:k,pinId:v,sourceType:void 0,viewType:1,viewParameter:3349,pinImgSrc:W?W.url:"",bestPinImgSrc:W?W.url:"",pinDescription:B,pinTitle:P,pinCategory:N,imageSignature:F})})})})]})]})}}const T=(0,o.connect)((({pins:e,users:t},{pinId:n,pinnerId:i})=>({pin:e[n],pinner:t[i]})),(e=>({followUser:(t,n)=>e((0,b.ZN)(t,n)),unfollowUser:(t,n)=>e((0,b.fv)(t,n))})))((function(e){const t=(0,p.ZP)();return(0,g.jsx)(j,{...e,i18n:t})}));var k=n(891378),I=n(884272),P=n(410121),C=n(853051),E=n(455598),A=n(855168);class L extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>t=>{const{history:n}=this.props;t.preventDefault(),t.stopPropagation();const i=`/pin/${e}/`;n.push(i)},(n="handlePinChipClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{chips:e}=this.props;return(0,g.jsx)(m.xu,{marginTop:1,marginStart:-1,marginEnd:-1,position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"33.3%"}},children:(0,g.jsx)(m.xu,{display:"flex",justifyContent:"between",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:e.map((e=>{var t,n,i;const o=e.images["750x"]||{};return(0,g.jsx)(c.Z,{onTouch:this.handlePinChipClick(e.id),pressState:"none",fullWidth:!0,children:(0,g.jsx)(m.xu,{flex:"grow",height:"100%",paddingX:1,children:(0,g.jsx)(m.zd,{rounding:2,width:"100%",height:"100%",wash:!0,children:(0,g.jsx)(m.Ee,{alt:"",fit:"cover",naturalHeight:null!==(t=o.height)&&void 0!==t?t:1,naturalWidth:null!==(n=o.width)&&void 0!==n?n:1,src:null!==(i=o.url)&&void 0!==i?i:""})})})},e.id)}))})})}}const D=(0,A.EN)(L);var R=n(904192);const O=(e,t)=>{switch(e){case"arrow-up-right":return t._("Promoted Pin","Icon indicating this Pin is promoted","Icon indicating this Pin is promoted");case"play":return t._("Video Pin","Icon indicating this Pin is a video","Icon indicating this Pin is a video");case"gif":return t._("GIF Pin","Icon indicating this Pin is a GIF","Icon indicating this Pin is a GIF");case"star":return t._("Recipe Pin","Icon indicating this Pin is a recipe","Icon indicating this Pin is a recipe");case"tag":return t._("Product Pin","Icon indicating this Pin is a product","Icon indicating this Pin is a product");default:return""}};function N({icon:e,maxRating:t,rating:n,text:o}){const r=(0,p.ZP)();let a;if(e)switch(e){case"star":a=(0,g.jsx)(R.Z,{max_rating:t||"",rating:n||"",width:10});break;case"story-pin":a=(0,g.jsx)(m.xv,{color:"white",children:(0,g.jsx)(m.xu,{color:"darkGray",dangerouslySetInlineStyle:{__style:{padding:"1px 3px",borderRadius:"3px",textTransform:"uppercase",fontSize:"11px"}},children:r._("Story","Text indicating this Pin is a story","Text indicating this Pin is a story")})});break;default:a=(0,g.jsx)(m.xu,{alignItems:"center",display:"flex",marginEnd:1,children:(0,g.jsx)(m.JO,{accessibilityLabel:O(e,r),color:"darkGray",icon:e,inline:!0,size:10})})}return(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[a,o&&(0,g.jsx)(i.Fragment,{children:(0,g.jsx)(m.xu,{marginStart:1,overflow:"hidden",children:(0,g.jsx)(m.xv,{size:"sm",lineClamp:1,children:o})})})]})}var B=n(931185);const Z=({pinId:e})=>{var t;const n=(0,p.ZP)(),r=(0,o.useSelector)((({pins:e})=>e))[e];if(!r)return null;const{pinProduct:a}=(0,h.Fi)({i18n:n,pin:r,useGridTitleOrRichSummary:!1});if(!a||!a.price)return null;const s=a.standard_price||a.price,l=a.min_price||"",d=a.max_price||"",c=a.in_stock||!1,u=null===(t=r.rich_summary)||void 0===t?void 0:t.site_name,x=(0,B.Yc)()?"white":"darkGray",f=c?x:"gray";return(0,g.jsxs)(i.Fragment,{children:[u&&(0,g.jsx)(m.xv,{color:x,size:"sm",children:u}),(0,g.jsxs)(m.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[l&&d?(0,g.jsxs)(m.xv,{size:"sm",color:f,children:[l," - ",d]}):(0,g.jsx)(m.xv,{size:"sm",color:f,children:s}),!c&&(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(m.xu,{paddingX:1,children:(0,g.jsx)(m.xv,{size:"sm",color:f,children:"·"})}),(0,g.jsx)(m.xv,{size:"sm",color:f,children:n._("Out of stock","pinCard.priceLego.outOfStock","display if a product is out of stock")})]})]})]})};var F=n(555823),M=n(796821),H=n(164206),z=n(136662),U=n(641483),W=n(382745);const $=(0,i.lazy)((()=>n.e(67279).then(n.bind(n,967279)))),G=({title:e})=>{const t=(0,M.ZP)();return(0,g.jsx)(m.xv,{size:"desktop"===t?"lg":"sm",weight:"bold",children:e})},Y=({allowPriceIndicator:e,contextMenu:t,credits:n,description:a,hasAffiliatedProducts:l,isHubFeed:d,isPromotedPin:h,isSponsoredPin:x,isSquarePin:f,marginTop:y,marginStart:_,marginEnd:v,onCreditsClick:b,pinDescription:w,pinId:S,pinnedToBoardId:j,pinReactionCounts:T,pinTagsChips:k,recipeCookTime:I,recipeMaxRating:P,recipeRating:C,recipeReviewCount:L,shouldShowReactions:R,title:O,type:B})=>{var Y,V;const q=(0,p.ZP)(),X=(0,A.TH)(),K=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),J=(0,M.ZP)(),Q=O||a||"oneTap"===B,ee=(0,o.useSelector)((({pins:e})=>e[S])),te=(0,o.useSelector)((({boards:e})=>e[j||ee&&ee.board])),ne=(0,o.useSelector)((({users:e})=>ee&&ee.pinner&&e[ee.pinner])),ie=h&&ee.promoter===ee.native_creator,oe=ee.sponsorship?(0,g.jsx)(m.xv,{inline:!0,color:"darkGray",size:"sm",weight:"bold",children:null==n?void 0:n.subtitle}):void 0;return(0,g.jsxs)(i.Fragment,{children:[k&&k.length>0&&(0,g.jsx)(E.ZP,{name:"mweb_stl_grid_chips",children:({anyEnabled:e})=>e&&(0,g.jsx)(D,{chips:k})}),(0,g.jsxs)(m.xu,{display:"flex",height:f?e?104:72:void 0,marginEnd:v||1,marginStart:_||1,children:[(0,g.jsxs)(m.xu,{flex:"grow",children:[(0,g.jsx)(m.xu,{display:"flex",marginTop:y||1,children:(0,g.jsx)(m.xu,{flex:"grow",children:(0,g.jsxs)(i.Fragment,{children:[(0,g.jsxs)(i.Fragment,{children:[(x||l)&&!ie&&(0,g.jsx)(m.xu,{marginBottom:1,children:(0,g.jsx)(m.xu,{flex:"grow",overflow:"hidden",children:(0,g.jsx)(F.ZP,{hasAffiliatedProducts:l,isPromoted:h,sponsorName:oe,sponsorshipStatus:null===(Y=ee.sponsorship)||void 0===Y?void 0:Y.status})})}),O&&!d&&(0,g.jsx)(m.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:(0,g.jsx)(G,{title:O})}),"desktop"===J&&!K&&w&&!(0,W.$Y)(X)&&(0,g.jsx)(m.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,g.jsx)(m.xv,{size:"sm",inline:!0,children:w})})]}),e&&(0,g.jsx)(Z,{credits:n,pinId:S}),"recipe"===B&&!!L&&(0,g.jsx)(i.Fragment,{children:(0,g.jsxs)(m.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!L&&(0,g.jsx)(N,{icon:"star",maxRating:P||"",rating:C||"",text:""}),!!I&&(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(m.xu,{paddingX:1,children:(0,g.jsx)(m.xv,{size:"sm",children:"·"})}),(0,g.jsx)(m.xv,{size:"sm",children:(0,H.IS)({...(0,z.u)(I),i18n:q})})]})]})})]})})}),R&&T&&Object.keys(T).length>0&&(0,g.jsx)(m.xu,{height:18,children:(0,g.jsx)(r.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,g.jsx)(u.Z,{children:(0,g.jsx)($,{pinReactionCounts:T})})})}),n&&(0,g.jsx)(c.Z,{onTouch:e=>b&&b(e),pressState:"none",children:(0,g.jsxs)(m.xu,{display:"flex",marginTop:y||(Q?1:0),children:[(0,g.jsx)(m.xu,{flex:"none",children:(0,g.jsx)(s.Z,{name:n.title||"",size:"sm",src:n.mediumAvatar||n.avatar||void 0})}),(0,g.jsxs)(m.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,marginTop:2,children:[n.title&&(0,g.jsx)(m.xv,{lineClamp:1,size:"sm",weight:x&&!ie||l?"normal":"bold",children:n.title}),n.subtitle?(!x||ie)&&(0,g.jsx)(m.xv,{lineClamp:x||l?void 0:1,size:"desktop"===J?"md":"sm",weight:d||"desktop"===J?"bold":"normal",children:n.subtitle}):K?null:(0,g.jsx)(m.rU,{hoverStyle:"underline",href:te.url,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,U.NC)("click_board_pin_attribution_profile")},children:(0,g.jsx)(m.xv,{size:"md",children:te.name})})]})]})}),!n&&"desktop"===J&&!!ne&&((0,W.L6)(X)||(0,W.cD)(X)||(0,W.$Y)(X))&&(0,g.jsxs)(m.xu,{display:"flex",marginTop:Q?2:0,children:[(0,g.jsx)(m.xu,{flex:"none",children:(0,g.jsx)(s.Z,{name:ne.username||"",size:"sm",src:null!==(V=ne.image_small_url)&&void 0!==V?V:void 0})}),(0,g.jsxs)(m.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,children:[(0,g.jsx)(m.rU,{hoverStyle:"underline",href:`/${ne.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,U.NC)("click_board_pin_attribution_board")},children:(0,g.jsx)(m.xv,{size:"md",weight:"bold",children:ne.full_name||ne.username})}),(0,g.jsx)(m.rU,{hoverStyle:"underline",href:te.url,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,U.NC)("click_board_pin_attribution_profile")},children:(0,g.jsx)(m.xv,{size:"md",children:te.name})})]})]})]}),t]})]})},V=(0,i.lazy)((()=>n.e(34098).then(n.bind(n,634098)))),q=({inviteCode:e})=>{const t=(0,p.ZP)();return(0,g.jsx)(m.xu,{minHeight:82,children:(0,g.jsx)(r.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,g.jsx)(u.Z,{fallback:(0,g.jsx)(C.Z,{accessibilityLabel:t._("Loading Invitation component","Loading InviteFetch component","loading InviteFetch component")}),children:(0,g.jsx)(V,{invite_code:e,children:e=>{const n=e?e.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const o=n&&!n.is_default_image?n.image_medium_url:"",r=(0,y.nk)(t._("{{ name }} shared this idea with you","homefeed.pinSenderAvatar.heading","header notifying users that a sender ({{ name }}) shared a Pin to them"),{name:i});return(0,g.jsxs)(m.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,g.jsx)(m.zd,{height:32,width:32,children:(0,g.jsx)(s.Z,{name:i,src:o})}),(0,g.jsx)(m.xu,{width:"80%",paddingY:2,children:(0,g.jsx)(m.xv,{align:"center",size:"md",weight:"bold",children:r})})]})}})})})})};var X=n(704956),K=n(936734),J=n(458841),Q=n(227340);function ee({pin:e,board:t,pinner:n}){return(0,g.jsxs)(m.xu,{paddingX:2,marginBottom:3,display:"flex",children:[(0,g.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"3"}},flex:"grow",maxHeight:48,minHeight:12,overflow:"hidden",width:142,children:(0,g.jsx)(m.xv,{size:"sm",weight:"bold",children:(0,Q.fs)(e)||e.description})}),(0,g.jsx)(m.xu,{children:(0,g.jsx)(J.Z,{pin:e,board:t,pinner:n})})]})}var te=n(924731),ne=n(483064),ie=n(645430),oe=n(273298),re=n(244228),ae=n(642891),se=n(534435),le=n(553431),de=n(365217),ce=n(650744);const ue={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:1,transition:"opacity 1s ease"}},pe=(e,t,n)=>(0,g.jsx)(le.Z,{inline:!0,to:t,pressState:"background",children:(0,g.jsx)(m.xv,{color:"white",inline:!0,size:"md",weight:"bold",children:n})},e);function he({color:e,getFeedbackText:t,onUnfollow:n,pinId:r,showing:a,unfollowed:s,undoAction:l,undoActionOptions:d,viewParameter:c,viewType:u}){const h=(0,p.ZP)(),[x,f]=(0,i.useState)(a?"fadeIn":"initial"),y=(0,i.useRef)(null);(0,i.useEffect)((()=>("initial"===x&&a&&(y.current=window.requestAnimationFrame((()=>f("fadeIn")))),()=>{y.current&&window.cancelAnimationFrame(y.current)})),[x,f,a]);const _=(0,o.useDispatch)(),{subTitle:b,title:w,unfollow:S}=t(pe);let j=w,T=b;S&&s&&(j=S.title,T=S.subTitle);const k=()=>{let e=l,t=d;s&&S&&S.actionOptions&&S.action&&(t={...S.actionOptions,undo:!0},"unfollowPinner"===S.action?e="followPinner":"unfollowBoard"===S.action?e="followBoard":"unfollowTopic"===S.action&&(e="followTopic")),(0,de.tx)(e,t),_((0,ce.fH)(r,"")),(0,v.j)({event_type:101,view_type:u,view_parameter:c,component:0,element:11181})};return a&&(0,g.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...ue[x]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,g.jsx)(m.xu,{width:"100%",height:"100%",color:"darkGray",rounding:4,overflow:"auto",children:(0,g.jsxs)(m.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,g.jsxs)(m.xu,{children:[(0,g.jsx)(m.X6,{size:"sm",color:"white",children:j}),T&&(0,g.jsxs)(m.xu,{marginTop:1,children:[(0,g.jsx)(m.xv,{color:"white",size:"md",inline:!0,children:T}),(0,g.jsx)(le.Z,{to:"/edit",inline:!0,rounding:2,pressState:"background",children:(0,g.jsx)(m.xv,{color:"white",inline:!0,size:"md",weight:"bold",children:h._("Tune your home feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})})]})]}),!s&&S&&(0,g.jsx)(m.xu,{paddingY:1,children:(0,g.jsx)(m.zx,{fullWidth:!0,color:"white",text:h._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user"),onClick:()=>S?(0,de.tx)(S.action,S.actionOptions,n):void 0})}),(0,g.jsx)(E.ZP,{name:"mweb_undo_hiding_a_pin",activate:!0,children:({anyEnabled:e})=>e&&(s?(0,g.jsx)(m.xu,{paddingY:1,children:(0,g.jsx)(m.zx,{fullWidth:!0,color:"white",text:h._("Follow again","Text on the button to follow a specific board / user again","Text on the button to follow a specific board / user again"),onClick:k})}):!S&&!!l&&(0,g.jsx)(m.xu,{paddingY:1,children:(0,g.jsx)(m.zx,{fullWidth:!0,color:"white",text:h._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin"),onClick:k})}))})]})})})}var me=n(181307),ge=n(158961);function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fe=({isDesktop:e})=>e?0:1,ye=(0,i.lazy)((()=>Promise.all([n.e(67631),n.e(38202),n.e(81518),n.e(1057)]).then(n.bind(n,941656)))),_e=e=>Boolean(e.is_eligible_for_web_closeup),ve=e=>Boolean(e.promoter&&!e.is_downstream_promotion),be={width:1,height:1,url:""},we=e=>{const{attribution:t,embed:n,is_eligible_for_web_closeup:i,rich_summary:o,videos:r,story_pin_data_id:a}=e,s=n||t&&t.embed;return i?"oneTap":r||s&&"video"===s.type?"video":s&&"gif"===s.type?"gif":o&&"product"===o.type_name?"product":o&&"recipe"===o.type_name?"recipe":a?"storyPin":"image"},Se=e=>{if("video"===we(e)&&e.videos&&e.videos.video_list){const{duration:t=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,ae.ut)(t)}return""},je=(0,i.lazy)((()=>Promise.all([n.e(38202),n.e(42113),n.e(72077)]).then(n.bind(n,642113))));class Te extends i.Component{constructor(...e){super(...e),xe(this,"state",{startImpressionTimer:!1}),xe(this,"getPinImage",(()=>{const{pin:e,isSquarePin:t,shouldLimitResolution:n}=this.props;if(!e||!e.images)return be;if(n&&e.images["170x"])return e.images["170x"];var i;if(t)return{height:136,url:null===(i=e.images["236x"])||void 0===i?void 0:i.url,width:136};const o=["236x","170x","136x136","736x","474x","orig"];for(const r of o)if(e.images[r]&&e.images[r].url)return e.images[r];return be})),xe(this,"getImpressionData",(()=>{const{pin:e}=this.props,t=(0,d.Z)(e),n=t?{isNativeVideoAndWatchable:!!(t&&t.url&&t.height&&t.width)||void 0,videoIdStr:t&&e.videos?e.videos.id:void 0}:{},i=this.getPinImage();return{richTypes:e.shopping_flags||[],imageURL:i.url||"",...n,...this.props.impressionData}})),xe(this,"getAuxData",(()=>{const{auxData:e={},pin:t}=this.props;return{commerce_data:(0,k.Z)(t),pwa_type:"undefined"!=typeof window?(0,K.ZP)(window):"unknown",...e}})),xe(this,"getFeedbackType",(()=>{const{board:e,feedback:t,viewParameter:n,pin:i,pinner:o}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:t,viewParameter:n,pin:i,pinner:o})})),xe(this,"getRecommendationDescription",(e=>{const{board:t,pinner:n,promoter:i,pin:o}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:o.ad_match_reason,board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n,promoter:i,recommendationReason:o.recommendation_reason,sourceInterest:o.source_interest})})),xe(this,"getPinHiddenFeedbackText",(e=>{const{board:t,pin:n,pinner:i}=this.props,o=this.feedbackHelpers.getUnfollowAction({board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:i,sourceInterest:n.source_interest});return o?{title:this.props.i18n._("Pin hidden","message displayed after hiding a pin","message displayed after hiding a pin"),subTitle:this.getRecommendationDescription(e),unfollow:o}:{title:this.props.i18n._("Pin hidden","message displayed after hiding a pin","message displayed after hiding a pin"),subTitle:this.props.i18n._("Got it! We'll try to show you more relevant Pins in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}})),xe(this,"feedbackHelpers",(0,a.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:y.nk})),xe(this,"logOneTap",(()=>{const{pin:e,trackingParams:t,viewType:n,viewParameter:i,auxData:o}=this.props,r=(0,I.Z)(t,e),a={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:35,component:this.props.componentType,object_id_str:e.id,aux_data:{commerce_data:(0,k.Z)(e),grid_index:this.props.slotIndex,image_signature:e.image_signature,...this.props.auxData},clientTrackingParams:r};(0,v.j)({event_type:8948,view_type:n,view_parameter:i,object_id_str:e.id,clientTrackingParams:r,aux_data:{image_signature:e.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...o}}),(0,v.jC)(a),(0,v.j)({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:r,aux_data:{closeup_navigation_type:"web_closeup",image_signature:e.image_signature},object_id_str:e.id})})),xe(this,"markPinAsSeen",(()=>this.props.markPinAsSeen(this.props.pinId))),xe(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),xe(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),xe(this,"handleClick",(e=>{const{auxData:t,componentType:n,deviceType:i,pin:o,slotIndex:r,trackingParams:a,viewParameter:s,viewType:l,onPinClick:d,isAuth:c,unauthDesktopSignupModalPageContext:u}=this.props,p=e=>(0,U.ZP)(`unauth_pin_rep.${e}.${String(s)}`);if(p("click"),(0,v.ob)({view_type:l,view_parameter:s,element:35,component:n,object_id_str:o.id,clientTrackingParams:(0,I.Z)(a,o),aux_data:{commerce_data:(0,k.Z)(o),grid_index:r,image_signature:o.image_signature,...t}}),_e(o)||(0,v.j)({event_type:8948,view_type:l,view_parameter:s,object_id_str:o.id,clientTrackingParams:(0,I.Z)(a,o),aux_data:{image_signature:o.image_signature,commerce_data:(0,k.Z)(o),closeup_navigation_type:"click",grid_index:r,cosmic_ray_count:"3",...t}}),!c)switch(l){case 3:(0,U.NC)("click_pin_related_image"),(0,U.LW)({action:"click",item:"pin",page:"pin"});break;case 5:(0,U.NC)("click_board_pin_image"),(0,U.LW)({action:"click",item:"pin",page:"board"});break;case 210:(0,U.NC)("click_topic_pin_image"),(0,U.LW)({action:"click",item:"pin",page:"topic"})}if(_e(o)&&this.logOneTap(),d&&d(),"desktop"===i){if(e.metaKey){p("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${o.id}/`,"_blank").focus()}else if(!c&&u){const{pinImageClickHandler:t}=u;t({event:e,pin:o,linkTarget:"duploClientNav"})}}})),xe(this,"handleCreditsClick",(e=>{var t;const{history:n,pin:i}=this.props,{id:o,sponsorship:r,story_pin_data_id:a}=i,{creator:s,sponsor:l}=r||{},{id:d}=s||{},{id:c}=l||{},u=!!a;e.stopPropagation(),e.preventDefault();const p=null===(t=this.getCredits())||void 0===t?void 0:t.link;p&&n.push(p),(0,v.So)({view_type:3,element:27,object_id_str:o,component:u?230:void 0,aux_data:{pin_id:o,...d&&c?{creator_id:d,sponsor_id:c}:{}}})})),xe(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed(this.props.pin.id))),xe(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:t,board:n,setSharingOnBoardPage:i}=this.props;n&&t&&i&&n.isSocialSeasonalBoard&&i(!0,"pin",t.id)})),xe(this,"isOverrideImageOnly",(()=>{const{pin:{rich_summary:e},viewer:t,viewParameter:n}=this.props,i=3375===n;return e&&43===n&&!(0,oe.EO)(t)||i})),xe(this,"convertToGif",(e=>{const t=Math.max(e.embed&&e.embed.width||0,236),n=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:t,height:n}}))}componentDidMount(){const{isAuth:e,slotIndex:t,pin:n,viewParameter:i,location:o}=this.props;if(!e&&0===t&&3070===i){const e=o.pathname;(0,ne.H$)(e,n)}}getIsClaimedContent(){var e,t;const{pin:n,viewParameter:i}=this.props;return 3375===i&&!(null===(e=n.link_domain)||void 0===e||null===(t=e.official_user)||void 0===t||!t.is_primary_website_verified)}getCredits(){const{board:e,nativeCreator:t,pin:n,pinner:i,promoter:o,storyPin:r,viewParameter:a}=this.props,s=null==r?void 0:r.has_product_pins,l=0===a,d=3475===a,c=3173===a,u=3375===a,p=this.getIsClaimedContent(),h=!!n.native_creator,m=ve(n),{sponsorship:g}=n,{creator:x,sponsor:f}=g||{},y=m&&!!g&&o.id!==t.id,_=!!g&&x;if(!(m||_||l||c||h||p))return;switch(y?"PROMOTED_SPONSORED":m?"PROMOTED":_?"SPONSORED":h?"AFFILIATED_PRODUCTS":s?"NATIVE_CONTENT":p?"CLAIMED_CONTENT":e&&"protected"===e.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:t.full_name,subtitle:o.full_name,avatar:this.getPinnerImage(t.image_small_url),mediumAvatar:this.getPinnerImage(t.image_medium_url),link:`/${t.username}/`};case"PROMOTED":return{title:this.props.i18n._("Promoted by","Grid pin annotation","Grid pin annotation"),subtitle:o.full_name,avatar:this.getPinnerImage(o.image_small_url),mediumAvatar:this.getPinnerImage(o.image_medium_url),link:`/${o.username}/`};case"SPONSORED":if(!g)throw new Error("sponsorship doesn't exist when expected");return{title:t.full_name,subtitle:null==f?void 0:f.full_name,avatar:this.getPinnerImage(t.image_small_url),mediumAvatar:this.getPinnerImage(t.image_medium_url),link:`/${t.username}/`};case"AFFILIATED_PRODUCTS":return{title:t.full_name,subtitle:"",avatar:this.getPinnerImage(t.image_small_url),mediumAvatar:this.getPinnerImage(t.image_medium_url),link:`/${t.username}/`};case"NATIVE_CONTENT":let r=(null==e?void 0:e.url)||`/pin/${n.id}/`;return(u||d)&&(r=`/${t.username}/`),{title:d?this.props.i18n._("Created by","created by label for story pins","created by label for story pins"):"",subtitle:t.full_name,avatar:this.getPinnerImage(t.image_small_url),mediumAvatar:this.getPinnerImage(t.image_medium_url),link:r};case"CLAIMED_CONTENT":const{link_domain:a}=n,{official_user:s}=a||{};return s?{subtitle:s.full_name,avatar:this.getPinnerImage(s.image_small_url),mediumAvatar:this.getPinnerImage(s.image_medium_url),link:s.username?`/${s.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._("Saved by","Grid pin annotation","Grid pin annotation"),subtitle:"",avatar:this.getPinnerImage(null==i?void 0:i.image_small_url),mediumAvatar:this.getPinnerImage(null==i?void 0:i.image_medium_url),link:(null==e?void 0:e.url)||`/pin/${n.id}/`};default:return{title:(null==i?void 0:i.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==i?void 0:i.image_small_url),mediumAvatar:this.getPinnerImage(null==i?void 0:i.image_medium_url),link:(null==e?void 0:e.url)||`/pin/${n.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:t,viewedSharedPins:n,pinId:i}=this.props;return 92===t?null===(e=n&&n[i])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:t,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==t?void 0:t.display_name,description:n}}renderPinCard(){var e;const{board:t,country:n,componentType:i,disableAppUpsell:o,disablePinCardPadding:a,disableRounding:s,disableReaction:l,deviceType:p,feedback:x,history:f,imageOnly:y,i18n:_,isAuth:v,isFocusPin:b,isFullWidth:w,isOneTapExploreLocalTab:S,isSquarePin:j,isImageOnlyExp:k,location:E,marginBottom:A,marginStart:L,marginEnd:D,onPinLinkClick:R,onVolumeChange:O,oneTapSave:N,pin:B,storyPin:Z,pinner:F,promoter:M,pinCardDetailsMarginTop:H,slotIndex:z,trafficSource:U,viewParameter:W,viewType:$,showSeoMetadata:G,topLevelTrafficSource:V,topLevelTrafficSourceDepth:K,undoAction:J,undoActionOptions:ne,trackingParams:oe,vaseDisplayMode:ae}=this.props,{aggregated_pin_data:se,category:le,image_signature:de,rich_summary:ce,title:ue,sponsorship:pe}=B,{description:me,title:ge}=this.getPinText(),xe="desktop"===p,be=we(B),Te=0===W,ke=3475===W,Ie=ve(B),Pe=!!pe,Ce=null==Z?void 0:Z.has_product_pins,Ee=(0,I.Z)((E&&E.state||{}).trackingParams||oe,B),Ae=k&&!this.isOverrideImageOnly(),Le=t&&t.isSocialSeasonalBoard,De=this.getPinImage(),Re=Le&&"gif"===be?this.convertToGif(B):De,Oe=(0,d.Z)(B),Ne=(0,Q.hP)(null!==(e=B.description)&&void 0!==e?e:"",B.description_html||"",B.pin_join),{annotationsWithLinks:Be}=(0,Q.eK)(B),Ze=v?me:(0,P.Z)(B),Fe=!l&&(0,re.J6)(B)&&!ke,Me=!v&&!!B.story_pin_data_id&&!!B.seo_url;let He;if(He=_e(B)?B.tracked_link||B.link:Me?B.seo_url:`/pin/${B.id}/`,3474===W)return(0,g.jsx)(r.Z,{name:"SafeSuspense_Pin_VideoFeedPinCard",children:(0,g.jsx)(u.Z,{fallback:(0,g.jsx)(C.Z,{accessibilityLabel:this.props.i18n._("Loading Videos Feed Pin","Loading Videos Feed Pin component","Loading Videos Feed Pin component")}),children:(0,g.jsx)(ye,{bestPinImgSrc:(0,h.P0)(B),color:B.dominant_color,componentType:i,feedback:x,feedbackType:this.getFeedbackType(),image:Re,imageAltText:Ne,imageSignature:de,isFocusPin:b,onReady:this.handleLoad,onVideoClick:this.handleClick,onVolumeChange:O,pinId:B.id,pinReactionCounts:B.reaction_counts,mp4Video:Oe,hlsVideo:B.videos&&B.videos.video_list&&B.videos.video_list.V_HLSV4,title:ge,trackingParams:oe,type:be,viewParameter:W,viewType:$})})});{var ze,Ue,We,$e,Ge,Ye,Ve,qe;const e=!me||Ae&&!Te?void 0:me.trim(),i=this.getSharedHeaderInviteCode(),l={country:n,deeplinkUri:Me?B.seo_url:`pin/${B.id}`,external:_e(B),externalQueryParams:{pin:B.id,client_tracking_params:oe},isAppUpsellDisabled:o,onTouch:this.handleClick,pinCategory:B.category,pressState:w||"none",rounding:4,title:this.props.i18n._("See this Pin","App Upsell Text after clicking on Pin in feed","App Upsell Text after clicking on Pin in feed"),to:{pathname:He,state:{trackingParams:oe,trafficSource:U,topLevelTrafficSource:V,topLevelTrafficSourceDepth:K}},upsellType:"direct",viewParameter:W,viewType:$,clientTrackingParams:Ee},d=fe({isDesktop:xe});return(0,g.jsxs)(m.xu,{"data-test-id":"pin","data-test-pin-id":B.id,marginBottom:A||(xe?0:2),children:[w?(0,g.jsx)(ie.MZ,{...l,children:(0,g.jsx)(m.xu,{padding:d,marginBottom:0,children:(0,g.jsx)(T,{feedback:x,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,history:f,pinId:B.id,pinnerId:F?F.id:"",slotIndex:z,type:be})})}):(0,g.jsxs)(m.xu,{padding:a?0:d,marginBottom:0,children:[(0,g.jsxs)(ie.MZ,{...l,children:[!!i&&(0,g.jsx)(q,{inviteCode:i}),(0,g.jsx)(X.Z,{clientTrackingParams:Ee,color:null!==(ze=B.dominant_color)&&void 0!==ze?ze:"",description:e,domainLinkData:B.domain&&B.link?{clickLoggingOptions:{auxData:{objectId:B.id,grid_index:z,sanitized_url:B.link}},domain:B.domain,link:B.link,onClick:R}:void 0,disableRounding:s,hideBottomCardText:Le,image:Re,imageAltText:Ne,imageCrop:B.image_crop,isMessenger:Le,isOneTapExploreLocalTab:S,isSquarePin:j,onError:this.handleError,oneTapSave:N,onLoad:this.handleLoad,pinId:B.id,pinnedToBoardId:(null===(Ue=B.pinned_to_board)||void 0===Ue?void 0:Ue.id)||"",pinVideo:Le&&Oe||void 0,slotIndex:z,storyData:Z,title:!Ae||Te?ge:void 0,type:be,videoDuration:Se(B),viewType:$})]}),(ke||!y&&(v||"desktop"===p)||"shop_feed_auth_and_unauth_mweb_override"===U)&&(0,g.jsxs)(m.xu,{children:["desktopParity"===ae&&Be&&(0,g.jsx)(te.Z,{annotations:Be,mode:"inlineWithScrollArrows"}),(0,g.jsx)(ie.MZ,{...l,children:(0,g.jsx)(Y,{allowPriceIndicator:["shop_feed","shop_feed_auth_and_unauth_mweb_override"].includes(U),marginTop:H,contextMenu:v?(0,g.jsx)(m.xu,{marginStart:1,marginTop:H,children:(0,g.jsx)(m.xu,{height:26,width:24,children:(0,g.jsx)(r.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,g.jsx)(u.Z,{children:(0,g.jsx)(je,{adMatchReason:B.ad_match_reason,bestPinImgSrc:(0,h.P0)(B),feedback:x,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,imageSignature:de,pinCategory:le,pinDescription:Ze,pinId:B.id,pinImgSrc:Re.url,pinTitle:ue,sourceType:Ie?"ad":Te?"following":void 0,viewParameter:W,viewType:$,trackingParams:oe})})})})}):null,credits:this.getCredits(),description:e,hasAffiliatedProducts:Ce,isHubFeed:ke,isPromotedPin:Ie,isSponsoredPin:Pe,isSquarePin:j,marginStart:L,marginEnd:D,onCreditsClick:this.handleCreditsClick,pinDescription:Ze,pinId:B.id,pinnedToBoardId:(null===(We=B.pinned_to_board)||void 0===We?void 0:We.id)||"",pinReactionCounts:B.reaction_counts,pinTagsChips:(se||{}).pin_tags_chips,promoterName:M.full_name,recipeCookTime:Ae?void 0:B.rich_summary&&B.rich_summary.display_cook_time,recipeMaxRating:Ae||null==ce||null===($e=ce.aggregate_rating)||void 0===$e?void 0:$e.best_rating,recipeRating:Ae||null==ce||null===(Ge=ce.aggregate_rating)||void 0===Ge?void 0:Ge.rating_value,recipeReviewCount:Ae||null==ce||null===(Ye=ce.aggregate_rating)||void 0===Ye?void 0:Ye.review_count,shouldShowReactions:Fe,title:ge,type:be})})]})]}),(null==t?void 0:t.isSocialSeasonalBoard)&&v&&(0,g.jsx)(m.xu,{color:"lightGray",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,g.jsx)(c.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,g.jsx)(m.xu,{padding:3,children:(0,g.jsx)(m.xv,{align:"center",weight:"bold",children:_._("Send")})})})}),"reported"===B.feedback_status?(0,g.jsx)(he,{color:null!==(Ve=B.dominant_color)&&void 0!==Ve?Ve:"",getFeedbackText:()=>({title:this.props.i18n._("Reported","message displayed after reporting a pin","message displayed after reporting a pin"),subTitle:this.props.i18n._("Thanks! Your feedback helps us keep the Pinterest community safe.","message displayed after reporting a pin","message displayed after reporting a pin")}),pinId:B.id,showing:!!B.feedback_status}):(0,g.jsx)(he,{color:null!==(qe=B.dominant_color)&&void 0!==qe?qe:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:B.id,showing:!!B.feedback_status,undoAction:J,undoActionOptions:ne,unfollowed:"unfollowed"===B.feedback_status,viewParameter:W,viewType:$}),G&&"inlineHidden"===ae&&(0,g.jsx)(ee,{pin:B,board:t,pinner:F})]})}}render(){const{componentType:e,pin:t,trackingParams:n,viewParameter:i,viewType:o,slotIndex:r,objectIdStr:a,viewData:s}=this.props,{startImpressionTimer:l}=this.state;return t?(0,g.jsx)(_.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!l,loggingId:t.id,objectIdStr:a,onTracked:this.markPinAsSeen,slotIndex:r,trackingParams:n,viewData:s,viewParameter:i,viewType:o,children:this.renderPinCard()}):null}}const ke=(0,o.connect)((({boards:e,experiences:t,pins:n,session:i,users:o,storyPins:r},a)=>{const s=n[a.pinId]||null,l=s&&s.story_pin_data_id?r[s.story_pin_data_id]:void 0,d=t[1000107];return{board:s&&e[s.board],country:i.country,hasPoorConnection:i.hasPoorConnection,isAuth:i.isAuthenticated,isImageOnlyExp:d&&500678===d.experience_id,pin:s,storyPin:l,pinner:s&&o[s.pinner],promoter:null!=s&&s.promoter&&o[s.promoter]||{},undoAction:s&&s.undoAction,undoActionOptions:s&&s.undoActionOptions,viewer:o[i.userId],viewedSharedPins:i.viewedSharedPins,nativeCreator:null!=s&&s.native_creator&&o[s.native_creator]||{}}}),((e,{viewParameter:t,viewType:n})=>({markPinAsSeen:i=>e((0,ce.DX)({pinId:i,viewParameter:t,viewType:n})),markPinUnfollowed:t=>e((0,ce.fH)(t,"unfollowed")),setSharingOnBoardPage:(t,n,i)=>e((0,se.Mj)(t,n,i))})))((function(e){const t=(0,p.ZP)(),n=(0,ge.g)(),i=(0,me.tc)("mweb_web_android_ios_backend_clbc_display_controls"),o=(0,me.tc)("mweb_web_android_ios_clbc_eu_ad_string"),r=(0,M.ZP)();return(0,g.jsx)(Te,{...e,deviceType:r,activateEUSponsorshipDisclosureExp:o,activateSponsorshipDisclosureExp:i,unauthDesktopSignupModalPageContext:n,vaseDisplayMode:"desktop"===r?"desktopParity":"inlineHidden",i18n:t})}))},704956:(e,t,n)=>{n.d(t,{Z:()=>E});var i=n(667294),o=n(40142),r=n(363167),a=n(544039),s=n(494936),l=n(174523),d=n(883119),c=n(708206),u=n(650744),p=n(114978),h=n(855168),m=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends i.PureComponent{constructor(...e){var t;super(...e),t=this,g(this,"state",{saveState:void 0}),g(this,"legoFixedZIndex",new d.Ry(2)),g(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:i,oneTapSave:o,pinId:r,pinnedToBoardId:a,showToast:s,viewType:l}=t.props;try{const i=await n((0,u.wh)({i18n:t.props.i18n,pinId:r,boardId:null==o?void 0:o.boardId,isOneTapSave:!0,onUndo:()=>{t.onDeletePin()},section:null==o?void 0:o.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:a},viewType:l}));t.setState({saveState:"saved"}),n((0,p.a1)({boardId:null==o?void 0:o.boardId,localPinId:i.id,pinId:r}))}catch(d){s({isError:!0,text:d.message||i._("Sorry! Something went wrong on our end.","error during repin","error during repin")}),t.setState({saveState:void 0})}})),g(this,"onDeletePin",(async function(){const{dispatch:e,i18n:n,pinId:i,savedInfo:o,showToast:r}=t.props;if(o){e((0,p.kQ)({boardId:o.boardId,localPinId:o.localPinId,pinId:i}));try{await e((0,u.q$)(o.localPinId,o.boardId)),r({text:n._("Pin deleted!","User deleted their pin","User deleted their pin")}),t.setState({saveState:void 0})}catch(a){r({isError:!0,text:n._("Sorry! There was an error deleting your Pin.","Error when user tried to delete pin","Error when user tried to delete pin")}),t.setState({saveState:"saved"})}}})),g(this,"handlePinAction",(({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:n,pinId:i,isOneTapExploreLocalTab:o,pinnedToBoard:r}=this.props;["saving","deleting"].includes(t)||o&&r||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),o?n.push({pathname:`/pin/${i}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))})),g(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:n})=>e?!!t:!!n))}render(){const{children:e,clientTrackingParams:t,homepageExperience:n,i18n:o,isInQuickSaveExperience:a,isOneTapExploreLocalTab:s,isRTL:l,location:c,oneTapSave:u,pinId:p,pinnedToBoard:h,pinnedToBoardId:g,savedInfo:x,shouldShowSaveHandoffExp:f}=this.props;if(!(u||s||a||f))return e;const y=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:s,pinnedToBoard:h,savedInfo:x}),_="#000",v="rgba(255, 255, 255, 0.8)",b="white",w="darkGray";return(0,m.jsxs)(i.Fragment,{children:[e,(0,m.jsx)(d.xu,{bottom:!0,left:l,padding:2,position:"absolute",right:!l,zIndex:this.legoFixedZIndex,children:a||f?(0,m.jsx)(r.Z,{buttonText:!!h&&o._("Saved","OneTapSave.QuickSaveButton.Saved","Message on saved pin"),clientTrackingParams:t,color:h?"white":"red",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:g,minWidth:54,pinId:p,shape:"pill",shouldShowSavedButton:!!h,to:{pathname:`/pin/${p}/repin/`,state:{trackingParams:c.state?c.state.trackingParams:""}},showSaveHandoffExperience:f}):(0,m.jsx)(d.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,m.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?_:v}},padding:2,rounding:"circle",children:(0,m.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,m.jsx)(d.JO,{accessibilityLabel:y?o._("saved","checkmark icon to show pin has been saved","checkmark icon to show pin has been saved"):o._("save","button for saving quickly with one click","button for saving quickly with one click"),icon:y?"check":"add",color:y?b:w,size:"24"})})})})})]})}}const f=(0,c.compose)((0,o.connect)(((e,{pinId:t})=>({savedInfo:e.pins[t]&&e.pins[t].savedInfo,pinnedToBoard:e.pins[t]&&e.pins[t].pinned_to_board,homepageExperience:e.experiences[40001]}))),a.Z,h.EN)((function(e){var t;const n=(0,l.ZP)(),i=(0,s.$4)(null===(t=e.homepageExperience)||void 0===t?void 0:t.experience_id),{isRTL:r}=(0,o.useSelector)((({session:e})=>e)),a=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),d=(0,o.useSelector)((({session:e})=>e.isAuthenticated))&&!!a&&a===e.pinId;return(0,m.jsx)(x,{...e,i18n:n,isInQuickSaveExperience:i,shouldShowSaveHandoffExp:d,isRTL:r})}));f.displayName="OneTapSave";const y=f;var _=n(974142),v=n(946753),b=n(181307);function w({boardUrl:e,boardName:t,isQuicksave:n,sectionName:i,sectionSlug:o}){const r=(0,l.ZP)(),a=(0,h.k6)(),s=(0,b.tc)("mweb_curation_save_behavior"),c=(0,b.tc)("mweb_boardless_pins"),u=n&&(s({dangerouslySkipActivation:!0}).anyEnabled||c({dangerouslySkipActivation:!0}).anyEnabled),p=new d.Ry(1),g=!!o&&`${e}${o}/`;return(0,m.jsx)(d.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:p,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,m.jsx)(d.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,m.jsx)(d.iP,{onTap:t=>{t.event.preventDefault(),a.push(u?"/me/":g||e)},children:(0,m.jsx)(d.xv,{color:"white",children:i?(0,v.nk)(r._("Saved to {{sectionName}}","PinCard.SavedToSection.Overlay","Saved to section overlay"),{sectionName:(0,m.jsx)(d.xv,{color:"white",weight:"bold",inline:!0,children:(0,_.ZP)(i,22)},`pincard-${i}`)}):(0,v.nk)(r._("Saved to {{boardName}}","PinCard.SavedToBoard.Overlay","Saved to board overlay"),{boardName:(0,m.jsx)(d.xv,{color:"white",weight:"bold",inline:!0,children:u?r._("Profile","PinCard.SavedToProfile.Overlay",'Part of string saying "Saved to Profile" after saving a Pin'):(0,_.ZP)(t,22)},`pincard-${t}`)})})})})})}var S=n(274792),j=n(796821),T=n(158961),k=n(677415);const I=({domainLinkData:e})=>{const t=(0,l.ZP)(),n=(0,T.g)();return(0,m.jsxs)(d.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,color:"transparentDarkGray",children:[(0,m.jsx)(d.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,m.jsx)(d.X6,{size:"sm",align:"center",color:"white",children:t._("Open","Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.","Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.")})}),!!e&&(0,m.jsx)(d.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",children:(0,m.jsx)(k.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})},P=({width:e,height:t,minY:n,maxY:i})=>{const o=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:n<=0?"0%":o(-1*n*t),bottom:i>=1?"0%":o(-1*(1-i)*t)}},C=({children:e,margin:t,disableRounding:n})=>(0,m.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative",children:(0,m.jsx)(d.zd,{wash:!0,rounding:n?0:4,children:e})}),E=({clientTrackingParams:e,color:t,description:n,domainLinkData:r,hideBottomCardText:a,image:c,imageAltText:u,imageCrop:p,isMessenger:h,isOneTapExploreLocalTab:g,isSquarePin:x,onError:f,oneTapSave:_,onLoad:v,pinId:T,pinnedToBoardId:k,pinVideo:E,disableRounding:A,slotIndex:L,storyData:D,title:R,type:O,videoDuration:N,viewType:B})=>{var Z,F,M,H,z,U,W,$,G;const Y=(0,l.ZP)(),{isRTL:V}=(0,o.useSelector)((({session:e})=>e)),{group:q}=(0,b.aq)("mweb_image_lazy_loading"),[X,K]=(0,i.useState)(!1),J=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),Q=(0,o.useSelector)((({experiences:e})=>e[40001])),ee=(0,s.$4)(null==Q?void 0:Q.experience_id),te=ee&&0===(null===(Z=Q.display_data)||void 0===Z?void 0:Z.pin_count),ne=0===L&&ee&&te,ie=(0,j.ZP)(),oe=(0,o.useSelector)((({pins:e})=>e[T])),re=(0,o.useSelector)((({boards:e})=>e[k||oe&&oe.board])),ae=k&&oe.savedThisSession,se=r&&r.link?"with-link":"without-link",le=!J&&"desktop"!==ie,de=(0,m.jsx)(d.Ee,{alt:u||R||n||"",color:t,naturalHeight:null!==(F=c.height)&&void 0!==F?F:1,naturalWidth:null!==(M=c.width)&&void 0!==M?M:1,onError:f,onLoad:v,src:null!==(H=c.url)&&void 0!==H?H:"",loading:(q.includes("eager")?"eager":q.includes("lazy")&&"lazy")||"auto",fit:x?"cover":void 0}),ce=x?(0,m.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,m.jsx)(d.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:de})}):de;return(0,m.jsxs)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:[(0,m.jsxs)(d.xu,{"data-test-id":`pincard-${O}-${se}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:le?void 0:()=>K(!0),onMouseLeave:le?void 0:()=>K(!1),position:"relative",rounding:A?0:4,children:[(0,m.jsxs)(y,{clientTrackingParams:e||"",oneTapSave:_,isOneTapExploreLocalTab:g,pinId:T,pinnedToBoardId:k,viewType:B,children:["gif"===O&&!a&&!ae&&(0,m.jsx)(S.Z,{text:Y._("GIF","pin.pinCard.gifIconIdentifier","pin type identifier for gifs")}),"video"===O&&N&&!a&&!ae&&(0,m.jsx)(S.Z,{text:N}),"storyPin"===O&&D&&"number"==typeof D.page_count&&D.page_count>0&&!ae&&(0,m.jsx)(S.Z,{icon:"story-pin",text:D.page_count.toString()}),(0,m.jsx)(C,{disableRounding:A,margin:p?P({width:null!==(z=c.width)&&void 0!==z?z:1,height:null!==(U=c.height)&&void 0!==U?U:1,minY:p.min_y,maxY:p.max_y}):void 0,children:"video"===O&&h&&E?(0,m.jsx)(d.nk,{accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityUnmuteLabel:"",aspectRatio:E.width/E.height,captions:"",loop:!0,playing:!0,playsInline:!0,poster:null!==(W=c.url)&&void 0!==W?W:"",src:E.url,volume:0}):ce})]}),X&&!J&&(0,m.jsx)(I,{domainLinkData:r}),J&&ae&&(0,m.jsx)(w,{boardName:re.name,boardUrl:re.url,sectionName:null==_||null===($=_.section)||void 0===$?void 0:$.title,sectionSlug:null==_||null===(G=_.section)||void 0===G?void 0:G.slug,isQuicksave:"quick_saves"===re.layout})]}),ne&&(0,m.jsx)(d.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{bottom:-30,left:V?-18:void 0,right:V?void 0:-18,pointerEvents:"none"}},children:(0,m.jsx)(d.o3,{size:120})})]})}},274792:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(174523),o=n(931185),r=n(883119),a=n(785893);function s({text:e,icon:t}){const n=(0,i.ZP)();return(0,a.jsxs)(r.xu,{zIndex:new r.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,o.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,height:24,top:!0,children:[t&&(0,a.jsx)(r.xu,{marginEnd:1,children:(0,a.jsx)(r.JO,{accessibilityLabel:n._("identifier that shows the pin type","pin.pincard.iconAccessibilityLabel","shows an icon with the pin type"),color:"darkGray",icon:t,inline:!0,size:12})}),(0,a.jsx)(r.xv,{inline:!0,size:"sm",weight:"bold",children:e})]})}},244228:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function r(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:o,board:r}=e;return!(i||n||(!t||!t.id)&&!o||r&&r.is_collaborative)}n.d(t,{At:()=>i,Ud:()=>o,J6:()=>r})},769899:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(40142),o=n(855168),r=n(964964),a=n(785893);function s({children:e,name:t,noCache:n,options:s,selector:l,schema:d}){const c=(0,r.Wf)({name:t,options:s,schema:d,noCache:n}),{error:u,...p}=c,h=(0,r.EM)(c),m=(0,i.useSelector)(l||(()=>{}));return h?(0,a.jsx)(o.l_,{to:h}):e({...p,selected:m})}},711057:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},458841:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(40142),r=n(553431),a=n(288453),s=n(641483),l=n(174523),d=n(924731),c=n(931185),u=n(796821),p=n(227340),h=n(883119),m=n(785893);function g({board:e,pinner:t}){var n,i;if(!e.url||!e.name)return null;const o=e.url.split("/")[1],a=t&&t.full_name?t.full_name:o,s=t&&(t.image_small_url||t.image_large_url);return(0,m.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[s?(0,m.jsx)(r.Z,{to:`/${o}/`,inline:!0,pressState:"compress",children:(0,m.jsx)(h.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,children:(0,m.jsx)(h.Ee,{naturalHeight:32,naturalWidth:32,alt:a,fit:"cover",color:"rgb(231, 186, 176)",src:s})})},"profile-link"):null,(0,m.jsxs)(h.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(h.xv,{color:"darkGray",inline:!0,size:"md",weight:"bold",children:(0,m.jsx)(r.Z,{to:`/${o}/`,inline:!0,pressState:"compress",children:a},"profile-link")},"profileLink"),(0,m.jsx)(h.xv,{color:"darkGray",inline:!0,size:"md",children:(0,m.jsx)(r.Z,{to:null!==(n=e.url)&&void 0!==n?n:"",inline:!0,pressState:"compress",children:null!==(i=e.name)&&void 0!==i?i:""},"board-link")},"boardLink")]})]})}function x({annotations:e,board:t,description:n,pinner:i,title:o}){return(0,m.jsxs)(h.xu,{children:[(0,m.jsx)(h.xu,{marginBottom:2,children:e.length>0&&(0,m.jsx)(d.Z,{annotations:e,mode:"expanded"})}),(0,m.jsx)(h.xu,{marginBottom:3,children:(0,m.jsxs)(h.xu,{as:"figcaption",children:[(0,m.jsx)(h.X6,{color:"darkGray",size:"sm",accessibilityLevel:3,children:o}),(0,m.jsx)(h.xu,{height:4}),(0,m.jsx)(h.xv,{color:"darkGray",children:n})]})}),!!t&&(0,m.jsx)(g,{board:t,pinner:i})]})}function f({pin:e,board:t,iconColor:n,pinner:r,size:d}){const g=(0,l.ZP)(),{unauthInterstitialDismissed:f,isSeoBot:y}=(0,o.useSelector)((({session:e})=>e)),[_,v]=(0,i.useState)(!1),b=(0,u.HG)(),{annotationsWithLinks:w,description:S}=(0,p.eK)(e),j=(0,p.fs)(e)||e.description,T=!b,k=(0,m.jsx)(h.xu,{color:(0,c.Yc)()?"darkGray":"white",dangerouslySetInlineStyle:{__style:{border:(0,c.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:T?"100%":"100vw",zIndex:new h.Ry(1),children:(0,m.jsxs)(h.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:f?0:12,children:[(0,m.jsx)(h.xu,{left:!0,position:"absolute",top:!0,color:"white",padding:4,children:(0,m.jsx)(h.hU,{accessibilityLabel:g._("Cancel","close modal icon","close modal icon"),icon:"cancel",size:"sm",onClick:()=>{(0,s.ZP)("mweb.unauth.see_more.dismissed"),v(!1)}})}),(0,m.jsx)(h.xu,{marginBottom:8,children:(0,m.jsx)(h.xv,{align:"center",weight:"bold",children:(0,m.jsx)("span",{className:"deprecatedTextSizeXL",children:g._("More information","more information label","more information label")})})}),(0,m.jsx)(x,{annotations:w,board:t,description:S,pinner:r,title:j})]})});return(0,m.jsxs)(h.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,m.jsx)(h.hU,{accessibilityLabel:g._("See more","more information icon","more information icon"),icon:"ellipsis",iconColor:n,size:d||"md",onClick:({event:e})=>{e.stopPropagation(),(0,s.ZP)("mweb.unauth.see_more.shown"),v(!0)}}),y&&T?(0,m.jsx)(h.xu,{display:_?"flex":"none",children:k}):(0,m.jsx)(a.Z,{childPaddingX:0,childPaddingY:0,hideCloseIcon:!0,isOpen:_,children:k})]})}},555823:(e,t,n)=>{n.d(t,{jY:()=>l,ZP:()=>d});var i=n(174523),o=n(883119),r=n(181307),a=n(946753),s=n(785893);const l=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:d,textColor:c}){const u=(0,i.ZP)(),p=(0,r.tc)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;let h;t?h=(0,a.nk)(u._("Promoted by {{ name }}","sponsorship.sponsorshipText.promotedByBrand","indicating the username of the person who promoted the pin"),{name:n}):d||0===d?h=n&&!l.includes(d)?(0,a.nk)(u._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:n}):u._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated"):e&&(h=u._("Includes sponsored products","sponsorship.sponsorshipText.affiliatedProducts","Subtext of pincard attribution for a pin with affiliated products"));const m=p&&!t?"Ad • ":"";return(0,s.jsxs)(o.xv,{color:c,size:"sm",children:[m,h]})}},648228:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(861106),r=n(883119),a=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(...e){super(...e),s(this,"onScroll",(0,o.Z)((e=>{if(this.anchorElement){const e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter())}}),this.props.throttleTime||100)),s(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,a.jsx)(r.xu,{ref:e=>{this.anchorElement=e},children:e})}}const d=l},378825:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(427908),o=n(855168),r=n(883119),a=n(785893);function s({hideOverflow:e,items:t,onChange:n,replace:s=!1,selectedTabIndex:l}){const d=(0,o.k6)();if(t.length<=0)return null;return(0,a.jsx)(i.Z,{children:(0,a.jsx)(r.xu,{overflow:e?"hidden":"scrollX",paddingX:2,paddingY:1,"data-test-id":"page-tabs",children:(0,a.jsx)(r.mQ,{activeTabIndex:l,onChange:({event:e,activeTabIndex:i})=>{e.preventDefault(),n(i);const{pathname:o,state:r}=(e=>({pathname:(t[e]||t[0]).href,state:(t[e]||t[0]).locationState||void 0}))(i);s?d.replace(o,r):d.push(o,r)},tabs:t.map((({href:e,text:t,indicator:n})=>({href:e,text:t,indicator:n})))})})})}},924731:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(553431),r=n(174523),a=n(641483),s=n(855168),l=n(883119),d=n(785893);function c({direction:e,handleClick:t,testId:n}){const i=(0,r.ZP)();return(0,d.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>t(e),role:"button",tabIndex:0,"aria-hidden":"true","data-test-id":n,children:(0,d.jsx)(l.JO,{accessibilityLabel:i._("Scroll","annotations.scrollArrow","Accessibility label for scroll arrow button"),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"gray"})})}function u({name:e,url:t}){const n=(0,s.TH)();return(0,d.jsx)(l.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"lightGray",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},children:(0,d.jsx)(l.xv,{color:"darkGray",inline:!0,overflow:"breakWord",size:"sm",weight:"bold",children:t?(0,d.jsx)(o.Z,{inline:!0,pressState:"compress",to:t,rounding:8,onTouch:()=>{(0,a.LW)({action:"click",page_location:n,item:"vase-tag"})},children:e}):e})})}function p({annotations:e,mode:t}){const[n,o]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1),s=(0,i.useRef)(null);(0,i.useEffect)((()=>{const e=s.current,n=()=>{if("inlineWithScrollArrows"===t&&s.current){const e=s.current,t=Math.max(0,e.scrollLeft),n=t+e.clientWidth;o(0!==t),a(n<e.scrollWidth)}else o(!1),a(!1)};return n(),null==e||e.addEventListener("scroll",n),()=>{null==e||e.removeEventListener("scroll",n)}}),[t]);const p=e=>t=>{t.preventDefault(),t.stopPropagation();const n=s.current;if(!n)return;const i=("left"===e?-1:1)*n.clientWidth*.5;n.scrollLeft=Math.min(Math.max(n.scrollLeft+i,0),n.scrollWidth)};return(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"end",children:(0,d.jsxs)(l.xu,{display:"flex",overflow:"hidden",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[n&&(0,d.jsx)(c,{direction:"left",handleClick:p("left"),testId:"left-scroll-arrow"}),(0,d.jsx)(l.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",padding:"4px 0",whiteSpace:"nowrap"}},ref:s,display:"expanded"===t?"flex":void 0,wrap:"expanded"===t,children:e.map((({name:e,url:t})=>(0,d.jsx)(u,{name:e,url:t},t||e)))}),r&&(0,d.jsx)(c,{direction:"right",handleClick:p("right"),testId:"right-scroll-arrow"})]})})}},179676:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(174523),r=n(24309),a=n(678823),s=n(883119),l=n(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const h=(0,o.ZP)(),[m,g]=(0,i.useState)(!1),{dangerousInlineStyle:x,iconColor:f}=(0,a.W)(!!e);return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(s.iP,{onTap:()=>{(0,r.So)({component:13534,element:11717}),g(!0)},rounding:"circle",children:(0,l.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:x,display:"flex","data-test-id":`verified-badge-icon-${f}`,children:[(0,l.jsx)(s.JO,{accessibilityLabel:e?h._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"):h._("Badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),icon:"workflow-status-ok",color:f,inline:!0,size:d[t]}),n&&!c&&(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsx)(s.xv,{color:"blue",inline:!0,weight:"bold",children:(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:x,children:h._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant")})})})]})}),(e||n&&!c)&&(0,l.jsx)(a.Z,{showModal:m,setShowModal:g,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},678823:(e,t,n)=>{n.d(t,{W:()=>g,Z:()=>x});var i=n(667294),o=n(530826),r=n(288453),a=n(180307),s=n(174523),l=n(931185),d=n(790928),c=n(883119),u=n(24309),p=n(785893);const h="#66CCFF",m={color:h},g=e=>{const t=(0,l.Yc)();return{iconColor:e?t?h:"blue":"red",dangerousInlineStyle:{__style:t?m:{}}}};function x({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:l}){const h=(0,s.ZP)(),[m,x]=(0,i.useState)(!0),{dangerousInlineStyle:f,iconColor:y}=g(!0);return(0,i.useEffect)((()=>{n&&m&&(x(!1),(0,u.j)({event_type:13,component:13534}))}),[n]),(0,p.jsx)(r.Z,{"data-test-id":"modal",isOpen:n,hideCloseIcon:!0,onDismiss:()=>{(0,u.So)({component:13534,element:11716}),l(!1)},type:"verified_merchant_modal",children:(0,p.jsxs)(c.xu,{display:"flex",direction:"column",paddingY:4,paddingX:10,"data-test-id":"verified-badge-modal",children:[(0,p.jsx)(c.xu,{display:"flex",dangerouslySetInlineStyle:f,justifyContent:"center",children:(0,p.jsx)(c.JO,{accessibilityLabel:h._("Merchant verification badge icon","creator.verifiedMerchant.modalIcon","Badge indicating that a merchant or user is verified"),color:y,icon:"workflow-status-ok",size:24})}),(0,p.jsx)(c.xu,{marginTop:4,children:(0,p.jsx)(c.xv,{color:"blue",weight:"bold",align:"center",children:(0,p.jsx)(c.xu,{dangerouslySetInlineStyle:f,children:h._("Verified merchant","creator.verifiedMerchant.modalHeader","this merchant is a verified merchant")})})}),(0,p.jsx)(c.xu,{marginTop:4,children:(0,p.jsx)(c.xv,{align:"center",overflow:"normal",children:h._("This retailer meets Pinterest's Merchant Guidelines","creator.verifiedMerchant.modalText.","this merchant is a verified merchant")})}),e.map((e=>(0,p.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,p.jsx)(c.kC,{alignItems:"stretch",justifyContent:"center",children:(0,p.jsx)(c.xv,{overflow:"noWrap",children:(0,p.jsx)(c.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,dangerouslySetInlineStyle:{__style:(0,d.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,p.jsx)(c.xu,{marginTop:2,children:(0,p.jsx)(c.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,p.jsxs)(c.xu,{display:"flex",marginTop:8,justifyContent:"between","data-test-id":"verified-badge-modal-got-it",children:[(0,p.jsx)(c.xu,{width:"100%",children:(0,p.jsx)(c.zx,{fullWidth:!0,onClick:()=>{l(!1)},size:"md",text:h._("Got it","creator.verifiedMerchant.modalButton.","explanation text to close the modal")})}),(0,p.jsx)(c.xu,{marginStart:2,width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,p.jsx)(o.Z,{accessibilityLabel:h._("Learn more","creator.verifiedMerchant.buttonText","learn more about the verified merchant program by visiting help.pinterest.com"),color:"red",external:!0,shape:"pill",size:"lg",to:a.Z.settings.HELP_SHOPPING_WITH_PINTEREST,text:h._("Learn more","creator.verifiedMerchant.buttonText","learn more about the verified merchant program by visiting help.pinterest.com")})})]})]})})}},995668:(e,t,n)=>{n.d(t,{H:()=>s});var i=n(652382);const o="business.referral.referral_code",r="business.referral.offer_status";const a="claimed",s={setData:({referralCode:e})=>{(0,i.Nh)(o,e)},getData:()=>(0,i.qn)(o),setSenderOfferClaimed:()=>{(0,i.Nh)(r,a)},resetStatus:()=>{(0,i.L_)(o)},shouldClaimReferral:()=>null!==(0,i.qn)(o)&&(0,i.qn)(r)!==a}},787521:(e,t,n)=>{n.d(t,{e:()=>a,Z:()=>s});var i=n(40142),o=n(883119),r=n(785893);const a=new o.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){const n=(0,i.useSelector)((({session:e})=>e.isAuthenticated));return(0,r.jsxs)(o.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:a,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,r.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},358152:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(565404),o=n(883119),r=n(785893);function a({title:{format:e,args:{query:t}}}){return(0,r.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[(0,r.jsx)(o.xu,{marginBottom:2,paddingX:4,children:(0,r.jsx)(o.xv,{align:"center",color:"darkGray",overflow:"normal",weight:"bold",children:e})}),(0,r.jsx)(i.Z,{navigateReplace:!1,query:t,showHeaderText:!1})]})}},18562:(e,t,n)=>{n.d(t,{N:()=>_,Z:()=>v});var i=n(667294),o=n(51610),r=n(87075),a=n(174523),s=n(641483),l=n(883119),d=n(785893);function c(){const{hide:e}=(0,r.Z)(),t=(0,a.ZP)();return(0,d.jsx)(o.Z,{children:(0,d.jsx)(l.xu,{"data-test-id":"expandButton",children:(0,d.jsx)(l.hU,{icon:"maximize",size:"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:t._("Expand Image","mweb.closeup.image.expand.a11y","Accessibility label for the expand icon"),onClick:({event:t})=>{t.stopPropagation(),(0,s.ZP)("mweb_pin_page.pin_image.enlarge_image"),(0,s.NC)("click_expand_image"),(0,s.LW)({action:"click",page:"pin",item:"expand-button",within:"pin-image"}),e()}})})})}var u=n(823493),p=n.n(u),h=n(796821),m=n(472125),g=n(787521),x=n(971887),f=n(181307);const y=.3,_=new l.H3([g.e]),v=({children:e})=>{var t;const{hide:n}=(0,r.Z)(),o=(0,i.useRef)(null),a=(0,i.useRef)(null),[s,u]=(0,i.useState)(null),[g,v]=(0,i.useState)(0),[b,w]=(0,i.useState)(!1),S=(null===(t=(0,m.Z)())||void 0===t?void 0:t.height)||0,[j,T]=(0,i.useState)(!1),k=(0,f.tc)("seo_mweb_unauth_drawer_height"),I=(0,h.ZP)(),P=(()=>{switch("phone"===I&&k().group){case"enabled_38":return.38;case"enabled_20":return.2;case"enabled_10":return.1;case"enabled_no_drawer":return 0;default:return.25}})(),C=1-P,E=(C+y)/2,A=null!=s?s:S*(1-P),L=()=>{var e;const t=(null===(e=o.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&S>0?t-S*y+60:0};return(0,i.useEffect)((()=>{const e=()=>{var e;const t=(null===(e=o.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+A>t&&n()};e();const t=p()(e,10);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[n,A]),(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(l.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"white",zIndex:_,height:null===s?100*P+"vh":`calc(100vh - ${s}px)`,dangerouslySetInlineStyle:{__style:{...b?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===s&&b?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:a,onTouchStart:e=>{const{clientY:t}=e.touches[0];v(t),w(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:t}=e.touches[0],n=null!=s?s:window.innerHeight*(1-P),i=t-g;if(null!==n&&i){const e=S*y,t=S*C,r=Math.floor(Math.min(t,Math.max(e,n+i)));u(r);const a=L();if(S>0&&a>0){const e=a*(o=r/S,1-(Math.max(y,Math.min(C,o))-y)/(C-y));window.pageYOffset<e&&window.scrollTo({top:e})}r<S*E&&T(!0)}var o;v(t)},onTouchEnd:()=>{if(j){w(!0);u(S*y);const e=L();e&&window.scrollTo({top:e,behavior:"smooth"}),T(!1)}},children:["desktop"!==I&&(0,d.jsx)(l.xu,{position:"absolute",top:!0,right:!0,children:(0,d.jsx)(l.xu,{position:"absolute",bottom:!0,right:!0,children:(0,d.jsx)(l.xu,{padding:3,children:(0,d.jsx)(c,{})})})}),(0,d.jsx)(l.xu,{paddingX:x.q3,children:e})]}),(0,d.jsx)(l.xu,{ref:o,height:"100vh"})]})}},164206:(e,t,n)=>{n.d(t,{ZP:()=>g,j$:()=>m,Ys:()=>p,IS:()=>h});var i=n(883119),o=n(785893);function r({category:e,ingredients:t,textSize:n="lg"}){return(0,o.jsxs)(i.xu,{marginBottom:4,children:[e&&(0,o.jsx)(i.xu,{children:(0,o.jsx)(i.xv,{weight:"bold",size:n,children:e})}),(null!=t?t:[]).map((e=>{var t,r;return(0,o.jsx)(i.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,o.jsxs)(i.xv,{size:n,children:[e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(r=e.name)&&void 0!==r?r:""}`)}))]})}var a=n(709409),s=n(796821),l=n(946753),d=n(220728),c=n(136662),u=n(174523);const p=({m:e,h:t,rm:n,rh:i},o)=>e&&(!t||i<=0)?(0,l.nk)(o.ngettext("{{mins}} minute","{{mins}} minutes",n,"number showing the minutes to complete a recipe","number showing the minutes to complete a recipe"),{mins:n.toString()}):t?(0,l.nk)(o.ngettext("{{hrs}} hour","{{hrs}} hours",i,"number showing the hours to complete a recipe","number showing the hours to complete a recipe"),{hrs:i.toString()}):null,h=({m:e,h:t,rm:n,rh:i,i18n:o})=>e&&(!t||i<=0)?(0,l.nk)(o._("{{mins}}m","number showing minutes to complete a recipe","number showing mnutes to complete a recipe"),{mins:n.toString()}):t?(0,l.nk)(o._("{{hrs}}h {{mins}}m","number showing hours to complete a recipe","number showing hours to complete a recipe"),{hrs:t.toString(),mins:e.toString()}):null,m=(e,t)=>{let n;return n=e.cook_times&&e.cook_times.total?(0,c.X)({m:e.cook_times.total.m||0,h:e.cook_times.total.h||0}):(0,c.X)({m:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.m||0,h:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.h||0}),p(n,t)},g=({recipe:e,pinLink:t,image:n})=>{const l=(0,u.ZP)(),c=(0,s.ZP)(),{name:p,categorized_ingredients:h}=e,g=h&&(e=>{const t=e.diets&&e.diets.length>0&&e.diets.join(", "),n=e.servings_summary&&e.servings_summary.summary;return t&&n?`${t} • ${n}`:t||n})(e),x=(e=>e.categorized_ingredients?e.categorized_ingredients.reduce(((e,t)=>{var n,i;return e+(null!==(n=null===(i=t.ingredients)||void 0===i?void 0:i.length)&&void 0!==n?n:0)}),0):0)(e);return m(e,l)||x||g?(0,o.jsxs)(i.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,o.jsxs)(i.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,o.jsx)(i.xu,{marginBottom:4,children:(0,o.jsx)(i.xv,{weight:"bold",align:"desktop"===c?"start":"center",children:l._("Ingredients","Ingredients category heading for recipes","Ingredients category heading for recipes")})}),(0,o.jsxs)(a.Z,{itemScope:!0,itemType:d.Go,children:[(0,o.jsx)("meta",{content:p,itemProp:"name"}),n&&(0,o.jsx)("meta",{content:n,itemProp:"image"}),Array.isArray(h)&&h.length>0&&(0,o.jsx)(i.xu,{column:12,"data-test-id":"single-column-ingredients",children:h.map((({category:e,ingredients:t},n)=>(0,o.jsx)(i.xu,{marginBottom:2,children:(0,o.jsx)(r,{category:e,ingredients:t,textSize:"lg"})},n)))})]})]}),(0,o.jsx)(i.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===c?"center":void 0,children:t&&(0,o.jsx)(i.rU,{href:t,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,o.jsx)(i.zx,{text:l._("Make it","closeup.recipe.make_it_button","label for button go to recipe link")})})})]}):null}},120818:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e.action){case"PUSH":case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},87075:(e,t,n)=>{n.d(t,{t:()=>l,Z:()=>d});var i=n(667294),o=n(641483),r=n(855168),a=n(785893);const s=(0,i.createContext)({isHidden:!0,hide:()=>{}});function l({children:e,isEligible:t}){const[n,l]=(0,i.useState)(!t),{pathname:d}=(0,r.TH)();(0,i.useEffect)((()=>{l(!t)}),[d,t]);const c=(0,i.useCallback)((()=>{(0,o.ZP)("web_unification.expand_click.hide_drawer"),l(!0)}),[]);return(0,a.jsx)(s.Provider,{value:{isHidden:n,hide:c},children:e})}const d=()=>(0,i.useContext)(s)},525260:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(287954),o=(n(883119),n(855168)),r=n(785893);function a({emptyState:e,feedItemProps:t=(()=>({})),feedKey:n,feedOffset:a=(()=>0),gridConfig:s=(()=>({})),noCache:l,pullToRefresh:d=!1,renderFeedItem:c,resourceName:u,resourceOptions:p,resourceSchema:h,trafficSource:m,serverRender:g}){return function(x){const f=(0,o.TH)(),y=(0,o.k6)(),_=(0,o.$B)(),v={...x,location:f,history:y,match:_};return(0,r.jsx)(i.ZP,{resourceConfig:{name:u,options:"function"==typeof p?p(v):p,schema:h,noCache:"function"==typeof l?l(v):l},feedItemProps:t&&t(v),feedKey:"function"==typeof n?n(v):n,feedOffset:a(v),gridConfig:s&&s(v),pullToRefresh:d,renderFeedItem:c&&((e,t)=>c(e,t,x)),trafficSource:"function"==typeof m?m(v):m,emptyState:e&&e(v),serverRender:g})}}},153010:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(40142),r=n(590307);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"view",(()=>{const{experience:e,isBackendExperience:t,viewExperience:n,viewExperienceObject:i}=this.props;e&&(t?i(e):n(e.placement_id,e.experience_id))})),a(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:o,preventRemoval:r}=this.props;if(i){const{placement_id:a,experience_id:s}=i||{},l=r||2===e;(1===e||l)&&a&&s&&(o?n(i,l):t(a,s,l))}})),a(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i}=this.props,{placement_id:o,experience_id:r}=n||{};n&&(i?t(n):e(o,r))})),a(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i}=this.props,{experience_id:o,type:r}=e;if(i&&i(e))return!0;if(t&&t.includes(o))return!0;if(n&&n.includes(r))return!0}return!1}))}componentDidMount(){const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}render(){const{children:e,experience:t}=this.props;return t&&e&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,view:this.view}):i.Children.only(e):null}}a(s,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const l=(0,o.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,n,i)=>e((0,r.CK)(t,n,i)),completeExperienceObject:(t,n)=>e((0,r.Tl)(t,n)),dismissExperience:(t,n)=>e((0,r.Qu)(t,n)),dismissExperienceObject:t=>e((0,r.CF)(t)),viewExperience:(t,n)=>e((0,r.UT)(t,n)),viewExperienceObject:t=>e((0,r.dy)(t))})))(s)},434422:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(153010),o=n(667294),r=n(539484),a=n(268648),s=n(176494),l=n(931185),d=n(883119),c=n(785893);const u={lightMode:{backgroundColor:"#E60023",color:"#FFFFFF"},darkMode:{backgroundColor:"#E60023",color:"#FFFFFF"}},p={lightMode:{backgroundColor:"#EFEFEF",color:"#111111"},darkMode:{backgroundColor:"#292929",color:"#EFEFEF"}},h=({color:e,isPrimary:t,shape:n,text:i,textColor:o})=>{const r=(t?u:p)[(0,l.Yc)()?"darkMode":"lightMode"];return(0,c.jsx)(d.xv,{align:"center",weight:"bold",children:(0,c.jsx)("div",{className:t?"banner-button-primary":"banner-button-secondary",style:{backgroundColor:e||r.backgroundColor,borderRadius:"pill"===n?"24px":"4px",color:o||r.color,padding:"10px 14px"},children:i})})},m=({external:e,onTouch:t,pressState:n,to:i,accessibilityLabel:o,color:l,isPrimary:u,textColor:p,minHeight:m=40,shape:g,text:x})=>{const f=(0,s.k)(i),y=(0,a.Z)({externalData:{dangerouslyForceOffsiteUrl:e},href:f});return(0,c.jsx)(d.xu,{"aria-label":o,minHeight:m,children:f?(0,c.jsx)(d.iP,{role:"link",onTap:({event:e})=>{null==t||t(e),e.defaultPrevented||y({event:e})},href:f,target:"blank",rel:(0,r.Z)({url:f})?"nofollow":"none",tapStyle:n||"none",rounding:"pill"===g?"pill":2,children:(0,c.jsx)(h,{color:l,isPrimary:u,shape:g,text:x,textColor:p})}):(0,c.jsx)(d.iP,{onTap:({event:e})=>null==t?void 0:t(e),tapStyle:n||"none",rounding:"pill"===g?"pill":2,children:(0,c.jsx)(h,{color:l,isPrimary:u,shape:g,text:x,textColor:p})})})};var g=n(855356),x=n(155656),f=n(785112);function y(e){return e.startsWith("https://")||e.startsWith("http://")}var _=n(213162);const v=function({experience:e,onComplete:t,onDismiss:n}){const{display_data:i={},experience_id:r,placement_id:a}=e||{},s=(0,o.useMemo)((()=>(0,g.Z)(_.zW)(i)),[i]),{backgroundColorNarrowMweb:l,backgroundColorWideMweb:u,backgroundImageNarrow:p,backgroundImageWide:h,button1ColorNarrowMweb:v,button1ColorWideMweb:b,button1TextColorNarrowMweb:w,button1TextColorWideMweb:S,button1Text:j,button1Uri:T,button2ColorNarrowMweb:k,button2ColorWideMweb:I,button2TextColorNarrowMweb:P,button2TextColorWideMweb:C,button2Text:E,button2Uri:A,completeButtonAction:L,coverImage:D,detailedTextWithLinks:R,iconImage:O,layoutNarrow:N,layoutWide:B,links:Z,linkTitles:F,primaryColorNarrowMweb:M,primaryColorWideMweb:H,titleText:z}=s,{windowWidth:U}=(0,f.B5)(),W=U<=480,$=W?N:B,G=W?{STACKED_TEXT:1,CENTERED_ICON_IMAGE_AND_TEXT:2,COVER_IMAGE_AND_TEXT:3}:{INLINE_TEXT:1,INLINE_ICON_IMAGE_AND_TEXT:2,STACKED_TEXT:3},Y=!W&&$!==G.STACKED_TEXT,V=W?l:u,q=W?v:b,X=W?w:S,K=W?k:I,J=W?P:C,Q=W?M:H,{altText:ee,uri:te}=(W?p:h)||{},{altText:ne,uri:ie}=D||{},{altText:oe,uri:re}=O||{},ae=W&&$===G.CENTERED_ICON_IMAGE_AND_TEXT||!W&&$===G.INLINE_ICON_IMAGE_AND_TEXT,se=W?"96px":"48px",le=W&&$===G.COVER_IMAGE_AND_TEXT,de=j&&(0,c.jsx)(d.xu,{marginEnd:2,children:(0,c.jsx)(m,{accessibilityLabel:j,color:q,external:T?y(T):void 0,onTouch:()=>{!T&&a&&r&&n&&n()},shape:"pill",text:j,textColor:X,to:T})}),ce=E&&(0,c.jsx)(m,{accessibilityLabel:E,color:K,external:A?y(A):void 0,isPrimary:!0,onTouch:()=>{return e=L,void(t&&t(e));var e},shape:"pill",text:E,textColor:J,to:A}),ue=Z.reduce(((e,t,n)=>{const i=`<a href="${t}" ${y(t)?'rel="noreferrer noopener" target="_blank"':""}>${F[n]}</a>`;return e.replace(`{${n}}`,i)}),R),pe={backgroundColor:V,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},he={backgroundImage:!te||ae||le?void 0:`url(${te})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:pe},marginBottom:1,rounding:4,children:(0,c.jsxs)(d.zd,{rounding:4,children:[le&&ie&&(0,c.jsx)(d.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,c.jsx)(d.Ee,{alt:ne||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:ie})}),(0,c.jsxs)(d.xu,{"aria-label":ee,alignItems:"center",dangerouslySetInlineStyle:{__style:he},direction:Y?"row":"column",display:"flex",justifyContent:"between",marginTop:le?-2:0,padding:6,children:[(0,c.jsxs)(d.kC,{alignItems:"center",direction:Y?"row":"column",justifyContent:"between",maxWidth:Y?void 0:"560px",children:[ae&&re&&(0,c.jsx)(d.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:Y?4:0,marginBottom:Y?0:6,children:(0,c.jsx)(d.xu,{height:se,width:se,children:(0,c.jsx)(d.zd,{rounding:Y?4:6,children:(0,c.jsx)(d.Ee,{alt:oe||"icon",naturalHeight:1,naturalWidth:1,src:re})})})}),!Y&&z&&(0,c.jsx)(d.xv,{align:"center",weight:"bold",children:(0,c.jsx)(d.xu,{marginBottom:2,dangerouslySetInlineStyle:{__style:{color:Q,fontSize:"20px"}},children:z})}),R&&(0,c.jsxs)(d.xv,{align:Y?"start":"center",overflow:"normal",children:[(0,c.jsx)(x.Z,{unsafeCSS:`\n                      .nag-text a {\n                        color: ${Q||""};\n                        font-weight: bold;\n                      }`}),(0,c.jsx)("div",{className:"nag-text",dangerouslySetInnerHTML:{__html:ue},style:{color:Q}})]})]}),(de||ce)&&(0,c.jsxs)(d.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:Y?0:-1,marginStart:Y?4:0,marginTop:Y?0:4,wrap:!Y,children:[de,ce]})]})]})})},b=({experience:e={}})=>(0,c.jsx)(i.Z,{experience:e,predicate:e=>e&&e.display_data&&1===e.display_data.component_type,children:({complete:e,dismiss:t,experience:n})=>(0,c.jsx)(v,{experience:n,onComplete:e,onDismiss:t})})},348149:(e,t,n)=>{n.d(t,{_P:()=>l,ag:()=>d,wF:()=>c});var i=n(667294),o=n(40142),r=n(618446),a=n.n(r),s=n(590307);const l=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const r=(0,i.useRef)(),l=(0,o.useDispatch)(),d=(0,o.useSelector)((e=>e.experiences[t]));return(0,i.useEffect)((()=>{l((0,s.kd)(t))}),[l,d,t]),(0,i.useEffect)((()=>{n||a()(r.current,e)||(l((0,s.pz)([t],e)),r.current=e)}),[l,e,t,n]),d},d=e=>(l(e),(0,o.useSelector)((t=>t.experiencesMulti[e.id]))),c=({children:e,id:t})=>e(l({id:t}))},455598:(e,t,n)=>{n.d(t,{ZP:()=>a});var i=n(40142),o=n(21755),r=n(4225);const a=(0,i.connect)(((e,t)=>({group:e.experiments.active[t.name]||e.experiments.triggerable[t.name]||""})),(e=>({activateExperiment:t=>e((0,r.Q)(t))})),null,{pure:!1})(o.Z)},977199:(e,t,n)=>{n.d(t,{Z:()=>ve});var i=n(655632),o=n.n(i),r=n(55558),a=n.n(r),s=n(775846),l=n.n(s),d=n(12552),c=n.n(d),u=n(90238),p=n.n(u),h=n(315773),m=n.n(h),g=n(188300),x=n.n(g),f=n(896990),y=n.n(f),_=n(551658),v=n.n(_),b=n(207883),w=n.n(b),S=n(110126),j=n.n(S),T=n(501442),k=n.n(T),I=n(894639),P=n.n(I),C=n(13902),E=n.n(C),A=n(642438),L=n.n(A),D=n(889456),R=n.n(D),O=n(516327),N=n.n(O),B=n(23853),Z=n.n(B),F=n(421775),M=n.n(F),H=n(33720),z=n.n(H),U=n(419322),W=n.n(U),$=n(587636),G=n.n($),Y=n(387890),V=n.n(Y),q=n(146957),X=n.n(q),K=n(689847),J=n.n(K),Q=n(444248),ee=n.n(Q),te=n(196234),ne=n.n(te),ie=n(166389),oe=n.n(ie),re=n(559902),ae=n.n(re),se=n(127840),le=n.n(se),de=n(73837),ce=n.n(de),ue=n(362397),pe=n.n(ue),he=n(682175),me=n.n(he),ge=n(174523),xe=n(509044),fe=n(883119),ye=n(785893);const _e={"AR-SA":o(),"ZH-CN":pe(),"ZH-TW":me(),CS:a(),DA:l(),DE:c(),EL:p(),EN:m(),ES:x(),FI:y(),FR:v(),HI:w(),HU:j(),ID:k(),IT:P(),JA:E(),KO:L(),ML:R(),MS:N(),NB:z(),NL:Z(),NN:M(),NO:z(),PL:W(),PT:G(),RO:V(),RU:X(),SK:J(),SV:ee(),TH:ne(),TL:oe(),TR:ae(),UK:le(),VI:ce()};function ve({locale:e}){const t=(0,ge.ZP)(),n=(0,xe.G3)(e),i=_e[n]||_e.EN,o=t._("Install the Pinterest app on Android");return(0,ye.jsx)(fe.Ee,{naturalHeight:80,naturalWidth:270,src:i,alt:o})}},926452:(e,t,n)=>{n.d(t,{Z:()=>ve});var i=n(30152),o=n.n(i),r=n(695007),a=n.n(r),s=n(145289),l=n.n(s),d=n(841191),c=n.n(d),u=n(959230),p=n.n(u),h=n(48868),m=n.n(h),g=n(681104),x=n.n(g),f=n(775079),y=n.n(f),_=n(108353),v=n.n(_),b=n(695159),w=n.n(b),S=n(529269),j=n.n(S),T=n(540188),k=n.n(T),I=n(57359),P=n.n(I),C=n(459764),E=n.n(C),A=n(752821),L=n.n(A),D=n(112251),R=n.n(D),O=n(339429),N=n.n(O),B=n(582070),Z=n.n(B),F=n(903066),M=n.n(F),H=n(935577),z=n.n(H),U=n(405100),W=n.n(U),$=n(843182),G=n.n($),Y=n(728116),V=n.n(Y),q=n(24570),X=n.n(q),K=n(904761),J=n.n(K),Q=n(821152),ee=n.n(Q),te=n(946614),ne=n.n(te),ie=n(682609),oe=n.n(ie),re=n(281251),ae=n.n(re),se=n(61837),le=n.n(se),de=n(685933),ce=n.n(de),ue=n(444543),pe=n.n(ue),he=n(878200),me=n.n(he),ge=n(174523),xe=n(509044),fe=n(883119),ye=n(785893);const _e={"AR-SA":o(),"ZH-CN":pe(),"ZH-TW":me(),CS:a(),DA:l(),DE:c(),EL:p(),EN:m(),ES:x(),FI:y(),FR:v(),HI:w(),HU:j(),ID:k(),IT:P(),JA:E(),KO:L(),ML:R(),MS:N(),NB:z(),NL:Z(),NN:M(),NO:z(),PL:W(),PT:G(),RO:V(),RU:X(),SK:J(),SV:ee(),TH:ne(),TL:oe(),TR:ae(),UK:le(),VI:ce()};function ve({locale:e}){const t=(0,ge.ZP)(),n=(0,xe.G3)(e),i=_e[n]||_e.EN,o=t._("Install the Pinterest app on iOS");return(0,ye.jsx)(fe.Ee,{naturalHeight:80,naturalWidth:270,src:i,alt:o})}},427908:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(796821),o=n(883119),r=n(971887),a=n(785893);const s=({children:e,roundedForLargeDevice:t})=>{const n="phone"!==(0,i.ZP)()&&t;return(0,r.VG)()?(0,a.jsx)(o.xu,{marginStart:-r.q3,marginEnd:-r.q3,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,a.jsx)(r.CK,{value:!1,children:e})}):e}},95957:(e,t,n)=>{n.d(t,{PS:()=>i,hF:()=>o,qG:()=>r});const i=236,o=4,r=-1},723498:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),o=n(155656),r=n(558900),a=n(796821),s=n(95957),l=n(883119),d=n(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),h=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:2,children:e}),m=()=>{const e="desktop"===(0,a.ZP)(),t=e?s.PS:175;return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(o.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:n})=>(0,r.Z)({name:e,width:t,height:n}))).join("")}),(0,d.jsx)(l.xu,{marginStart:s.qG,marginEnd:s.qG,children:e?(0,d.jsxs)(l.kC,{direction:"row",gap:s.hF,children:[(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(h,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(h,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},558900:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,o="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${o} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${o}px 0;\n  }\n  100% {\n      background-position: ${o}px 0;\n  }\n}\n`}},620585:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(931185),o=n(883119),r=n(785893);function a({color:e,image:t,isSelected:n,title:a}){var s,l,d;return(0,r.jsxs)(o.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,r.jsx)(o.zd,{height:48,rounding:"circle",width:48,children:(0,r.jsx)(o.Ee,{alt:a,color:e,fit:"cover",naturalHeight:null!==(s=t.height)&&void 0!==s?s:1,naturalWidth:null!==(l=t.width)&&void 0!==l?l:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,r.jsx)(o.xu,{marginStart:2,marginEnd:3,children:(0,r.jsx)(o.xv,{color:n?"white":(0,i.Yc)()?"lightGray":"darkGray",children:(0,r.jsx)("span",{style:{fontWeight:600},children:a})})})]})}},616470:(e,t,n)=>{n.d(t,{z:()=>l,Z:()=>h});var i=n(667294),o=n(40142),r=n(155656),a=n(883119),s=n(785893);const l=2500,d={__style:{right:"-105px"}},c={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},p={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},h=(0,i.memo)((({children:e})=>{const t=(0,o.useSelector)((({pins:e,session:t,users:n})=>{const i=n[t.userId].last_repin_id;return i?e[i]:null})),n=(0,o.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!t||!n)return e;const{images:i}=t,{height:l,width:h,url:m}=(null==i?void 0:i["136x136"])||(null==i?void 0:i["236x"])||{};return(0,s.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,s.jsx)(r.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,s.jsxs)(a.xu,{position:"relative",children:[(0,s.jsxs)(a.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:d,children:[(0,s.jsx)(a.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:c}),(0,s.jsx)(a.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:u,children:(0,s.jsx)(a.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,s.jsx)(a.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=h?h:1,naturalHeight:null!=l?l:1,src:null!=m?m:""})})})]}),(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:p,children:e})]})]})}))},18347:(e,t,n)=>{n.d(t,{kh:()=>d,PV:()=>u,Vl:()=>p,wk:()=>h,gW:()=>m});var i=n(715925),o=n.n(i),r=n(656727),a=n.n(r),s=n(654592),l=n.n(s);const d="mweb_every_closeup_save_sound_haptics",c=e=>{const t=new(window.AudioContext||window.webkitAudioContext),n=new Audio(e);t.createMediaElementSource(n).connect(t.destination),n.muted=!1,n.crossOrigin="anonymous",n.play().catch((()=>{}))},u=()=>{c(a())},p=()=>{c(o())},h=()=>{c(l())},m=()=>{window.navigator.vibrate&&window.navigator.vibrate(50)}},363167:(e,t,n)=>{n.d(t,{S:()=>b,Z:()=>w});var i=n(667294),o=n(40142),r=n(879711),a=n(689859),s=n(174523),l=n(344422),d=n(590307),c=n(534435),u=n(645430),p=n(250766),h=n(650744),m=n(18347),g=n(181307),x=n(883119),f=n(855168),y=n(785893);const _=(0,i.lazy)((()=>Promise.all([n.e(48950),n.e(69214)]).then(n.bind(n,769214)))),v=(0,i.lazy)((()=>Promise.all([n.e(48950),n.e(19567)]).then(n.bind(n,519567)))),b=new x.Ry(1),w=(0,l.Z)((({activateSoundHapticExp:e,buttonText:t,clientTrackingParams:n,color:l="red",deeplinkUri:w,experience:S,fromSaveButtonContainer:j,inline:T=!0,isBounceAnimation:k,minWidth:I,onTouch:P,onUnsave:C,pinId:E,pinnedToBoardId:A,shape:L,shouldShowSavedButton:D,showRepinConfirmation:R,showToast:O,viewType:N,viewParameter:B,showSaveHandoffExperience:Z})=>{var F;const M=(0,s.ZP)(),H=(0,o.useDispatch)(),z=(0,f.k6)(),U=(0,f.TH)().pathname.startsWith("/pin"),W=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),$=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),G=null===(F=(0,o.useSelector)((e=>(0,p.ts)(e))))||void 0===F?void 0:F.pin_count,Y=(0,o.useSelector)((({pins:e})=>e[E])),[V,q]=(0,i.useState)(!1),[X,K]=(0,i.useState)(!1),J=(0,g.tc)("mweb_post_first_save_celebration"),Q=()=>{H((0,h.Bp)({history:z,i18n:M,onSuccess:()=>{S&&(H((0,d.CK)(S.placement_id,S.experience_id)),0===G&&j&&e&&e().anyEnabled&&setTimeout((()=>(0,m.wk)()),3e3))},pinId:E,trackingParams:{clientTrackingParams:n,pinnedToBoardId:A},showRepinConfirmation:Z&&!U?()=>{}:R,disableRepinAnimation:$===E,fromSaveButtonContainer:j,setShowPostSaveConfetti:q,setShowPostSaveConfettiHalfScreen:K,activatePostFirstSaveCelebration:J,pinCount:G})).catch((e=>O({isError:!0,text:e.message||M._("Sorry! Something went wrong on our end.","quickSave.toast.error.message","error during repin")})))},ee=(0,i.useRef)(null),te=Z&&!W,ne=t=>{t.stopPropagation(),t.preventDefault(),P&&P(t),D?D&&C&&C():(Q(),j&&e&&e().anyEnabled&&((0,m.PV)(),(0,m.gW)()))};(0,i.useEffect)((()=>{te&&!ee.current&&(Q(),H((0,c.e2)())),ee.current=te}));const ie=()=>M._("Pin","quickSave.quickSaveButton.icon.accessibilityLabel","Pin accessibility label"),oe=()=>t||M._("Save","quickSave.quickSaveButton.buttonText","Auth mobile web save button for pin closeup");return W&&!U?null:(0,y.jsxs)(x.xu,{"data-test-id":"save-button-mobile",zIndex:b,children:[V&&(0,y.jsx)(a.Z,{children:(0,y.jsx)(_,{pinImages:Y.images})}),X&&(0,y.jsx)(a.Z,{children:(0,y.jsx)(v,{pinImages:Y.images})}),w?(0,y.jsx)(u.di,{accessibilityLabel:ie(),color:l,customStyles:{padding:"14px 16px"},deeplinkUri:w,inline:T,isBounceAnimation:k,minHeight:48,minWidth:I,onTouch:ne,pressState:["compress","background"],shape:L,size:"lg",text:oe(),to:z.location.pathname,upsellType:"save",viewType:N,viewParameter:B}):(0,y.jsx)(r.ZP,{accessibilityLabel:ie(),color:l,customStyles:{padding:"14px 16px"},inline:T,isBounceAnimation:k,minHeight:48,minWidth:I,onTouch:ne,pressState:"compress",shape:L,size:"lg",text:oe()})]})}))},494936:(e,t,n)=>{n.d(t,{$4:()=>r,_7:()=>a});var i=n(40142),o=n(181307);const r=e=>{const t=(0,i.useSelector)((({feeds:e})=>e.homefeed)),n=Array.isArray(t)&&t.length>0&&"story"===t[0].type,r=(0,o.tc)("mweb_save_on_grid");return!n&&[503040].includes(e)&&r().anyEnabled},a="mweb_curation_save_behavior"},344422:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(40142),o=n(616470),r=n(739472),a=n(708206),s=n(534435),l=n(785893);const d=(0,a.compose)((0,i.connect)(null,(function(e){return{hideRepinAnimation:()=>e((0,s.a5)()),showRepinAnimation:()=>e((0,s.WF)())}})),(function(e){return t=>{const{hideRepinAnimation:n,showRepinAnimation:i}=t,{showToast:a,showOneToast:s}=(0,r.V6)();return(0,l.jsx)(e,{...t,showToast:a,showOneToast:s,showRepinConfirmation:(e,t)=>{t||i(),setTimeout((()=>{t||n(),(e=>{e.forEach((e=>a(e)))})(e)}),o.z)}})}}))},639144:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(553431),o=n(883119),r=n(785893);function a({guide:e,guidedQuery:t,history:n,isSlot0Style:a=!1,onClick:s}){const{dominant_color:l,display:d}=e,c=(0,r.jsx)(i.Z,{history:n,onTouch:s,pressState:"background",rounding:2,to:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:l,whiteSpace:a?void 0:"nowrap"}},"data-test-id":"search-guide",minWidth:a?void 0:84,padding:4,rounding:"pill",children:(0,r.jsx)(o.xv,{align:a?"start":"center",color:a?"darkGray":"white",lineClamp:a?2:void 0,size:"md",weight:a?"normal":"bold",children:d})})});return a?c:(0,r.jsx)(o.xu,{flex:"none",marginStart:-7,paddingX:4,children:c})}var s=n(756153);const l=-1,d=0;function c({guides:e,history:t,isSlot0Style:n=!1,query:i}){const c=({position:e,term:t})=>e===l?t:e===d?`${t} ${i}`:`${i} ${t}`,u=e=>()=>{(0,s.U3)({searchScope:"pins",searchTerm:e,rs:"guide"})},p=()=>e.map((e=>(0,r.jsx)(a,{guide:e,guidedQuery:c(e),history:t,isSlot0Style:n,onClick:u(i)},e.display)));return n?(0,r.jsx)(o.xu,{padding:2,children:(0,r.jsx)(o.kC,{width:"100%",gap:1,direction:"column",alignItems:"start",children:p()})}):(0,r.jsx)(o.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,r.jsx)(o.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:p()})})}},565404:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(553431),o=n(883119),r=n(785893);function a({skinToneOvalHeight:e,skinToneOvalWidth:t,swatchColors:n}){return(0,r.jsx)(o.xu,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:t,wrap:!0,children:n.map(((n,i)=>(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n}},height:e/2,width:t/2},`${n}-${i}`)))})}var s=n(174523),l=n(24309);const d={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function c({navigateReplace:e=!0,onClickApplyFilter:t,query:n,selectedSkinToneTerm:c,showHeaderText:u=!0,skinToneFilters:p=d}){const h=(0,s.ZP)(),m=p.options,g=`/search/pins/?rs=rs&q=${n}`,x=c?h._("Some ideas in this skin tone range","SkinToneFilters.copy.termSelected","Skin tone filters text"):h._("Pick a skin tone range","SkinToneFilters.copy.noTermSelected","Skin tone filters text"),{filtersContainerHeight:f,filtersContainerWidth:y,skinToneOvalHeight:_,skinToneOvalWidth:v}=function(){const e="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-4,96):0;return{filtersContainerHeight:52,filtersContainerWidth:e,skinToneOvalHeight:44,skinToneOvalWidth:e-8}}();return(0,r.jsxs)(o.kC,{alignItems:"center",direction:"column",height:u?88:52,children:[u&&(0,r.jsx)(o.xu,{marginBottom:2,children:(0,r.jsx)(o.xv,{color:"darkGray",overflow:"normal",weight:"bold",children:x})}),(0,r.jsx)(o.kC,{alignItems:"stretch",flex:"none",justifyContent:"around",children:m.map((({swatch_hex_colors:s,term:d},u)=>(0,r.jsx)(i.Z,{onTouch:()=>{!function(e){const{index:t,query:n,onClickApplyFilter:i}=e;(0,l.So)({aux_data:{entered_query:n,filter_type:"skin_tone",filter_value:t},element:1341,view_parameter:43,view_type:2}),null==i||i()}({index:u,query:n,onClickApplyFilter:t})},pressState:"none",replace:e,to:`${g}${c!==d?`&filters=${encodeURIComponent(d)}`:""}`,children:(0,r.jsx)(o.xu,{alignItems:"center",color:c===d?"darkGray":"white",display:"flex",height:f,justifyContent:"around",rounding:"pill",width:y,children:(0,r.jsx)(o.xu,{alignItems:"center",color:"white",display:"flex",height:f-4,justifyContent:"around",rounding:"pill",width:y-4,children:(0,r.jsx)(a,{skinToneOvalHeight:_,skinToneOvalWidth:v,swatchColors:s})})})},d)))})]})}},333501:(e,t,n)=>{n.d(t,{e:()=>u,Z:()=>m});var i=n(40142),o=n(263116),r=n(590307),a=n(396893),s=n(798918),l=n(883119),d=n(785893);const c=(0,o.ZP)({resolved:{},chunkName:()=>"storyPins-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(67631),n.e(58922)]).then(n.bind(n,118428)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 118428}}),u=Object.freeze({white:"white",black:"darkGray"}),p={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function h({titleText:e,videoPin:t,videoPlaceholderImage:n}){return(0,d.jsx)(c,{fallback:(0,d.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail}),aspectRatio:s.q4,controls:!1,poster:n||t.metadata.thumbnail,src:t.url})}function m({buttonAction:e,buttonCustomization:t,buttonText:n,experienceId:o,hideCompleteButton:c,imageAlt:u,imageUrl:m,placementId:g,storyType:x,titleText:f,titleTextColor:y,titleTextCustomization:_,videoPin:v,videoPlaceholderImage:b}){const w=(0,i.useDispatch)(),S=(0,s.zn)(x),j=S?a.f8:a.hm,T=S?a.sH:a.HI,k=!S,{color:I,fontStyle:P,fontWeight:C,horizontalAlignment:E,fontSize:A}=(0,s.Mf)(_||{},"mweb"),{button_background_color:L,button_text_color:D}=t||{};return(0,d.jsx)(l.xu,{position:"relative",padding:1,marginBottom:2,children:(0,d.jsxs)(l.rU,{accessibilityLabel:f,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),"number"==typeof o&&"number"==typeof g&&w((0,r.CK)(g,o,!1,!0))},children:[(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===x&&v?(0,d.jsx)(h,{titleText:f,videoPin:v,videoPlaceholderImage:b}):m&&(0,d.jsx)(l.Ee,{alt:u||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:m,fit:"cover"})}),k&&(0,d.jsx)(l.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:p.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,d.jsx)(j,{children:(0,d.jsx)(l.xv,{align:E,color:y,italic:"italics"===P,weight:C,children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!=I?I:void 0,fontSize:A}},children:f})})})]})}),!c&&(0,d.jsx)(T,{children:(0,d.jsx)(l.xu,{display:"flex",rounding:"pill",color:S?"white":"lightGray",dangerouslySetInlineStyle:{__style:{backgroundColor:L}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,d.jsx)(l.xv,{weight:"bold",children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:D}},children:n})})})})]})})}},675135:(e,t,n)=>{n.d(t,{Z:()=>ye});var i=n(40142),o=n(667294),r=n(455598),a=n(977199),s=n(926452),l=n(174523),d=n(903945),c=n(181307),u=n(86037),p=n(883119),h=n(785893);function m(){const e=(0,l.ZP)(),t=(0,c.tc)("mweb_hf_story_app_upsell2"),{locale:n,userAgentPlatform:m}=(0,i.useSelector)((({session:e})=>e));(0,o.useEffect)((()=>{"enabled_no_double"===t().group&&(0,d.Nh)("appUpsell",Date.now())}),[]);const g=e._("Pinterest works best if you switch to our iPhone app","app upsell","app upsell"),x=e._("Pinterest works best if you switch to our Android app","app upsell","app upsell"),f="ios"===m;return(0,h.jsxs)(p.xu,{color:"blue",marginBottom:5,marginStart:2,marginEnd:2,marginTop:3,padding:3,rounding:2,children:[(0,h.jsx)(r.ZP,{name:"mweb_hf_story_app_upsell2",children:({group:t})=>"enabled_icon"===t?(0,h.jsx)(p.xu,{marginBottom:2,children:(0,h.jsx)(p.JO,{accessibilityLabel:e._("Pinterest icon"),color:"white",icon:"pinterest",size:32})}):null}),(0,h.jsx)(p.xv,{color:"white",weight:"bold",children:f?g:x}),(0,h.jsx)(p.xu,{marginTop:3,children:(0,h.jsx)(u.Z,{children:e=>(0,h.jsx)(p.iP,{onTap:()=>(e=>{e("/")})(e),children:f?(0,h.jsx)(s.Z,{locale:n}):(0,h.jsx)(a.Z,{locale:n})})})})]})}var g=n(645430);const x={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function f({buttonAction:e,buttonText:t,imageUrl:n,brands:o}){const r=(0,i.useSelector)((({users:e})=>e)),a=o.slice(0,3).map((e=>{var t,n;return{name:null!==(t=r[e.id].username)&&void 0!==t?t:"",src:null!==(n=r[e.id].image_medium_url)&&void 0!==n?n:""}}));return(0,h.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,children:(0,h.jsxs)(g.MZ,{to:e,children:[(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,h.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,h.jsx)(p.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:n&&(0,h.jsx)(p.Ee,{alt:t,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:n,fit:"cover"})}),(0,h.jsx)(p.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:x.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,h.jsx)(p.xu,{width:"100%",position:"absolute",bottom:!0,paddingY:6,display:"flex",justifyContent:"center",children:(0,h.jsx)(p.xu,{width:24*(2*a.length+1),height:64,children:(0,h.jsx)(p.HE,{accessibilityLabel:"",collaborators:a})})})]})}),(0,h.jsx)(p.xu,{"aria-hidden":"true",width:"100%",display:"flex",rounding:"pill",color:"lightGray",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,h.jsx)(p.xv,{weight:"bold",children:(0,h.jsx)(p.xu,{children:t})})})]})})}var y=n(868194),_=n(358152);const v="49.5%";function b({buttonAction:e,buttonText:t,colors:n}){const o=(0,i.useSelector)((({pins:e})=>n.slice(0,4).map((t=>{var n;return{...null===(n=e[t.id].images)||void 0===n?void 0:n["736x"],title:e[t.id].description}}))));if(n.length<4)return null;const r=e=>{var t,n,i,o;return(0,h.jsx)(p.xu,{width:v,height:"100%",children:(0,h.jsx)(p.Ee,{alt:null!==(t=e.title)&&void 0!==t?t:"",color:"rgb(111, 91, 77)",naturalHeight:null!==(n=e.height)&&void 0!==n?n:1,naturalWidth:null!==(i=e.width)&&void 0!==i?i:1,src:null!==(o=e.url)&&void 0!==o?o:"",fit:"cover"})})};return(0,h.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,children:(0,h.jsxs)(g.MZ,{to:e,children:[(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:(0,h.jsx)(p.xu,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[o.slice(0,2),o.slice(2,4)].map((e=>(0,h.jsx)(p.kC,{width:"100%",height:v,justifyContent:"between",children:e.map(r)})))})})}),(0,h.jsx)(p.xu,{width:"100%",display:"flex",rounding:"pill",color:"lightGray",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,h.jsx)(p.xv,{weight:"bold",children:(0,h.jsx)(p.xu,{children:t})})})]})})}var w=n(151101);const S=(0,i.connect)((({pins:e,users:t},n)=>({pin:e[n.id],user:e[n.id]&&t[e[n.id].pinner]})),(()=>({})))((({isFirstChild:e,pin:t,user:n})=>{var i;if(!t)return null;const o=null===(i=t.images)||void 0===i?void 0:i["170x"];if(!o)return null;const{full_name:r,image_medium_url:a}=n||{},{dominant_color:s}=t,{height:l,width:d,url:c}=o;return(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:8,paddingLeft:e?8:void 0}},children:(0,h.jsxs)(p.xu,{position:"relative",children:[(0,h.jsx)(p.xu,{height:144,overflow:"hidden",rounding:4,width:108,children:(0,h.jsx)(p.Ee,{alt:t.title||"",color:null!=s?s:"",fit:"cover",naturalHeight:null!=l?l:1,naturalWidth:null!=d?d:1,src:null!=c?c:""})}),a&&(0,h.jsx)(p.xu,{alignItems:"center",bottom:!0,display:"flex",height:0,justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},height:60,rounding:"circle",width:60,children:(0,h.jsx)(w.Z,{name:null!=r?r:"",src:a})})})]})})}));function j({pinIds:e}){const t=e.concat(e).concat(e).concat(e);return(0,h.jsx)(p.xu,{height:174,overflow:"hidden",width:"100%",children:(0,h.jsx)(p.xu,{overflow:"scroll",children:(0,h.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:184,children:t.map(((e,t)=>(0,h.jsx)(S,{id:e,isFirstChild:0===t},e)))})})})}var T=n(968807),k=n(553431),I=n(128833),P=n(24309);const C="creator_spotlight_";class E extends o.PureComponent{render(){const{id:e,story:t}=this.props;if(!t||"social_seasonal_pin"===t.story_type)return null;const{button_text:n,objects:i,story_type:o,subtitle:r,title:a,background_colour:s,display_options:l}=t,{title_text_color:d,subtitle_text_color:c}=l;if(!o.startsWith(C)||!i||i.length<3)return null;const u=`/creator-spotlight/${o.slice(C.length)}`;return(0,h.jsx)(p.xu,{marginBottom:3,children:(0,h.jsx)(I.qS,{loggingId:e,objectIdStr:e,viewParameter:43,viewType:2,slotIndex:0,component:13484,auxData:{story_type:o},children:(0,h.jsx)(k.Z,{onTouch:()=>{(0,P.So)({view_type:2,view_parameter:43,component:13484,object_id_str:e,aux_data:{story_type:o}})},pressState:"none",to:u,children:(0,h.jsx)(p.xu,{rounding:2,overflow:"hidden",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:s}},children:(0,h.jsx)(p.xu,{width:"100%",height:"100%",children:(0,h.jsxs)(p.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"between",paddingY:4,children:[(!!r||!!a)&&(0,h.jsxs)(p.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[a&&a.format&&(0,h.jsx)(p.X6,{size:"sm",children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:d}},children:a.format})}),r&&r.format&&(0,h.jsx)(p.xv,{align:"center",children:(0,h.jsx)(p.xu,{marginTop:1,dangerouslySetInlineStyle:{__style:{color:c}},children:r.format})})]}),(0,h.jsx)(p.xu,{paddingY:2,marginTop:2,width:"100%",children:(0,h.jsx)(j,{pinIds:i.map((e=>e.id))})}),n&&n.format&&(0,h.jsx)(p.xu,{display:"inlineBlock",children:(0,h.jsx)(T.Z,{pressState:"compress",children:(0,h.jsx)(p.xu,{color:"red",rounding:"pill",position:"relative",children:(0,h.jsx)(p.xu,{paddingX:5,paddingY:5,children:(0,h.jsx)(p.xv,{color:"white",weight:"bold",children:n.format})})})})})]})})})})})})}}const A=(0,i.connect)((({stories:e},{id:t})=>({story:e[t]})),(()=>({})))(E);var L=n(153010),D=n(855168);function R({pin:e,width:t,height:n,showDivider:i}){var o,r,a,s,l,d,c;const u=null===(o=e.images)||void 0===o?void 0:o["236x"];return(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:i?{borderRight:"2px solid #fff"}:{}},children:(0,h.jsx)(p.GH,{contentAspectRatio:(null!==(r=null==u?void 0:u.width)&&void 0!==r?r:1)/(null!==(a=null==u?void 0:u.height)&&void 0!==a?a:1),height:n,width:t,children:(0,h.jsx)(p.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(l=null==u?void 0:u.width)&&void 0!==l?l:1,naturalHeight:null!==(d=null==u?void 0:u.height)&&void 0!==d?d:1,src:null!==(c=null==u?void 0:u.url)&&void 0!==c?c:""})})})}const O=(0,D.EN)((function({storyId:e,slotIndex:t,history:n,location:r}){const[a,s]=(0,o.useState)(0),l=(0,o.useRef)();(0,o.useLayoutEffect)((()=>{const e=l.current;e&&s(e.offsetWidth)}),[]);const d=(0,i.useSelector)((({stories:t})=>t[e])),c=(0,i.useSelector)((({pins:e})=>d.objects.map((t=>e[t.id])))).slice(0,2),{story_type:u,action:m}=d,g=`${r.pathname}products/${r.search}`;return(0,h.jsx)(I.qS,{auxData:{story_type:u,content_ids:c.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:a?(0,h.jsx)(p.xu,{padding:2,children:(0,h.jsx)(p.zd,{rounding:2,children:(0,h.jsxs)(p.iP,{onTap:()=>{(0,P.So)({component:200,view_parameter:3050,view_type:72}),n.push(g)},children:[(0,h.jsx)(p.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"lightGray",children:c.map(((e,t)=>(0,h.jsx)(R,{pin:e,width:(a-16)/2-1,height:a-16,showDivider:!t},e.id)))}),(0,h.jsx)(p.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,h.jsx)(p.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,h.jsx)(p.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255,255,255,0.97)"}},children:(0,h.jsx)(p.xv,{weight:"bold",children:m.text})})})})]})})}):(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:l})})}));var N=n(530826),B=n(271121);function Z({auxData:e,slotIndex:t,storyId:n,viewParameter:r,viewType:a}){const s=(0,i.useSelector)((({stories:e,pins:t})=>e[n].objects.map((e=>t[e.id])))),{action:l,story_type:d,title:c}=(0,i.useSelector)((({stories:e})=>e[n])),u=s.map((({type:e,id:t})=>e+":"+t)).join("|"),m={story_type:d,story_id:n,content_ids:u,...e},g=(0,D.k6)(),x=(0,D.TH)();return(0,h.jsx)(I.qS,{loggingId:n,objectIdStr:n,viewParameter:r,viewType:a,slotIndex:t,component:200,auxData:m,children:(0,h.jsxs)(o.Fragment,{children:[c&&(0,h.jsx)(p.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,h.jsx)(p.xv,{weight:"bold",children:c.format})}),(0,h.jsx)(p.kC,{wrap:!0,children:s.map((e=>(0,h.jsx)(p.kC.Item,{flexBasis:"50%",children:(0,h.jsx)(B.Z,{auxData:m,componentType:0,history:g,location:x,pinId:e.id,slotIndex:t,viewParameter:r,viewType:a})},e.id)))}),l&&l.url&&(0,h.jsx)(p.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,h.jsx)(N.Z,{accessibilityLabel:l.text,color:"lightGray",onTouch:()=>{(0,P.So)({view_type:a,view_parameter:r,aux_data:m})},text:l.text,to:l.url,size:"md",shape:"pill"})})]})})}var F=n(652896);function M({auxData:e,slotIndex:t,storyId:n,viewParameter:o,viewType:r}){const a=(0,i.useSelector)((({stories:e})=>{var t;return null===(t=e[n].objects[0])||void 0===t?void 0:t.schema})),s=(0,i.useSelector)((({stories:e})=>{var t;return null===(t=e[n])||void 0===t?void 0:t.title}));switch(a){case"pin":return(0,h.jsx)(Z,{auxData:e,slotIndex:t,storyId:n,viewType:r,viewParameter:o});case"article":return(0,h.jsx)(y.Z,{auxData:e,pattern:[F.U.extra_small],slotIndex:t,storyId:n,viewType:r,viewParameter:o});default:return s&&(0,h.jsx)(p.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,h.jsx)(p.xv,{weight:"bold",children:s.format})})}}var H=n(17649);function z({slotIndex:e,storyId:t,exactMatch:n=!1}){const{action:r,aux_fields:a,objects:s,story_type:l,title:d}=(0,i.useSelector)((({stories:e})=>e[t])),c=s[0].id,u=(0,i.useSelector)((({pins:e})=>s.slice(1,3).map((({id:t})=>e[t]))));return!n&&u.length<2?null:(0,h.jsx)(I.qS,{auxData:{content_ids:u.map((({id:e})=>e)),story_id:t,story_type:l,...a},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,h.jsxs)(o.Fragment,{children:[d&&(0,h.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,h.jsx)(p.xv,{align:"center",children:d.format})}),(0,h.jsx)(H.Z,{action:r,auxData:a,userId:c,userPins:n?void 0:u,userSearchRepStyle:n,viewParameter:43,viewType:2})]})})}var U=n(639144),W=n(221469);const $=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"];function G({guides:e,storyId:t,slotIndex:n,title:i}){var r;const a=(0,D.k6)(),s=null!==(r=(0,W.mB)((0,D.TH)().search).q)&&void 0!==r?r:"";return(0,h.jsx)(I.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:(0,h.jsxs)(o.Fragment,{children:[i&&i.format&&(0,h.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,h.jsx)(p.xv,{align:"center",children:i.format})}),(0,h.jsx)(U.Z,{guides:e.map((e=>{return{display:e.display,dominant_color:(t=e.display,$[t.charCodeAt(0)%$.length]),position:-1,term:e.term};var t})),history:a,isSlot0Style:!0,query:s})]})})}class Y extends o.PureComponent{render(){const{seasonalBlob:e,size:t}=this.props,{story_title:n,pin_image:i,pin_image_gif:o,user_name:r,board_name:a,header_background_color:s,textIconColor:l}=e,d=s||"orchid",c=this.props.i18n._("Take a look","Button text asking users to take a look at Seasonal pages","Button text asking users to take a look at Seasonal pages"),u=r&&a?`/${r}/${a}`:"/pinterestindonesia/happy-halloween/",m=n||"unknown",x=o||i||"",f=l||"white";return(0,h.jsx)(p.zd,{rounding:2,children:(0,h.jsx)(p.xu,{padding:3,children:(0,h.jsx)(g.MZ,{to:u,isAppUpsellDisabled:!0,onTouch:()=>{},children:(0,h.jsx)(p.xu,{children:(0,h.jsx)(p.xu,{display:"flex",margin:-1,height:t,children:(0,h.jsx)(p.xu,{width:"100%",children:(0,h.jsxs)(p.zd,{rounding:2,height:"100%",children:[(0,h.jsx)(p.xu,{height:t,children:(0,h.jsx)(p.Ee,{alt:m,color:d,fit:"cover",naturalHeight:1,naturalWidth:1,src:x})}),(0,h.jsx)(p.xu,{height:t,position:"absolute",top:!0,left:!0}),(0,h.jsx)(p.xu,{position:"absolute",top:!0,left:!0,right:!0,overflow:"hidden",paddingX:2,paddingY:4,dangerouslySetInlineStyle:{__style:{lineHeight:"19px"}},children:(0,h.jsx)(p.xv,{color:f,weight:"bold",children:m})}),(0,h.jsx)(p.xu,{position:"absolute",bottom:!0,left:!0,right:!0,padding:2,marginStart:"auto",marginEnd:"auto",children:(0,h.jsx)(p.zx,{fullWidth:!0,size:"sm",text:c})})]})})})})})})})}}const V=(0,i.connect)((({stories:e},t)=>({seasonalBlob:e[t.storyId].custom_properties,storyType:e[t.storyId].story_type,referringSource:e[t.storyId].referring_source})),(()=>({})))((function(e){const t=(0,l.ZP)();return(0,h.jsx)(Y,{...e,i18n:t})}));var q=n(180299),X=n(513337);function K({storyId:e,viewParameter:t,viewType:n}){const r=(0,i.useSelector)((({stories:t})=>t[e])),a=(0,i.useSelector)((({session:e})=>e.isTablet)),s=r.objects,l={viewParameter:t,viewType:n};return(0,o.useEffect)((()=>{(0,P.j)({event_type:9024,view_type:n,view_parameter:t})}),[]),r?(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(p.iz,{}),(0,h.jsxs)(p.xu,{paddingY:1,children:[(0,h.jsx)(p.xu,{paddingY:2,marginTop:3,children:(0,h.jsx)(p.X6,{align:"center",size:"sm",children:r.title.format})}),1===s.length?(0,h.jsx)(p.xu,{width:a?400:"auto",paddingY:2,margin:"auto",children:(0,h.jsx)(X.Z,{id:s[0].id,gridIndex:0,...l})}):(0,h.jsx)(p.xu,{overflow:"auto",children:(0,h.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",width:"fit-content",children:s.map(((e,t)=>(0,h.jsx)(p.xu,{width:a?400:"80vw",marginStart:0===t?0:2,paddingY:2,children:(0,h.jsx)(X.Z,{id:e.id,gridIndex:t,...l})},e.id)))})})]})]}):null}const J=(0,i.connect)((({pins:e},t)=>({pin:e[t.id]})),(()=>({})))((({pin:e})=>{var t;if(!e)return null;const n=e.images&&(e.images.orig||e.images["736x"]||e.images["290x"]||e.images["236x"]);return(0,h.jsx)(p.zd,{wash:!0,height:ae,width:ae,children:(0,h.jsx)(p.xu,{height:ae,position:"relative",width:ae,children:(0,h.jsx)(p.Ee,{alt:e.description||"",src:null!==(t=null==n?void 0:n.url)&&void 0!==t?t:"",fit:"cover",naturalHeight:1,naturalWidth:1,color:e.dominant_color||"#767676"})})})}));var Q=n(891378),ee=n(884272),te=n(946753),ne=n(931185),ie=n(785112);const oe=(0,i.connect)(((e,t)=>({pin:e.pins[t.pinId]})),(()=>({})))((({pin:e,shouldRoundPrice:t,showSalePrice:n})=>{const i=(0,l.ZP)();if(!e)return null;const{pinProduct:o}=(0,ie.Fi)({i18n:i,pin:e,useGridTitleOrRichSummary:!1});if(!o||!o.price)return null;const r=o.price||o.max_price,a=o.standard_price,s=/^(\$\d+)(\.?\d\d)*$/g,d=a&&s.exec(a),c=s.exec(r),u=(0,ne.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",m=(0,ne.Yc)()?"white":"darkGray";return(0,h.jsxs)(p.xu,{rounding:"pill",paddingX:2,paddingY:0,dangerouslySetInlineStyle:{__style:{backgroundColor:u,paddingTop:"3px",paddingBottom:"3px"}},"data-test-id":"MwebPricePill",display:"inlineBlock",children:[n&&d&&(0,h.jsxs)(p.xv,{align:"center",size:"sm",weight:"bold",color:"gray",inline:!0,children:[(0,h.jsx)("s",{children:(0,te.nk)("{{ priceRounded }}",{priceRounded:d[1]})})," "]}),(0,h.jsx)(p.xv,{align:"center",size:"sm",weight:"bold",color:m,inline:!0,children:(n&&a||t)&&c&&c[1]?(0,te.nk)("{{ priceRounded }}",{priceRounded:c[1]}):r})]})}));var re=n(179676);const ae=114;function se({handleClick:e,isVerifiedMerchant:t,pins:n,showVerifiedBadge:i,showVerifiedIdentityBadge:o,storyAction:r,storyType:a,title:s,viewParameter:l,trackingParams:d}){const c=(0,D.k6)(),{text:u}=r||{};return(0,h.jsxs)(p.xu,{marginTop:12,"data-test-id":"lego-closeup-related-module-contents",width:"100%",children:[s&&(0,h.jsxs)(p.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,h.jsx)(p.xv,{weight:"bold",children:s}),i&&(0,h.jsx)(p.xu,{marginStart:1,children:(0,h.jsx)(re.Z,{size:"sm",isVerifiedMerchant:t,showVerifiedIdentity:o})})]}),(0,h.jsx)(p.xu,{display:"flex",marginTop:4,justifyContent:"center",children:n.map(((e,t)=>(0,h.jsx)(I.dL,{viewType:3,loggingId:e.id,viewParameter:l,component:me[a],auxData:{commerce_data:(0,Q.Z)(e)},slotIndex:t,children:(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform"}},display:"flex",marginEnd:2!==t?2:0,overflow:"hidden",position:"relative",rounding:4,width:ae,children:(0,h.jsxs)(p.iP,{onTap:()=>(e=>{const t=(0,ee.Z)(d,e);(0,P.j)({component:me[a],event_type:8948,view_type:3,view_parameter:l,object_id_str:e.id,clientTrackingParams:t,aux_data:{image_signature:e.image_signature,closeup_navigation_type:"click",cosmic_ray_count:"5"}}),c.push(`/pin/${e.id}/`,{trackingParams:d})})(e),children:[(0,h.jsx)(J,{id:e.id}),(0,h.jsx)(p.xu,{position:"absolute",marginTop:2,marginStart:2,top:!0,children:(0,h.jsx)(oe,{pinId:e.id,shouldRoundPrice:!0})})]})})},e.id)))}),u&&(0,h.jsx)(p.xu,{display:"flex",marginTop:4,marginBottom:4,justifyContent:"center",children:(0,h.jsx)(p.zx,{onClick:e,size:"lg",text:u})})]})}var le=n(102156);function de({componentType:e,handleClick:t,isVerifiedMerchant:n,objects:i,showVerifiedBadge:r,showVerifiedIdentityBadge:a,storyAction:s,storyType:l,title:d,viewParameter:c,trackingParams:u}){const[p,m]=(0,o.useState)(!1);if(!i||!Array.isArray(i))return null;const g=i.filter((e=>"pin"===e.schema));if(g.length<3)return null;const x=Array.from(new Array(3)).map(((e,t)=>g[t]));return(0,h.jsx)(le.Z,{options:{threshold:0},onVisibilityChange:t=>{const{intersectionRatio:n}=t[0];n>0&&!p&&((0,P.j)({event_type:3400,view_type:3,view_parameter:c,component:e}),m(!0))},children:(0,h.jsx)(se,{handleClick:t,isVerifiedMerchant:n,pins:x,showVerifiedBadge:r,showVerifiedIdentityBadge:a,storyAction:s,storyType:l,title:d,viewParameter:c,trackingParams:u})})}var ce=n(648228);const ue=()=>{};function pe({onRelatedPinsTitleEnter:e,onRelatedPinsTitleExit:t,relatedPinsTitleRef:n,title:i}){return i?(0,h.jsx)(o.Fragment,{children:(0,h.jsx)(p.xu,{marginTop:12,marginBottom:2,ref:n,children:(0,h.jsx)(ce.Z,{onEnter:e||ue,onExit:t||ue,children:(0,h.jsx)(p.xv,{size:"lg",align:"center",weight:"bold",children:i})})})}):null}const he=["related_domain_collage","related_modules_header","related_products_collage","related_products_feed_header"],me={related_domain_collage:13327,related_products_collage:13176,related_products_feed_header:13176};const ge=function(e){var t,n;const{onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:r,pin:a,relatedPinsTitleRef:s,searchQuery:l,slotIndex:d,storyId:c,trafficSource:u,viewType:p,viewParameter:m}=e,g=(0,D.k6)(),x=(0,i.useSelector)((({stories:e})=>e[c]));if(!x)return null;const{action:f,content_ids:y,objects:_,story_type:v,title:{format:b},tracking_params:w}=x,S=me[v];if("related_modules_header"===v||"related_products_feed_header"===v)return(0,h.jsx)(I.qS,{auxData:{story_id:c,story_type:v},loggingId:c,objectIdStr:c,slotIndex:d,viewParameter:m,viewType:p,component:S,children:(0,h.jsx)(pe,{onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:r,relatedPinsTitleRef:s,title:b})});const{id:j}=a||{},{url:T}=f||{};if(!a||!j||!T)return null;const k=function(e,t){const n=e?`q=${e}`:null,i=t&&"unknown"!==t?`rs=${t}`:null;let o="";return n&&i?o=`?${n}&${i}`:!n&&i&&(o=`?${i}`),o}(l,u);let C=`${T}${k}`;"related_products_collage"===v&&(C=k?`/pin/${j}/visual-search/${k}source=shopping&tab=1`:`/pin/${j}/visual-search/?source=shopping&tab=1`);const E=(y||[]).map((e=>`pin:${e}`)).join("|");let A,L;if("related_domain_collage"===v){var R;const e=(null===(R=a.link_domain)||void 0===R?void 0:R.official_user)||{};A=e.is_verified_merchant,L=e.verified_identity}return(0,h.jsx)(I.qS,{auxData:{content_ids:E,story_id:c,story_type:v},component:S,loggingId:c,objectIdStr:c,slotIndex:d,viewParameter:m,viewType:p,children:(0,h.jsx)(de,{componentType:S,handleClick:()=>{(0,P.So)({view_type:3,view_parameter:m,component:S,aux_data:{contentIds:E,story_id:c,story_type:v}}),g.push(C)},isVerifiedMerchant:A,objects:_,showVerifiedBadge:A||(null===(t=L)||void 0===t?void 0:t.verified),showVerifiedIdentityBadge:!A&&(null===(n=L)||void 0===n?void 0:n.verified),storyAction:f,title:b,viewParameter:m,trackingParams:w,storyType:v})})};var xe=n(333501);const fe=["style_pivot","structured_search_bubble","story_pins_search_upsell"];function ye({auxData:e,fullWidth:t,onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:o,pin:a,relatedPinsTitleRef:s,slotIndex:l,storyId:d,viewType:c,viewParameter:u}){const g=(0,i.useSelector)((({stories:e})=>e[d]));if(!g||!g.story_type)return null;const{action:x,container_type:v,custom_properties:w,display_options:S,experience:j,story_type:T,title:k,objects:I}=g;if(t)return fe.includes(T)&&0===S.num_columns_requested?(0,h.jsx)(p.xu,{marginBottom:5,children:(0,h.jsx)(M,{auxData:e,slotIndex:l,storyId:d,viewType:c,viewParameter:u})}):T.startsWith("creator_spotlight_")?(0,h.jsx)(p.xu,{marginBottom:5,children:(0,h.jsx)(A,{id:d})}):he.includes(T)?(0,h.jsx)(ge,{onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:o,pin:a,relatedPinsTitleRef:s,storyId:d,slotIndex:l,viewParameter:u,viewType:c}):T.startsWith("related_articles")?(0,h.jsx)(K,{storyId:d,viewType:c,viewParameter:u}):T.startsWith("SKIN_TONE_FILTER_QUERIES")?(0,h.jsx)(_.Z,{title:k}):T.startsWith("search_pinner_authority_hero")?(0,h.jsx)(z,{storyId:d,slotIndex:0,exactMatch:!0}):null;if(fe.includes(T)&&0===S.num_columns_requested)return null;switch(v){case 56:return(0,h.jsx)(p.xu,{padding:2,children:(0,h.jsx)(y.Z,{slotIndex:l,storyId:d,viewType:c,viewParameter:u})})}switch(T){case"app_upsell":return(0,h.jsx)(L.Z,{experience:j,eligibleIds:[j.experience_id],children:(0,h.jsx)(m,{})});case"feed_card_default":case"feed_card_video":return(0,h.jsx)(L.Z,{experience:j,eligibleIds:[j.experience_id],isBackendExperience:!0,children:(0,h.jsx)(xe.Z,{buttonAction:x.url,buttonCustomization:w.button_customization,buttonText:x.text,experienceId:j.experience_id,hideCompleteButton:w.hide_complete_button,imageAlt:w.image_alt,imageUrl:w.image,placementId:j.placement_id,storyType:T,titleText:k.format,titleTextColor:xe.e[S.title_text_color],titleTextCustomization:w.title_text_customization,videoPin:w.video_pin,videoPlaceholderImage:w.video_placeholder_image})});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":return(0,h.jsx)(xe.Z,{buttonAction:x.url,buttonText:x.text,imageAlt:w.image_alt,imageUrl:w.image,storyType:T,titleText:k.format,titleTextColor:xe.e[S.title_text_color]});case"user_brand_story_v1":return(0,h.jsx)(f,{buttonAction:x.url,buttonText:x.text,imageUrl:w.image,brands:I});case"user_color_story_v1":return(0,h.jsx)(b,{buttonAction:x.url,buttonText:x.text,colors:I});case"BUBBLE_ONE_COL":return(0,h.jsx)(p.xu,{padding:2,children:(0,h.jsx)(y.Z,{slotIndex:l,storyId:d,viewType:c,viewParameter:u})});case"social_seasonal_pin":return(0,h.jsx)(V,{slotIndex:l,storyId:d,viewType:c,viewParameter:u,size:290});case"search_product_collage_story":return(0,h.jsx)(r.ZP,{name:"mweb_search_product_collage_story",children:({anyEnabled:e})=>e&&(0,h.jsx)(q.Z,{slotIndex:l,story:g,viewType:c,viewParameter:u})});case"pinner_authority":case"pinner_authority_unified":return(0,h.jsx)(z,{storyId:d,slotIndex:l});case"stela_in_flashlight_onecol":return(0,h.jsx)(O,{storyId:d,slotIndex:l});case"search_guides":return(0,h.jsx)(G,{guides:g.objects,slotIndex:l,storyId:d,title:k});default:return null}}},180299:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),o=n(40142),r=n(151101),a=n(645430),s=n(931185),l=n(128833),d=n(24309),c=n(883119),u=n(785893);const p={content:{marginBottom:"1px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"},priceIndentifier:{backgroundColor:(0,s.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:(0,s.Yc)()?"#fff":"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"}};function h({productPin:e,showPricePill:t}){const[n,o]=(0,i.useState)(void 0),r=e=>{if(e){const t=e.offsetWidth;o(t)}};if(!n)return(0,u.jsx)(c.xu,{ref:r,width:"100%",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}});const{grid_title:a,images:{"236x":s}={},rich_summary:l}=e,{height:d,width:h,url:m}=null!=s?s:{},g=l&&l.products&&l.products[0],x=g&&g.offer_summary&&g.offer_summary.price;return(0,u.jsxs)(c.zd,{wash:!0,height:n,width:"100%",children:[(0,u.jsx)(c.Ee,{alt:null!=a?a:"",fit:"cover",naturalHeight:null!=d?d:1,naturalWidth:null!=h?h:1,src:null!=m?m:""}),t&&x&&(0,u.jsx)(c.xu,{margin:1,paddingY:1,paddingX:1,top:!0,left:!0,position:"absolute",children:(0,u.jsx)(c.xv,{children:(0,u.jsx)(c.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:p.priceIndentifier},children:x})})})]})}function m({dangerouslySetActionUrl:e,slotIndex:t,story:n,viewType:s,viewParameter:m}){const{action:g,objects:x,story_type:f,subtitle:y,title:_}=n,{url:v}=g,b=g.text||_.format,w=(0,o.useSelector)((({pins:e})=>x.reduce(((t,n)=>("pin"===n.schema&&t.push(e[n.id]),t)),[]))),S=y?3:1;let j,T;if(["related_domain_collage","shop_brand_story"].includes(f)){const e=g.user;j=e&&(e.image_medium_url||e.image_large_url),T=e&&e.full_name}const k=(0,u.jsxs)(c.xu,{overflow:"hidden",children:[(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:p.content},children:(0,u.jsx)(h,{productPin:w[0],showPricePill:!0})}),(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"between",dangerouslySetInlineStyle:{__style:p.content},children:[(0,u.jsx)(c.xu,{width:"calc(50% - 0.5px)",children:(0,u.jsx)(h,{productPin:w[1],showPricePill:"product_category"!==f})}),(0,u.jsx)(c.xu,{width:"calc(50% - 0.5px)",children:(0,u.jsx)(h,{productPin:w[2],showPricePill:"product_category"!==f})})]})]}),I=(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(c.xu,{color:"product_category"!==f?"lightGray":void 0,display:"flex",paddingX:1,alignItems:"center",justifyContent:"center",paddingY:S,children:(0,u.jsxs)(c.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[y?(0,u.jsx)(c.xu,{marginBottom:1,children:(0,u.jsx)(c.xv,{align:"center",color:"gray",size:"md",children:y.format})}):null,(0,u.jsx)(c.xv,{align:"center",weight:"bold",children:b})]})}),T&&j&&(0,u.jsx)(c.xu,{position:"absolute",left:!0,top:!0,margin:3,children:(0,u.jsx)(r.Z,{name:T,size:"lg",src:j,outline:!0})})]});return(0,u.jsx)(l.qS,{auxData:{story_type:f,story_id:n.id},component:200,loggingId:n.id,objectIdStr:n.id,slotIndex:t,viewParameter:m,viewType:s,children:(0,u.jsx)(c.xu,{padding:2,width:"100%",children:(0,u.jsx)(a.MZ,{to:e||v,onTouch:()=>(0,d.So)({element:372,component:200,object_id_str:n.id,view_type:s,view_parameter:m,aux_data:{story_type:f,story_id:n.id}}),children:"product_category"===f?(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(c.zd,{rounding:2,children:k}),I]}):(0,u.jsxs)(c.zd,{rounding:2,children:[k,I]})})})})}},544039:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(739472),o=n(785893);function r(e){return t=>(0,o.jsx)(i.HS,{children:n=>(0,o.jsx)(e,{...t,showToast:n.showToast,showOneToast:n.showOneToast})})}},148874:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(679822),o=n(503358),r=n(796821),a=n(883119),s=n(785893);function l({imageUrls:e,rounding:t,subtitle:n,subtitleSize:l,title:d,titleSize:c}){const u=(0,r.HG)(),{isHovering:p,handleMouseEnter:h,handleMouseLeave:m}=(0,o.Z)();if(!e||e.length<=0)return null;const g=e.slice(0,3);return(0,s.jsxs)(a.xu,{borderStyle:"shadow",color:"white",overflow:"hidden",position:"relative",rounding:null!=t?t:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:u?h:void 0,onMouseLeave:u?m:void 0,children:[p&&(0,s.jsx)(i.Z,{}),(0,s.jsxs)(a.xu,{display:"flex",direction:"column",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,s.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",height:"100%",width:"100%",children:g.map(((e,t)=>(0,s.jsx)(a.xu,{width:100/g.length+"%",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:(0,s.jsx)(a.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e})},t)))}),(0,s.jsxs)(a.xu,{flex:"none",paddingX:5,paddingY:6,width:"100%",children:[n&&(0,s.jsx)(a.xu,{marginBottom:1,children:(0,s.jsx)(a.xv,{size:l,align:"center",weight:u?"bold":"normal",children:n})}),(0,s.jsx)(a.X6,{size:c,align:"center",children:d})]})]})]})}},513337:(e,t,n)=>{n.d(t,{Z:()=>A});var i=n(40142),o=n(120818),r=n(679822),a=n(503358),s=n(796821),l=n(883119),d=n(785893);const c=({imageUrls:e,subtitle:t,subtitleSize:n,title:i,titleSize:o})=>{const c=(0,s.HG)(),{isHovering:u,handleMouseEnter:p,handleMouseLeave:h}=(0,a.Z)();return!e||e.length<=0?null:(0,d.jsxs)(l.xu,{borderStyle:"shadow",color:"white",overflow:"hidden",position:"relative",rounding:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:c?p:void 0,onMouseLeave:c?h:void 0,children:[u&&(0,d.jsx)(r.Z,{}),(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,d.jsx)(l.Ee,{alt:i,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e[0],children:(0,d.jsx)(l.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",alignItems:"end",paddingY:6,paddingX:5,children:(0,d.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",width:"100%",children:[t&&(0,d.jsx)(l.xu,{marginBottom:1,children:(0,d.jsx)(l.xv,{color:"white",size:n,align:"center",children:t})}),(0,d.jsx)(l.X6,{color:"white",size:o,align:"center",children:i})]})})})})]})};var u=n(151101),p=n(589841),h=n(24309);const m=Math.floor(24),g=({articleId:e,imageUrls:t,subtitle:n,title:o,viewParameter:c,viewType:g,user:x})=>{const{isAuthenticated:f}=(0,i.useSelector)((({session:e})=>e)),y=(0,s.HG)(),{isHovering:_,handleMouseEnter:v,handleMouseLeave:b}=(0,a.Z)();if(!x||!t||t.length<=0)return null;const{full_name:w,image_medium_url:S,image_small_url:j}=x,T=S||j||"",k=Math.min(t.length,3),I={aux_data:{today_article_id:e},component:13525,object_id_str:e,view_parameter:c,view_type:g};return(0,d.jsxs)(l.xu,{borderStyle:"shadow",color:"white",onMouseEnter:y?v:void 0,onMouseLeave:y?b:void 0,overflow:"hidden",rounding:8,children:[_&&(0,d.jsx)(r.Z,{}),(0,d.jsx)(l.xu,{display:"flex",position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{paddingTop:"45%"}},children:(0,d.jsx)(l.xu,{display:"flex",height:"100%",direction:"row",left:!0,position:"absolute",top:!0,width:"100%",children:t.slice(0,k).map(((e,t)=>(0,d.jsx)(l.xu,{width:100/k+"%",children:(0,d.jsx)(l.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e},t)})))})}),(0,d.jsxs)(l.xu,{flex:"none",paddingX:5,paddingY:6,position:"relative",width:"100%",children:[(0,d.jsx)(l.xu,{height:48,position:"absolute",width:48,dangerouslySetInlineStyle:{__style:{left:`calc(50% - ${m}px)`,top:`-${m}px`}},children:(0,d.jsx)(u.Z,{name:null!=w?w:"",outline:!0,size:"fit",src:T})}),o&&(0,d.jsx)(l.xu,{marginTop:2,children:(0,d.jsx)(l.X6,{size:"sm",align:"center",children:o})}),n&&(0,d.jsx)(l.xu,{marginTop:2,children:(0,d.jsx)(l.xv,{align:"center",size:"sm",children:n})}),f&&(0,d.jsx)(l.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,d.jsx)(p.Z,{isSecondaryButton:!0,onTap:()=>{(0,h.So)({...I,element:62})},size:"lg",user:x,viewParameter:c,viewType:g})})]})]})};var x=n(884272),f=n(110768);const y=function({userId:e}){return(0,d.jsx)(f.Z,{avatarSize:"xs",hideButtons:!0,shouldNavigateToProfile:!1,type:"row",userId:e,viewParameter:3372,viewType:1})};var _=n(280313),v=n(128833),b=n(855168),w=n(973013);const S=function({articleId:e,gridIndex:t,pinId:n,pinOfficialUserId:i,showCreator:o,title:c,viewParameter:u,viewType:p}){var h;const m=(0,b.TH)(),g=(0,w.D3)(n),f=(0,s.HG)(),{isHovering:S,handleMouseEnter:j,handleMouseLeave:T}=(0,a.Z)();if(!g)return null;const{images:k}=g,I=(null==k?void 0:k["736x"])||(null==k?void 0:k["236x"])||(null==k?void 0:k["170x"]);if(!I)return null;const P=(0,_.xt)(i,g);return(0,d.jsxs)(l.xu,{borderStyle:"shadow",color:"white",onMouseEnter:f?j:void 0,onMouseLeave:f?T:void 0,overflow:"hidden",rounding:8,children:[S&&(0,d.jsx)(r.Z,{}),(0,d.jsx)(v.dL,{auxData:{grid_index:t,today_article_id:e},loggingId:g.id,objectIdStr:g.id,slotIndex:t,impressionData:{imageURL:I.url},component:13525,trackingParams:(0,x.Z)((m.state||{}).trackingParams,g),viewParameter:u,viewType:p,children:(0,d.jsx)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof I.height&&"number"==typeof I.width?I.height/I.width*100+"%":"100%"}},children:(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,d.jsx)(l.Ee,{alt:c,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(h=I.url)&&void 0!==h?h:""})})})}),(0,d.jsxs)(l.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,d.jsx)(l.X6,{align:"center",size:"sm",children:c}),o&&P&&(0,d.jsx)(l.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,d.jsx)(y,{userId:P})})]})]})};var j=n(274792);const T=({articleId:e,gridIndex:t,pinId:n,title:i,viewParameter:o,viewType:r})=>{var a;const s=(0,b.TH)(),c=(0,w.D3)(n),p=(0,w.oO)(c),h=(0,w.g3)(c);if(!c)return null;const m=(null==h?void 0:h.page_count)||"",{images:g}=c,f=(null==g?void 0:g["736x"])||(null==g?void 0:g["236x"])||(null==g?void 0:g["170x"]);if(!f)return null;const y=(null==p?void 0:p.image_medium_url)||(null==p?void 0:p.image_small_url)||"",_=(null==p?void 0:p.full_name)||"",S=Boolean(y||_);return(0,d.jsxs)(l.xu,{borderStyle:"shadow",color:"white",overflow:"hidden",paddingY:6,rounding:8,children:[(0,d.jsx)(l.xu,{paddingX:6,display:"flex",justifyContent:"center",children:(0,d.jsx)(l.X6,{align:"center",size:"sm",children:i})}),(0,d.jsx)(v.dL,{auxData:{grid_index:t,today_article_id:e},loggingId:c.id,objectIdStr:c.id,slotIndex:t,impressionData:{imageURL:f.url},component:13525,trackingParams:(0,x.Z)((s.state||{}).trackingParams,c),viewParameter:o,viewType:r,children:(0,d.jsxs)(l.xu,{marginTop:4,paddingX:12,children:[(0,d.jsx)(l.zd,{rounding:8,children:(0,d.jsx)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof f.height&&"number"==typeof f.width?f.height/f.width*100+"%":"100%"}},children:(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,d.jsx)(l.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(a=f.url)&&void 0!==a?a:"",children:(0,d.jsx)(l.xu,{position:"relative",marginStart:1,marginTop:1,children:(0,d.jsx)(j.Z,{icon:"story-pin",text:m.toString()})})})})})}),S&&(0,d.jsxs)(l.xu,{alignItems:"center",display:"flex",marginTop:2,maxWidth:"100%",children:[(0,d.jsx)(l.xu,{flex:"none",height:44,width:44,marginEnd:2,children:(0,d.jsx)(u.Z,{name:"",outline:!0,size:"fit",src:y})}),(0,d.jsx)(l.xv,{lineClamp:1,children:_})]})]})})]})};var k=n(68131);const I=function({articleId:e,gridIndex:t,pinOfficialUserId:n,showCreator:i,title:o,videoPinId:c,viewParameter:u,viewType:p}){const h=(0,b.TH)(),m=(0,w.D3)(c),g=(0,s.HG)(),{isHovering:f,handleMouseEnter:S,handleMouseLeave:j}=(0,a.Z)();if(!m)return null;const{images:T}=m,I=(null==T?void 0:T["736x"])||(null==T?void 0:T["236x"])||(null==T?void 0:T["170x"])||{},P=(0,_.xt)(n,m);return(0,d.jsxs)(l.xu,{borderStyle:"shadow",color:"white",direction:"column",display:"flex",flex:"none",overflow:"hidden",rounding:8,dangerouslySetInlineStyle:{__style:{transform:"translate3d(0, 0, 0)"}},onMouseEnter:g?S:void 0,onMouseLeave:g?j:void 0,children:[f&&(0,d.jsx)(r.Z,{}),(0,d.jsx)(v.dL,{auxData:{grid_index:t,today_article_id:e},loggingId:c,objectIdStr:c,slotIndex:t,impressionData:{imageURL:I.url},component:13525,trackingParams:(0,x.Z)((h.state||{}).trackingParams,m),viewParameter:u,viewType:p,children:(0,d.jsx)(k.Z,{pinId:c})}),(0,d.jsxs)(l.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,d.jsx)(l.X6,{align:"center",size:"sm",children:o}),i&&P&&(0,d.jsx)(l.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,d.jsx)(y,{userId:P})})]})]})};var P=n(148874);const C=new Set([3,2,6]),E=({children:e,href:t,isAuthenticated:n,isTodayArticlePage:i,onTap:o})=>{const r=(0,s.HG)();return n?(0,d.jsx)(l.iP,{onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),o({event:e})},tapStyle:"compress",children:e}):(0,d.jsx)(l.iP,{href:t,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),o({event:e})},role:"link",children:r?(0,d.jsx)(l.xu,{width:i?void 0:408,minHeight:i?void 0:306,children:e}):e})},A=({gridIndex:e,id:t,isTodayArticlePage:n=!1,article:r,subtitleSize:a,titleSize:s,viewParameter:u,viewType:p})=>{const m=(0,b.k6)(),x=(0,i.useSelector)((({users:e})=>e)),f=(0,i.useSelector)((({pins:e})=>e)),{isAuthenticated:y}=(0,i.useSelector)((({session:e})=>e)),w=(0,i.useSelector)((({todayArticles:e})=>r||e[t]));if(!w)return null;const{article_creator_user:j,content_pin:k,content_pin_official_user:A,display_type:L,feed_source:D,header_pin_id:R,image_urls:O,show_creator:N,subtitle:B,title:Z,video_pin:F}=w;let M=null,H=(0,_.T7)(D,Z,t);switch(L){case 0:M=(0,d.jsx)(c,{imageUrls:O,subtitle:B,subtitleSize:a||"lg",title:Z,titleSize:s||"md"});break;case 1:M=(0,d.jsx)(P.Z,{imageUrls:O,subtitle:B,subtitleSize:a||"lg",title:Z,titleSize:s||"md"});break;case 8:const n=x[j||""];n?(M=(0,d.jsx)(g,{articleId:t,imageUrls:O,subtitle:B,title:Z,user:n,viewParameter:u,viewType:p}),H=`/${encodeURIComponent(n.username)}/`):M=null;break;case 2:F&&(M=(0,d.jsx)(I,{articleId:t,gridIndex:e,pinOfficialUserId:A,showCreator:N,title:Z,videoPinId:F,viewParameter:u,viewType:p}),H=`/pin/${F}`);break;case 3:M=(0,d.jsx)(S,{articleId:t,gridIndex:e,pinId:k,pinOfficialUserId:A,showCreator:N,title:Z,viewParameter:u,viewType:p}),H=`/pin/${R}`;break;case 6:M=(0,d.jsx)(T,{articleId:t,gridIndex:e,pinId:k,title:Z,viewParameter:u,viewType:p}),H=`/pin/${R}`;break;default:M=null}return M?(0,d.jsx)(v.Y4,{auxData:{grid_index:e.toString(),today_article_id:t},loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:u||3372,viewType:p||1,children:({impressionTrackerRef:i})=>(0,d.jsx)(l.xu,{ref:i,children:(0,d.jsx)(E,{href:H,isAuthenticated:y,isTodayArticlePage:n,onTap:()=>{if((0,h.So)({view_type:p||1,view_parameter:u||3372,component:13525,aux_data:{today_article_id:t,grid_index:e.toString()}}),C.has(L)){const t=k||F;(0,h.j)({event_type:8948,view_type:p||1,view_parameter:u||3372,object_id_str:t,clientTrackingParams:t?f[t].tracking_params:void 0,aux_data:{today_article_id:t,grid_index:e.toString(),cosmic_ray_count:"4",closeup_navigation_type:(0,o.Z)(m)}})}m.push(H)},children:M})})}):null}},552149:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(40142),o=n(352645),r=n(156993),a=n(823493),s=n.n(a),l=n(414653),d=n(513337),c=n(667294),u=n(796821),p=n(883119),h=n(785893);const m=({marginTop:e,subtitle:t,title:n})=>{const i=Math.trunc((e||0)/4),o=(0,u.HG)();return(0,h.jsxs)(p.xu,{paddingX:9,marginTop:i,"data-test-id":"today-tab-header",children:[t?o?(0,h.jsx)(p.X6,{accessibilityLevel:2,size:"sm",align:"center",children:n}):(0,h.jsx)(p.xv,{align:"center",children:n}):(0,h.jsx)(p.X6,{accessibilityLevel:1,align:"center",size:o?"md":"sm",children:n}),t&&(0,h.jsx)(p.xu,{marginTop:1,children:(0,h.jsx)(p.X6,{accessibilityLevel:1,align:"center",size:o?"lg":"md",children:t})})]})};var g=n(174523),x=n(347136),f=n(605558),y=n(24309),_=n(855168);const v=({fromSearchPage:e=!1,hasGoToHomefeedButton:t,marginBottom:n,marginTop:o,subtitle:r,title:a})=>{const s=(0,g.ZP)(),l=(0,i.useDispatch)(),d=(0,c.useCallback)((()=>l((0,f.r)(null,x.ef))),[l]),u=(0,_.k6)();return(0,h.jsxs)(p.xu,{"data-test-id":"today-tab-footer",alignItems:"center",display:"flex",direction:"column",paddingX:12,dangerouslySetInlineStyle:{__style:{marginBottom:n,marginTop:o}},children:[(0,h.jsx)(p.JO,{accessibilityLabel:s._("End of feed","today_tab.end_of_feed","icon marking end of today tab"),color:"darkGray",icon:"check-circle",size:30}),(0,h.jsx)(p.xu,{marginTop:4,children:(0,h.jsx)(p.xv,{align:"center",children:a})}),(0,h.jsx)(p.xu,{marginTop:1,children:(0,h.jsx)(p.xv,{align:"center",weight:"bold",children:r})}),t&&!e&&(0,h.jsx)(p.xu,{marginTop:10,children:(0,h.jsx)(p.zx,{onClick:()=>{(0,y.So)({view_type:1,view_parameter:3372,component:8,element:11689}),d(),u.push("/")},text:s._("Go to home feed","today_tab.end_of_feed.go_back_to_homefeed_button","Button label at the end of today tab that takes user back to homefeed")})}),e&&(0,h.jsx)(p.xu,{marginTop:10,children:(0,h.jsx)(p.zx,{role:"link",href:"/search",text:s._("Go back","today_tab.end_of_feed.go_back_to_search_button","Button label at the end of today tab that takes user back to search page")})})]})},b=({fromSearchPage:e=!1,id:t,itemIndex:n})=>{var o;const r=(0,u.HG)(),a=(0,i.useSelector)((e=>e.stories[t])),s=(0,i.useSelector)((({session:e})=>e.isAuthenticated));switch(null==a?void 0:a.story_type){case"today_tab_date_header":case"today_tab_header":return(0,h.jsx)(m,{marginTop:r||0===n?0:24,subtitle:(null===(o=a.subtitle)||void 0===o?void 0:o.format)||"",title:a.title.format});case"today_tab_footer":const t=28;return(0,h.jsx)(v,{hasGoToHomefeedButton:s,marginTop:t,marginBottom:t,subtitle:a.subtitle.format,title:a.title.format,fromSearchPage:e});default:return null}};function w({dayData:e,isFirstDayInFeed:t,fromSearchPage:n=!1}){const{headerStoryKey:i,articleKeys:o}=e;return(0,h.jsxs)(c.Fragment,{children:[i&&(0,h.jsx)(p.xu,{paddingY:t?0:8,marginBottom:t?8:0,children:(0,h.jsx)(b,{id:i.id,itemIndex:i.index,fromSearchPage:n})}),(0,h.jsx)(p.kC,{wrap:!0,gap:4,children:o.map(((e,t)=>(0,h.jsx)(p.xu,{paddingY:2,children:(0,h.jsx)(d.Z,{id:e.id,gridIndex:t,viewType:1,viewParameter:3372},e.id)},t)))})]})}var S=n(280313);const j=e=>{if(e.length<1)return[];let t=[],n={headerStoryKey:null,articleKeys:[]},i=0;return e.forEach((e=>{"story"===e.type?(n.articleKeys.length>0&&(t=[...t,n],n={headerStoryKey:null,articleKeys:[]}),n={...n,headerStoryKey:e}):"todayArticle"===e.type&&(n={...n,articleKeys:[...n.articleKeys,{...e,slot_index:i}]},i+=1)})),t=[...t,n],t};var T=n(964964);function k({fromSearchPage:e=!1,numDaysToFetch:t,paddingY:n=3}){var r;const a=(0,g.ZP)(),l=(0,u.HG)(),c=(0,_.TH)(),{isAtEnd:m,isFetching:x,fetchMore:f}=(0,T.Wf)({name:"TodayTabResource",options:(0,S.Yq)(!0,t,null===(r=c.state)||void 0===r?void 0:r.referrer)}),{isTablet:y}=(0,i.useSelector)((({session:e})=>e)),v=(0,i.useSelector)((({feeds:e})=>e["today-tab"]))||[];return(0,h.jsxs)(p.xu,{paddingY:n,"data-test-id":"today-tab-feed",children:[v.length>0&&(l?(0,h.jsxs)(p.xu,{margin:"auto",width:848,children:[j(v).map(((t,n)=>(0,h.jsx)(w,{dayData:t,isFirstDayInFeed:0===n,fromSearchPage:e},n))),(0,h.jsx)(p.gr,{fetchMore:s()(f,100),isAtEnd:m,isFetching:x})]}):(0,h.jsx)(o.Z,{cacheKey:"todayTab",comp:({data:t,itemIdx:n})=>{const i=(()=>{switch(t.type){case"todayArticle":return(0,h.jsx)(p.xu,{"data-test-id":"today-tab-article",children:(0,h.jsx)(d.Z,{id:t.id,gridIndex:n,viewType:1,viewParameter:3372})});case"story":return(0,h.jsx)(b,{id:t.id,itemIndex:n,fromSearchPage:e});default:return null}})();return(0,h.jsx)(p.xu,{paddingY:2,children:i})},items:v,loadItems:f,minCols:y?2:1,gutterWidth:y?24:12})),x&&(0,h.jsx)(p.xu,{column:12,paddingY:2,children:(0,h.jsx)(p.$j,{accessibilityLabel:a._("Loading feed","today_tab.loading","spinner label when loading today tab"),show:!0})})]})}function I({fromSearchPage:e,numDaysToFetch:t,paddingY:n}){return(0,h.jsx)(r.Z,{viewType:1,viewParameter:3372,children:(0,h.jsx)(l.Z,{view:1,viewParameter:3372,children:(0,h.jsx)(k,{fromSearchPage:e,numDaysToFetch:t,paddingY:n})})})}},679822:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(785893);const r=new i.Ry(1);function a(){return(0,o.jsx)(i.xu,{opacity:.1,color:"transparentDarkGray",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:r})}},550343:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(40142),o=n(855283),r=n(553431),a=n(620585),s=n(174523),l=n(302199),d=n(883119),c=n(915140),u=n(785893);const p=({decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:o,nameTextSize:r,renderAsPill:c,showFollowerCount:p,topic:h,topicBlob:m,topicInfoForContextualExp:g})=>{var x;const f=(0,s.ZP)(),y=(0,l.Z)(),_=g||h||m||{},v=_.images["236x"]||_.images["400x"]||_.images["474x"]||_.images.orig||{height:1,url:"",width:1},b=_.follower_count||-1,w=(0,u.jsx)(d.JO,{accessibilityLabel:f._("Selected"),color:"white",icon:n?"check":"check-circle",size:n?12:24});return c?(0,u.jsx)(a.Z,{color:_.background_color||"#767676",image:v,isSelected:i,title:_.name}):(0,u.jsxs)(d.xu,{position:"relative","aria-selected":i,children:[(0,u.jsx)(d.zd,{rounding:n||t?4:2,children:(0,u.jsxs)(d.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,u.jsx)(d.xu,{bottom:!0,left:!0,padding:n&&i?1:0,position:"absolute",right:!0,rounding:n&&i?4:0,top:!0,children:(0,u.jsx)(d.Ee,{alt:_.name,color:_.background_color||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(x=v.url)&&void 0!==x?x:""})}),(0,u.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&i?"4px solid #767676":"none"}},rounding:n?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),n&&i&&(0,u.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),t?(0,u.jsx)(d.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,u.jsx)(d.xv,{align:"center",color:"white",size:r,weight:"bold",children:_.name})}):(0,u.jsxs)(d.xu,{bottom:!0,left:!0,padding:e?1:2,position:"absolute",right:!0,children:[(0,u.jsx)(d.xv,{color:"white",size:r,weight:"bold",children:_.name}),p&&b>=0&&(0,u.jsx)(d.xu,{paddingY:1,children:(0,u.jsxs)(d.xv,{color:"white",size:"sm",children:[(0,u.jsx)(d.xv,{color:"white",inline:!0,size:"sm",weight:"bold",children:y(o,b,{shortform:!0,shortform_maximum_fraction_digits:1})}),f._("followers")]})})]}),i&&(0,u.jsx)(d.xu,{margin:2,position:"absolute",right:!0,top:!0,children:n?(0,u.jsx)(d.xu,{alignItems:"center",color:"darkGray",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:w}):w})]})},h=({decreaseNamePadding:e=!1,id:t,isHomefeedTuner:n,isLego:a,isSelected:s=!1,linkDestination:l="topics",nameTextSize:h="lg",onTouch:m,padding:g=2,renderAsPill:x,showFollowButton:f=!1,showFollowerCount:y=!1,shouldClickthrough:_=!1,topicBlob:v,topicInfoForContextualExp:b,viewParameter:w,viewType:S})=>{const j=(0,i.useDispatch)(),T=(0,i.useSelector)((({topics:e})=>e[t])),k=(0,i.useSelector)((({session:e})=>e.locale)),I=(0,u.jsxs)(d.xu,{"data-test-id":"nux-picker-topic",children:[(0,u.jsx)(p,{decreaseNamePadding:e,isHomefeedTuner:n,isLego:a,isSelected:s,locale:k,nameTextSize:h,renderAsPill:x,showFollowerCount:y,topic:T,topicBlob:v,topicInfoForContextualExp:b}),!!T&&f&&(0,u.jsx)(d.xu,{paddingY:2,children:(0,u.jsx)(o.Z,{shouldShowAddRemoveText:n,followEventType:601,id:T.id,invertColors:n,isFollowed:T.is_followed||!1,onFollow:e=>j((0,c.ZN)(e)),onUnfollow:e=>j((0,c.fv)(e)),size:"md",unfollowEventType:602,viewParameter:w||void 0,viewType:S||void 0})})]});let P="/";return T&&("explore"===l?P=`/explore/${encodeURIComponent(T.slug)}`:["topic","topics"].includes(l)?P=`/topics/${T.id}`:"ideas"===l?P=`/ideas/${encodeURIComponent(T.slug)}/${T.id}`:"search"===l&&(P=`/search/pins/?rs=ac&q=${encodeURIComponent(T.slug)}`)),_&&null!=T&&T.slug?(0,u.jsx)(r.Z,{inline:!1,onTouch:m,pressState:["compress","background"],rounding:2,to:P,children:(0,u.jsx)(d.xu,{padding:g,children:I})}):I}},899380:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(553431),o=n(288453),r=n(180307),a=n(174523),s=n(946753),l=n(883119),d=n(785893);function c({onDismiss:e}){const t=(0,a.ZP)();return(0,d.jsx)(o.Z,{isOpen:!0,onDismiss:e,type:"unlink_expired_token",isLegoModal:!0,children:(0,d.jsxs)(l.xu,{margin:3,display:"flex",direction:"column",children:[(0,d.jsx)(l.xu,{marginTop:2,children:(0,d.jsx)(l.X6,{align:"center",size:"md",children:t._("This link is invalid","unlinkExpiredToken.modal.title","Unlink Account expired link modal title")})}),(0,d.jsx)(l.xu,{marginTop:3,marginBottom:3,children:(0,d.jsx)(l.xv,{align:"center",inline:!0,children:(0,s.nk)(t._("Go into your {{accountSettings}} to send a new link to your inbox and finish unlinking your accounts.","unlinkExpiredToken.modal.description","Unlink Account expired link modal description"),{accountSettings:(0,d.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(i.Z,{pressState:"none",to:r.Z.settings.MANAGE_ACCOUNT,inline:!0,children:t._("Account settings","addSecondaryAccount.convertAccountUpsell.accountSettingsLink","Link to Account Settings")},"link")},"link-text")})})}),(0,d.jsx)(l.xu,{marginBottom:4,display:"flex",justifyContent:"center",children:(0,d.jsx)(l.zx,{text:t._("Close","unlinkExpiredToken.modal.button","Close button on unlink account expired link modal"),color:"red",size:"lg",onClick:e})})]})})}},17649:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),o=n(40142),r=n(151101),a=n(855283),s=n(530826),l=n(174523),d=n(883119),c=n(785893);const u={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},p=({height:e,image:t,width:n})=>{var i,o,r;const a=(0,l.ZP)();return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.GH,{width:n,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,c.jsx)(d.Ee,{alt:a._("pin image","alt text for pin image","alt text for pin image"),color:t.dominant_color||void 0,naturalWidth:null!==(i=t.width)&&void 0!==i?i:1,naturalHeight:null!==(o=t.height)&&void 0!==o?o:1,src:null!==(r=t.url)&&void 0!==r?r:""})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:u,height:e,width:n,position:"absolute",top:!0,left:!0})]}):(0,c.jsx)(d.xu,{color:"lightGray",width:n,height:e})})};var h=n(302199),m=n(179676);const g=function({badgeSize:e,badgeSpacing:t,fullName:n,verifiedType:o,truncate:r=!1}){const a=n.split(" "),s=a.slice(0,a.length-1).join(" "),l=" ".concat(a[a.length-1]);return r?(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(d.xv,{lineClamp:1,weight:"bold",children:n}),(0,c.jsx)(d.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,c.jsx)(m.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]}):(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)("span",{children:s}),(0,c.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[l," ",(0,c.jsx)(d.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,c.jsx)(m.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]})]})};var x=n(645430),f=n(946753),y=n(24309),_=n(128833),v=n(899622);function b({action:e,auxData:t,userSearchRepStyle:n=!1,onFollowUser:u,onUnfollowUser:m,userId:b,userPins:w,viewParameter:S,viewType:j,truncateName:T=!1}){const k=(0,l.ZP)(),I=(0,h.Z)(),P=(0,o.useDispatch)(),{locale:C}=(0,o.useSelector)((({session:e})=>e)),[E,A]=(0,i.useState)(n?window.innerWidth-16:null),L=(0,o.useSelector)((({users:e})=>e[b])),{contextual_pin_image_urls:D,explicitly_followed_by_me:R,follower_count:O=0,full_name:N,image_medium_url:B,is_verified_merchant:Z,recent_pin_images:F,username:M,verified_identity:H}=L,z=e=>E?(E-(e-1))/e:0,U=n?1.6*z(4):117,W=(null==w?void 0:w.map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],$=(null==F?void 0:F["222x"])||(null==F?void 0:F["192x"])||[],G=(null==D?void 0:D["222x"])||(null==D?void 0:D["192x"])||[],Y=n&&G.length<=0,V=n?G.concat($).slice(0,4):W.concat($).slice(0,2),q=!Y&&(E?(0,c.jsx)(d.zd,{rounding:4,children:(0,c.jsx)(d.kC,{children:V.map(((e,t)=>(0,c.jsx)(p,{height:U,image:e,width:z(V.length)},`pinImage-${t}`)))})}):(0,c.jsx)(d.xu,{height:U,ref:e=>{e&&A(e.offsetWidth)},width:"100%"})),X=e=>(0,c.jsx)(d.kC,{justifyContent:"center",children:(0,c.jsx)(d.xu,{marginTop:e,height:60,width:60,children:(0,c.jsx)(r.Z,{outline:!0,name:null!=N?N:"",src:null!=B?B:""})})}),K=e=>(0,c.jsxs)(d.kC,{direction:"column",gap:1,alignItems:e,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",maxWidth:(n?(E||0)/2:E)||void 0,children:(0,c.jsx)(d.xv,{align:e,weight:"bold",lineClamp:T?1:void 0,children:Z||null!=H&&H.verified?(0,c.jsx)(g,{badgeSize:"md",badgeSpacing:2,fullName:null!=N?N:"",verifiedType:Z?"verifiedMerchant":"verifiedIdentity",truncate:T}):N})}),(0,c.jsx)(d.xv,{inline:!0,size:"sm",align:e,children:(0,f.nk)(k.ngettext("{{followers}} follower","{{followers}} followers",O,"PinnerAuthority.followersCount","Count of a user's followers"),{followers:I(C,O,{shortform:!0})})})]}),J=(0,c.jsx)(d.kC,{justifyContent:"center",children:e&&e.url?(0,c.jsx)(s.Z,{accessibilityLabel:e.text,color:"lightGray",shape:"pill",size:"lg",text:e.text,to:e.url,onTouch:()=>{(0,y.j)({event_type:9029,object_id_str:b,view_type:j,view_parameter:S,aux_data:t})}}):(0,c.jsx)(a.Z,{id:b,isSecondaryButton:!0,isFollowed:R,onFollow:e=>{u&&u(),P((0,v.ZN)(e))},onUnfollow:e=>{m&&m(),P((0,v.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:S,viewType:j})});return(0,c.jsx)(_.Cy,{loggingId:b,objectIdStr:b,slotIndex:0,viewParameter:S,viewType:j,children:({impressionTrackerRef:e})=>(0,c.jsx)(d.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,c.jsx)(x.MZ,{to:`/${M}/`,onTouch:()=>{return e=b,void(0,y.j)({event_type:43,object_id_str:e,view_parameter:S,view_type:j});var e},children:(0,c.jsxs)(d.kC,{direction:"column",gap:2,width:"100%",children:[q,n?(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsxs)(d.kC,{justifyContent:"between",alignItems:"center",children:[(0,c.jsxs)(d.kC,{alignItems:"center",gap:2,children:[X(),K("start")]}),J]})}):(0,c.jsxs)(d.kC,{direction:"column",gap:2,children:[X(-10),K("center"),J]})]})})})})}},110768:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(40142),o=n(151101),r=n(855283),a=n(553431),s=n(174523),l=n(302199),d=n(946753),c=n(883119),u=n(585967),p=n(785893);const h=({followerCount:e})=>{const t=(0,s.ZP)(),n=(0,l.Z)(),{locale:i}=(0,u.B)();return(0,p.jsx)(c.xv,{children:(0,d.nk)(t.ngettext("{{followers}} follower","{{followers}} followers",e,"pinPage.attribution.followersCount","Count of a user's followers"),{followers:n(i,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})};var m=n(179676),g=n(24309),x=n(855168),f=n(158961),y=n(641483),_=n(899622);const v=(0,i.connect)(((e,t)=>({user:e.users[t.userId]||t.userBlob,viewingUserId:e.session.userId,isAuthenticated:e.session.isAuthenticated})),(e=>({followUser:(t,n)=>e((0,_.ZN)(t,n)),unfollowUser:(t,n)=>e((0,_.fv)(t,n)),unblockUser:t=>e((0,_.h2)(t))})))((e=>{const t=(0,s.ZP)(),n=(0,x.TH)(),{showSignupModal:i}=(0,f.g)()||{},{avatarSize:l,detailText:d,followUser:u,hideButtons:_,isAuthenticated:v,isCurrentUser:b,isOnCloseup:w,isImagePinForUnauthOnTablet:S,pinId:j,shouldNavigateToProfile:T=!0,textColor:k,type:I,unblockUser:P,unfollowUser:C,user:E,userBlob:A,viewParameter:L,viewType:D,viewingUserId:R,unauthFollow:O}=e;if(!E)return null;const{blocked_by_me:N,explicitly_followed_by_me:B,follower_count:Z,full_name:F,id:M,image_large_url:H,image_medium_url:z,image_small_url:U,is_verified_merchant:W,verified_identity:$,username:G}=E,Y=(j&&j.length,()=>(0,p.jsx)(r.Z,{disableLog:!0,followEventType:45,id:M,isFollowed:B||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:R===M,onFollow:()=>w?void(v?(u(M,E),(0,g.j)({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:b,viewObjectId:j,viewObjectIdStr:j},object_id_str:M})):i("login")):u(M,E),onUnfollow:()=>w?(C(M,E),void(0,g.j)({event_type:46,view_type:3,view_parameter:156,object_id_str:M})):C(M,E),size:"md",unfollowEventType:46,viewParameter:L,viewType:D})),V=()=>N?(0,p.jsx)(c.zx,{fullWidth:!0,color:"gray",onClick:()=>P(M),size:"md",text:t._("Unblock")}):v||O?Y():null,q=W||(null==A?void 0:A.is_verified_merchant),X=Z||(null==A?void 0:A.follower_count),K=e=>(0,p.jsx)(o.Z,{name:null!=F?F:"",size:(e||{}).size,src:H||z||U||void 0}),J=S?"calc(100% - 48px)":void 0,Q=q||(null==$?void 0:$.verified),ee=(0,p.jsxs)(c.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,p.jsx)(c.xu,{flex:"none",marginEnd:2,children:K({size:l||"md"})}),(0,p.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",maxWidth:J,children:[(0,p.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(c.xv,{color:k||"darkGray",lineClamp:S?1:void 0,weight:"bold",children:F}),Q&&(0,p.jsx)(c.xu,{marginStart:1,paddingY:1,children:(0,p.jsx)(m.Z,{showVerifiedIdentity:!q,size:"sm"})})]}),(0,p.jsx)(c.xv,{color:k||"darkGray",lineClamp:S?1:void 0,children:d}),!!X&&(0,p.jsx)(h,{followerCount:X})]})]}),te="row"===I?(0,p.jsxs)(c.kC,{alignItems:"center",justifyContent:"between",children:[ee,!_&&(0,p.jsx)(c.xu,{flex:"none",marginStart:2,children:V()})]}):(0,p.jsxs)(c.xu,{maxWidth:J,padding:2,children:[K(),(0,p.jsxs)(c.xu,{display:"flex",paddingY:2,children:[(0,p.jsx)(c.xv,{align:"center",size:"md",lineClamp:1,weight:"bold",children:F}),Q&&(0,p.jsx)(c.xu,{marginStart:1,paddingY:1,children:(0,p.jsx)(m.Z,{showVerifiedIdentity:!q,size:"sm"})})]}),!_&&V()]}),ne=(0,p.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"between",overflow:"hidden",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,p.jsx)(a.Z,{onTouch:e=>{v||((0,y.NC)("click_pin_closeup_profile"),(0,y.LW)({action:"click",page_location:n,item:"user-rep"}))},pressState:["compress","background"],rounding:2,to:`/${encodeURIComponent(G)}/`,children:ee}),!_&&(0,p.jsx)(c.xu,{flex:"none",marginStart:2,children:V()})]});return(0,p.jsx)(c.xu,{"data-test-id":"user-rep",width:"100%",children:T?ne:te})}))},68131:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(40142),r=n(102156),a=n(779847),s=n(349856),l=n(883119),d=n(213162),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.PureComponent{constructor(...e){super(...e),u(this,"state",{isPlaying:!1,isVideoReady:!1,isVisibleForPlaying:!1,startLoading:!1}),u(this,"handleVisibilityChanged",(e=>{const{intersectionRatio:t}=e[0],{isPlaying:n,isVideoReady:i,startLoading:o}=this.state;t>=.8?(this.setState({isVisibleForPlaying:!0}),this.videoRef&&(o?i&&!n&&this.videoRef.play():(this.videoRef.load(),this.setState({startLoading:!0})))):(this.setState({isVisibleForPlaying:!1}),this.videoRef&&i&&this.videoRef.pause())})),u(this,"handleVideoPause",(()=>this.setState({isPlaying:!1}))),u(this,"handleVideoPlay",(()=>this.setState({isPlaying:!0}))),u(this,"getVideoRef",(e=>this.videoRef=e)),u(this,"setIsVideoReadyTrue",(()=>{this.setState({isVideoReady:!0}),this.videoRef&&!this.state.isPlaying&&this.state.isVisibleForPlaying&&this.videoRef.play()}))}render(){const{isFullWidth:e,pin:t}=this.props,n=(0,a.Z)(t);if(!n)return(0,c.jsx)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:(0,c.jsx)(s.Z,{id:t.id})});const{height:i,thumbnail:o,url:u,width:p}=n,h=(0,d.qU)(!0),m=(null!=i?i:1)/(null!=p?p:1),g=m*h;return(0,c.jsx)(r.Z,{options:{threshold:[0,.5,.8,1]},onVisibilityChange:this.handleVisibilityChanged,children:(0,c.jsx)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:100*m+"%"}},children:(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,c.jsx)("video",{height:e?g:"100%",muted:!0,onCanPlay:this.setIsVideoReadyTrue,onPause:this.handleVideoPause,onPlay:this.handleVideoPlay,playsInline:!0,poster:o,preload:"none",ref:this.getVideoRef,src:u,width:e?h:"100%"})})})})}}const h=(0,o.connect)((({pins:e},{pinId:t})=>({pin:e[t]})),(()=>({})))(p)},779847:(e,t,n)=>{function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_720P:null}n.d(t,{Z:()=>i})},891378:(e,t,n)=>{function i(e){if(e){const t=e.shopping_flags||[],n={pin_is_shop_the_look:t.includes(2),is_available:t.includes(1),is_product_pin_v2:t.includes(5),is_rich_product_pin:t.includes(6)};return JSON.stringify(n)}}n.d(t,{Z:()=>i})},756153:(e,t,n)=>{n.d(t,{U3:()=>a,$n:()=>s,AZ:()=>l});var i=n(24309);const o={my_content:63,pins:60,users:62,boards:61,buyable_pins:3800},r={my_content:189,boards:44,my_pins:107,users:45,pins:43,buyable_pins:254};function a({searchScope:e,searchTerm:t,rs:n}){(t=t.trim())&&(0,i.j)({event_type:o[e],view_parameter:r[e],view_type:2,aux_data:{query:t,rs:n}})}function s(e,t){(0,i.So)({view_parameter:103,view_type:2,component:35,element:e,aux_data:t})}function l(e){return e.split("/")[2]}},150282:(e,t,n)=>{n.d(t,{Iv:()=>i,yB:()=>o});const i="uploaded",o="pinbuilder"},785112:(e,t,n)=>{n.d(t,{Fi:()=>o,P0:()=>r,sY:()=>a,cL:()=>s,Wv:()=>l,CK:()=>d,rM:()=>c,Zt:()=>u,B5:()=>p,rV:()=>h,RX:()=>m,Oe:()=>g,AH:()=>x,PM:()=>f});var i=n(703765);const o=({i18n:e,isLego:t,pin:n,useGridTitleOrRichSummary:i})=>{const o=n.link_domain,r=n.native_creator,a=n.rich_metadata,s=n.rich_summary,l=n.attribution;let d,c,u,p,h,m,g,x,f=t?e._("From ","Closeup pin annotation","Closeup pin annotation"):e._("Saved from ","Closeup pin annotation","Closeup pin annotation"),y=e._("Visit","pin outbound link text","pin outbound link text"),_="",v="";if(r?x=r:o?(x=o.official_user,v=n.domain):x=n.origin_pinner||n.pinner,x&&"string"!=typeof x&&x.username?(m=`/${x.username}/`,g=x.full_name):g=v,!o||a&&a.recipe&&a.recipe.from_aggregated_data)f=e._("Saved by ","Closeup pin annotation","Closeup pin annotation");else{const i=!!(a&&a.recipe&&a.recipe.name&&a.recipe.categorized_ingredients);let o;a&&a.products&&a.products[0]&&(o=!!(a&&a.products[0].name&&a.products[0].offer_summary));const r=!(!a||!a.article),s=!(!a||!a.tutorial);var b,w,S;if(o)f=e._("Product sold by ","pin annotation","pin annotation"),p=null==a||null===(b=a.products)||void 0===b?void 0:b[0].offer_summary,h=null==a||null===(w=a.products)||void 0===w?void 0:w[0].shipping_info,_=null==a||null===(S=a.products)||void 0===S?void 0:S[0].name;else if(s)t&&(f=e._("From ","pin annotation","pin annotation")),f=e._("Saved from ","pin annotation","pin annotation");else if(i){var j,T,k,I;f=e._("Recipe from ","pin annotation","pin annotation"),y=e._("Make it ","pin outbound link text","pin outbound link text"),_=null==a||null===(j=a.recipe)||void 0===j?void 0:j.name,c=null==a?void 0:a.closeup_description,u=null!==(T=null==a?void 0:a.recipe)&&void 0!==T?T:null,null!==(k=u)&&void 0!==k&&null!==(I=k.aggregate_rating)&&void 0!==I&&I.rating_value&&"number"==typeof u.aggregate_rating.review_count&&(null!=a&&a.site_name||n.domain)?u.aggregate_rating.review_source=(null==a?void 0:a.site_name)||n.domain:u&&(u.aggregate_rating=null)}else if(r){var P;d=(null==a||null===(P=a.article)||void 0===P?void 0:P.date_published)&&new Date(a.article.date_published),_=null==a?void 0:a.title,f=e._("Article from ","pin annotation","pin annotation"),y=e._("Read it ","pin outbound link text","pin outbound link text")}}if(!p&&s){let t;var C,E,A;if(s&&s.products&&s.products[0])if(t=!!(s&&s.products[0].name&&s.products[0].offer_summary),t)f=e._("Product sold by ","pin annotation","pin annotation"),p=null===(C=s.products)||void 0===C?void 0:C[0].offer_summary,h=null===(E=s.products)||void 0===E?void 0:E[0].shipping_info,_=null===(A=s.products)||void 0===A?void 0:A[0].name}const L=(n.unified_user_note||"").trim();_=n.grid_title||n.title;let D=_;if(!D&&i){const e=n.grid_title;D="string"==typeof e?e:(n.rich_summary||{}).display_name}c=n.closeup_unified_description&&n.closeup_unified_description.trim();return{actionButtonText:y,avatar:x&&"string"!=typeof x&&(x.image_medium_url||x.image_small_url)||"",pinArticleDate:d,pinAttribution:l,pinCreditLink:m,pinCreditPrefix:f,pinCredit:g,pinDescription:c,pinDownloadTitle:D,pinProduct:p,pinShippingInfo:h,pinTitle:_,pinCategory:n.category,pinRecipe:u,sourceUser:x,trimmedUserNote:L}};function r(e,t){if(!e)return"";if(e.embed&&"gif"===e.embed.type)return e.embed&&e.embed.src||"";const n=e.images;if(!n)return"";if(t){const e="474x"===t&&n["474x"]||"236x"===t&&n["236x"]||n["736x"];if(e&&e.url)return e.url}const i=Object.keys(n).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(n[t]=n[e],t):e}catch(t){return""}}));i.sort();const o=i.pop();return n[o]&&n[o].url||""}const a=e=>e.embed&&"gif"===e.embed.type,s=e=>e.embed&&e.embed.src&&!a(e)&&!(e=>e.embed&&"pinstory"===e.embed.subtype)(e),l=e=>!(!e.videos||!e.videos.video_list||!e.videos.video_list.V_HLSV4&&!e.videos.video_list.V_720P),d=e=>{const t=e.rich_metadata;return t?t.products?144:t.article?141:t.recipe?145:139:140},c=({mobile_link:e,tracked_link:t,link:n})=>!e&&!t&&!n,u=e=>{var t,n,i;return e?e.mobile_link||e.tracked_link||e.link||(null!==(t=null===(n=(null!==(i=e.images)&&void 0!==i?i:{}).orig)||void 0===n?void 0:n.url)&&void 0!==t?t:""):null},p=()=>{let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}},h="amp",m=e=>Boolean(e.mobile_link&&(0,i.XE)(e.mobile_link)),g=e=>{var t;return null===(t=e.rich_metadata)||void 0===t?void 0:t.aggregate_rating},x=e=>!!e.link&&!e.link.startsWith("https://i.pinimg.com"),f=({i18n:e,pinCategory:t})=>{switch(t){case"animals":return e._("Animals and pets","display name for a pin category","display name for a pin category");case"apparel":return e._("Apparel and accessories","display name for a pin category","display name for a pin category");case"architecture":return e._("Architecture","display name for a pin category","display name for a pin category");case"art":return e._("Art","display name for a pin category","display name for a pin category");case"art_arch":return e._("Art and architecture","display name for a pin category","display name for a pin category");case"cars_motorcycles":return e._("Cars and motorcycles","display name for a pin category","display name for a pin category");case"celebrities":return e._("Celebrities","display name for a pin category","display name for a pin category");case"celebrities_public_figures":return e._("Celebrities and public figures","display name for a pin category","display name for a pin category");case"commerce":return e._("Shopping","display name for a pin category","display name for a pin category");case"corgis":return e._("Corgis","display name for a pin category","display name for a pin category");case"culture":return e._("Culture","display name for a pin category","display name for a pin category");case"design":return e._("Design","display name for a pin category","display name for a pin category");case"diy_crafts":return e._("DIY and crafts","display name for a pin category","display name for a pin category");case"education":return e._("Education","display name for a pin category","display name for a pin category");case"fashion":return e._("Fashion","display name for a pin category","display name for a pin category");case"film_music_books":return e._("Film, music and books","display name for a pin category","display name for a pin category");case"fitness":return e._("Fitness","display name for a pin category","display name for a pin category");case"food_drink":return e._("Food and drink","display name for a pin category","display name for a pin category");case"for_dad":return e._("For dad","display name for a pin category","display name for a pin category");case"gardening":return e._("Gardening","display name for a pin category","display name for a pin category");case"geek":return e._("Geek");case"gift_guides":return e._("Gift guides","display name for a pin category","display name for a pin category");case"gifts":return e._("Gifts","display name for a pin category","display name for a pin category");case"hair_beauty":return e._("Hair and beauty","display name for a pin category","display name for a pin category");case"health_fitness":return e._("Health and fitness","display name for a pin category","display name for a pin category");case"history":return e._("History","display name for a pin category","display name for a pin category");case"holidays":return e._("Holidays","display name for a pin category","display name for a pin category");case"holidays_events":return e._("Holidays and events","display name for a pin category","display name for a pin category");case"home":case"home_decor":return e._("Home decor","display name for a pin category","display name for a pin category");case"home_improvement":return e._("Home improvement","display name for a pin category","display name for a pin category");case"humor":return e._("Humor","display name for a pin category","display name for a pin category");case"illustrations_posters":return e._("Illustrations and posters","display name for a pin category","display name for a pin category");case"kids":return e._("Kids and parenting","display name for a pin category","display name for a pin category");case"men_apparel":return e._("Men's apparel","display name for a pin category","display name for a pin category");case"mens_fashion":return e._("Men's fashion","display name for a pin category","display name for a pin category");case"outdoors":return e._("Outdoors","display name for a pin category","display name for a pin category");case"people":return e._("People","display name for a pin category","display name for a pin category");case"pets":return e._("Pets","display name for a pin category","display name for a pin category");case"photography":return e._("Photography","display name for a pin category","display name for a pin category");case"prints_posters":return e._("Print and posters","display name for a pin category","display name for a pin category");case"products":return e._("Products","display name for a pin category","display name for a pin category");case"quotes":return e._("Quotes","display name for a pin category","display name for a pin category");case"science":case"science_nature":return e._("Science and nature","display name for a pin category","display name for a pin category");case"sports":return e._("Sports","display name for a pin category","display name for a pin category");case"tattoos":return e._("Tattoos","display name for a pin category","display name for a pin category");case"technology":return e._("Technology","display name for a pin category","display name for a pin category");case"travel":return e._("Travel","display name for a pin category","display name for a pin category");case"travel_places":return e._("Travel and places","display name for a pin category","display name for a pin category");case"videos":return e._("Videos","display name for a pin category","display name for a pin category");case"wedding_events":return e._("Wedding and events","display name for a pin category","display name for a pin category");case"weddings":return e._("Weddings","display name for a pin category","display name for a pin category");case"women_apparel":return e._("Women's apparel","display name for a pin category","display name for a pin category");case"womens_fashion":return e._("Women's fashion","display name for a pin category","display name for a pin category");default:return null}}},974142:(e,t,n)=>{n.d(t,{ZP:()=>i});function i(e,t=80,n="…"){let i;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])i=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);i=e.substring(0,n)}return i=i.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),i+n}},483064:(e,t,n)=>{n.d(t,{Mt:()=>u,fU:()=>p,CC:()=>h,dp:()=>m,H$:()=>g,p9:()=>x,Yi:()=>f,Yy:()=>_,Ff:()=>b});var i=n(85038),o=n(311866),r=n(641483),a=n(221469),s=n(273298),l=n(652382),d=n(608527),c=n(903945);const u=(e,t,n,i,o,r,a=d.k7)=>{const s=(0,c.qn)(a)?JSON.parse((0,c.qn)(a)):[];if(!s[0]||s[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:i||"",pin_description:o||"",is_shared:!!r,pin_invite_code:r}];(0,c.Nh)(a,JSON.stringify(l.concat(s)))}},p=()=>{const e=(0,l.qn)(d.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t},h=({path:e,image:t,dominant_color:n,pin_description:i})=>{const o=p();if(!o[0]||o[0].path!==e){const r=[{path:e,image:t,pin_description:i||"",dominant_color:n||""}];(0,l.Nh)(d.KH,JSON.stringify(r.concat(o)))}};function m(e,t,n,i,o,r){u(e,t,n,i,o,r,d.zR)}const g=(e,t)=>{var n,i;u(e,t.image_signature,t.id,null===(n=t.images)||void 0===n?void 0:n["236x"],null!==(i=t.description)&&void 0!==i?i:"","",d.dy)};function x(e,t,n,i,o){u(e,t,n,i,o,"",d.QR)}function f(){const e=o.ZP.create("UnauthUserDataResource");return new Promise(((t,n)=>{e.callGet().then((e=>{const o=e.resource_response.data,a=!!i.U2("logged_out");return o?((0,s.Wn)(o.medium_image_url)&&(o.medium_image_url=""),(0,r.ZP)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(a?"true":"false")),t(o)):((0,r.ZP)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(a?"true":"false")),n({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,r.ZP)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,r.ZP)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)}))}))}function y({i18n:e,location:t}){const n=t.pathname.startsWith("/signup"),i=t.pathname.startsWith("/login");if(!n&&!i)return{showPLPBanner:!1,pinForBanner:null};let o;try{o=JSON.parse((0,l.qn)(d.KH))}catch(r){o=[]}if(o&&o.length>0){const t=o[0];if(t)return t.bannerCopy=e._("More ideas like this await","page banner with pin image that was signed up from","page banner with pin image that was signed up from"),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const _=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function v({i18n:e,location:t}){var n;const i=(null===(n=t.state)||void 0===n?void 0:n.next)||_(t);if(i){const t=i.indexOf("?"),n=(0,a.mB)(i.substring(t));if(n.url&&n.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,a.Jx)(n.media),height:1,width:1},pinDescription:n.description,bannerCopy:e._("Save this idea and discover more inspiration like it.","page banner with pin image that was signed up from","page banner with pin image that was signed up from")}}}return{showPLPBanner:!1,pinForBanner:null}}function b({i18n:e,location:t}){return v({i18n:e,location:t}).showPLPBanner?v({i18n:e,location:t}):y({i18n:e,location:t}).showPLPBanner?y({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},709107:(e,t,n)=>{n.d(t,{E:()=>a,S:()=>s});var i=n(667294),o=n(903945);const r="_loggingInNotHome",a=e=>{e?(0,o.Nh)(r,1):(0,o.L_)(r)},s=()=>{const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(!0)}),[]),e&&(0,o.qn)(r)}},964964:(e,t,n)=>{n.d(t,{EM:()=>l,Wf:()=>d,mi:()=>c});var i=n(667294),o=n(40142),r=n(827898),a=n(855168),s=n(442975);function l(e){let t;if(e.error){const{httpStatus:n,apiErrorCode:i,redirectUrl:o}=e.error;(404===n||401===n&&7===i)&&(t={pathname:"/",state:{showError:!0}}),301===n&&o&&(t={pathname:o})}return t}function d({dangerouslyDisableFetch:e,headers:t,name:n,noCache:a,options:l,schema:d}){const{auxData:c,data:u,dispatch:p,error:h,isAtEnd:m,isFetching:g,isLoaded:x,lastOptionsKey:f,nextBookmark:y,optionsKey:_}=(0,r.Z)({dangerouslyDisableFetch:e,name:n,options:l}),v=(0,o.useSelector)((({session:e})=>e.isSeoBot)),b=e=>p((0,s.U2)(n,{options:l,schema:d,bookmark:e,headers:t})),w=()=>p((0,s.bi)(n,{options:l,schema:d,headers:t}));(0,i.useEffect)((()=>{if(!e&&f.current!==_){const e=void 0===f.current;f.current=_,!x||e&&h&&(({httpStatus:e})=>!e||e>=500)(h)?b():!v&&a&&w()}}));return{auxData:c,data:u,fetchMore:(0,i.useCallback)((()=>{!y||m||g||e||b(y)}),[y,g]),error:h,isAtEnd:m,isFetching:g,isLoaded:x,isRefreshing:!1,nextBookmark:y,refresh:w}}function c(e){const t=(0,a.k6)(),n=d(e),i=l(n);return i&&t.replace(i.pathname,i.state),n}},213162:(e,t,n)=>{n.d(t,{w6:()=>i,U_:()=>o,b8:()=>r,zW:()=>a,Hg:()=>s,g6:()=>l,qU:()=>d,T_:()=>c});const i=(e,t)=>Array.from({length:t-e},((t,n)=>n+e)),o=e=>Object.keys(e).reduce(((t,n)=>(t[e[n]]=n,t)),{});function r(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}function a(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}const s=488,l=600;function d(e=!1){if("undefined"==typeof window)return l;const t=e?window.innerWidth:window.innerWidth-32;return Math.min(l,t)}function c(e,t){if(!t.startsWith("en"))return e;return e.split(" ").map((e=>e===e.toUpperCase()?e:e.toLowerCase())).join(" ")}},799977:(e,t,n)=>{function i(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function o(e){return{type:"SET_AUTOPLAY_ELIGIBILITY",payload:{isAutoplayEligible:e}}}n.d(t,{_L:()=>i,D_:()=>o})},605558:(e,t,n)=>{n.d(t,{r:()=>i});const i=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},114978:(e,t,n)=>{n.d(t,{a1:()=>o,kQ:()=>r});var i=n(561613);const o=e=>({type:i.cZ,payload:e}),r=e=>({type:i.U1,payload:e})},192167:(e,t,n)=>{n.d(t,{Fw:()=>o,p_:()=>r});var i=n(561613);const o=e=>({type:i.q,payload:e}),r=e=>({type:i.GG,payload:e})},973013:(e,t,n)=>{n.d(t,{D3:()=>o,g3:()=>r,oO:()=>a});var i=n(40142);function o(e){return(0,i.useSelector)((({pins:t})=>e?t[e]:null),i.shallowEqual)}function r(e){const t=null==e?void 0:e.story_pin_data;return(0,i.useSelector)((({storyPins:e})=>t?e[t]:null),i.shallowEqual)}function a(e){const t=null==e?void 0:e.pinner;return(0,i.useSelector)((({users:e})=>t?e[t]:null),i.shallowEqual)}},329487:(e,t,n)=>{n.r(t),n.d(t,{DELAYED_NUX_TIME:()=>Ae,HOMEFEED_FEED_KEY:()=>Pe,HOMEFEED_PATHS:()=>Ce,HomePage:()=>Fe,PAGES_DELAY_NUX:()=>Ee,default:()=>Ue});var i=n(667294),o=n(40142),r=n(525260),a=n(302754),s=n(288453),l=n(311866),d=n(174523),c=n(964964),u=n(739472),p=n(533783),h=n(883119),m=n(785893);function g({onDismiss:e,isPartner:t,userId:n,username:o}){var r,g;const x=(0,d.ZP)(),[f,y]=(0,i.useState)(null),{showToast:_}=(0,u.V6)(),v=(0,c.Wf)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:n}}),b=null!==(r=null===(g=v.data)||void 0===g?void 0:g.businesses)&&void 0!==r?r:[];return(0,m.jsx)(s.Z,{isOpen:!0,onDismiss:e,type:"delete_account_survey",isLegoModal:!0,children:(0,m.jsxs)(h.xu,{display:"flex",alignItems:"stretch",justifyContent:"start",direction:"column",paddingX:1,marginTop:2,marginBottom:5,children:[(0,m.jsx)(h.X6,{align:"center",size:"md",children:x._("Tell us why you're leaving","deleteAccountSurveyModal.title","Delete Account Survey modal title")}),(0,m.jsx)(h.xu,{marginTop:8,marginBottom:8,children:(0,m.jsx)(a.Z,{isPartner:t,onReasonChange:y})}),(0,m.jsxs)(h.kC,{justifyContent:"center",gap:2,children:[(0,m.jsx)(h.zx,{text:x._("Cancel","deleteAccountSurveyModal.cancelButton","Close button on unlink account expired link modal"),color:"gray",size:"lg",onClick:e}),(0,m.jsx)(h.zx,{text:x._("Send email","deleteAccountSurveyModal.sendEmailButton","Close button on unlink account expired link modal"),color:"red",size:"lg",onClick:()=>{(async()=>{const t=l.ZP.create("DeleteAccountResource",{user_id:n,aux_data:{reason:f}});try{await t.callUpdate(),_({text:(0,p.vW)({i18n:x,message:p.j2,multipleAccounts:b.length>0,username:o||""}),duration:p.Jl}),e()}catch(i){_({text:x._("Sorry! Something went wrong on our end. Please try again.","deleteAccountSurvey.sendEmail.error","Something went wrong on our end while trying to send final email for delete account")})}})()},disabled:v.isFetching||!f})]})]})})}var x=n(551687),f=n(153010),y=n(434422),_=n(855356),v=n(213162),b=n(590307);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=[];class j extends i.PureComponent{constructor(...e){super(...e),w(this,"dismissExperience",(()=>{const{experience:e,dismissExperience:t}=this.props;e&&t&&t(e.placement_id,e.experience_id)})),w(this,"completeExperience",(()=>{const{experience:e,completeExperience:t}=this.props;e&&t&&t(e.placement_id,e.experience_id)}))}getHeroClass(e){return null}render(){const{experience:e}=this.props;if(!e||!S.includes(e.experience_id))return null;const t={...(0,_.Z)(v.zW)(e.display_data),experienceId:e.experience_id,handleComplete:this.completeExperience,handleDismiss:this.dismissExperience},n=this.getHeroClass(e.experience_id);return(0,m.jsx)(f.Z,{experience:e,eligibleIds:S,children:(0,m.jsx)(x.Z,{name:"ExperienceTopBar",children:(0,m.jsx)(i.Fragment,{children:(0,m.jsx)(h.xu,{children:n&&(0,m.jsx)(n,{...t})})})})})}}const T=(0,o.connect)(null,(e=>({completeExperience:(t,n)=>e((0,b.CK)(t,n)),dismissExperience:(t,n)=>e((0,b.Qu)(t,n))})))(j);var k=n(352645),I=n(271121),P=n(769899),C=n(414653),E=n(544039),A=n(708206),L=n(221469),D=n(796821),R=n(287954),O=n(855168);class N extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=({data:e,itemIdx:t})=>{const{board:n,history:i,location:o}=this.props;return(0,m.jsx)(I.Z,{componentType:0,history:i,oneTapSave:this.viewerRole&&n&&{boardId:n.id}||void 0,location:o,pinId:e.id,trackingParams:e.trackingParams,slotIndex:t,viewParameter:3173,viewType:1})},(n="renderPin")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}get isOwner(){const{board:e,viewerId:t}=this.props;return!!e&&e.owner===t}get viewerRole(){const{board:e}=this.props;return this.isOwner?"owner":e&&e.collaborated_by_me?"collaborator":void 0}render(){const{board:e,deviceType:t,location:n}=this.props,i=(0,L.mB)(n.search),o=i.from_news_id,r=i.ideas_referrer;return e?Boolean(e.should_show_more_ideas)&&(0,m.jsx)(C.Z,{component:3173,children:(0,m.jsx)(P.Z,{name:"BoardContentRecommendationResource",options:{type:e.type,id:e.id,__track__from_news_id:o,__track__referrer:r},selector:t=>({recommendationFeed:t.feeds[`recommendation-feed:${e.id}`]?t.feeds[`recommendation-feed:${e.id}`].reduce(((e,n)=>("story"===n.type&&(e=e.concat([t.stories[n.id]])),"pin"===n.type&&(e=e.concat([n])),e)),[]):[]}),children:({selected:e,fetchMore:n,isFetching:i})=>{const{pins:o}=(e.recommendationFeed||[]).reduce((({pins:e},t)=>("pin"===t.type&&(e=e.concat([t])),{pins:e})),{pins:[]});return o.length?(0,m.jsx)(h.xu,{marginStart:R.G9,marginEnd:R.G9,marginTop:(0,R.kk)({isDesktop:"desktop"===t}),children:(0,m.jsx)(k.Z,{comp:this.renderPin,items:o,loadItems:n,minCols:2})}):(0,m.jsx)(h.xu,{paddingY:2,children:(0,m.jsx)(h.$j,{accessibilityLabel:this.props.i18n._("Loading recommendations","accessibility label for the loading spinner on more ideas tab","accessibility label for the loading spinner on more ideas tab"),show:i})})}})}):null}}const B=(0,A.compose)(O.EN,E.Z,(0,o.connect)(((e,{boardId:t})=>({board:e.boards[t],viewerId:e.session.userId}))))((function(e){const t=(0,D.ZP)(),n=(0,d.ZP)();return(0,m.jsx)(N,{...e,i18n:n,deviceType:t})}));var Z=n(349856);function F({history:e,paddingBottomPercentage:t="50%",pinIds:n}){const i=Math.min(n.length,3),o=n.slice(0,i);return(0,m.jsx)(h.xu,{column:12,position:"relative",children:(0,m.jsx)(h.zd,{rounding:2,children:(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},position:"relative",children:(0,m.jsx)(h.xu,{display:"flex",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:o.map(((t,n)=>(0,m.jsx)(h.xu,{color:"darkWash",column:4,dangerouslySetInlineStyle:{__style:{marginRight:n!==i-1?1:0}},position:"relative",children:(0,m.jsx)(h.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{(t=>{const n="/pin/"+t;e&&e.push({pathname:n})})(t)},children:(0,m.jsx)(Z.Z,{id:t})})},n)))})})})})}var M=n(375230);function H({history:e,storyId:t}){const n=(0,o.useDispatch)(),{copy:r,custom_properties:a,experience:s,id:l,objects:d,story_type:c}=(0,o.useSelector)((({stories:e})=>e[t]));if((0,i.useEffect)((()=>{"landing_page"===c&&(e=>{n((0,b.dy)(e))})(s)}),[]),"landing_page"!==c)return null;const{button_text:u,subtitle_text:p,title_text:g}=r,x=()=>{(e=>{n((0,M.X)(e))})(l),(e=>{n((0,b.Tl)(e))})(s)};return(0,m.jsxs)(h.xu,{paddingX:2,paddingY:5,children:[(0,m.jsx)(h.X6,{align:"center",overflow:"normal",size:"sm",children:g}),(0,m.jsx)(h.xu,{marginTop:1,children:(0,m.jsx)(h.xv,{align:"center",overflow:"normal",size:"md",children:p})}),(0,m.jsx)(h.xu,{paddingY:4,children:(0,m.jsx)(h.iP,{onTap:x,children:(0,m.jsx)(F,{history:e,paddingBottomPercentage:"45%",pinIds:d.map((({id:e})=>e))})})}),(0,m.jsx)(h.kC,{alignItems:"stretch",justifyContent:"center",children:(0,m.jsx)(h.zx,{onClick:()=>{x(),e.push(a.path)},size:"lg",text:u})})]})}var z=n(853051),U=n(155656),W=n(530826);function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G extends i.Component{constructor(...e){super(...e),$(this,"onButton1Click",(e=>{if(!e){const{dismissExperience:e,experience:t}=this.props;t&&t.placement_id&&t.experience_id&&e(t.placement_id,t.experience_id)}})),$(this,"onButton2Click",(e=>{if(1===e||2===e){const{completeExperience:e,experience:t}=this.props;t&&t.placement_id&&t.experience_id&&e(t.placement_id,t.experience_id)}})),$(this,"isExternalLink",(e=>e.startsWith("https://")||e.startsWith("http://")))}render(){const{experience:e}=this.props;if(!e||2!==e.type||!e.display_data)return null;const{background_color_mweb:t,button1_color_mweb:n,button1_text:i,button1_uri:o,button2_color_mweb:r,button2_text:a,button2_uri:s,complete_action:l,detailed_text:d,detailed_text_with_links:c,detailed_text_align:u,primary_color_mweb:p,title_text:g,title_text_align:x}=e.display_data;return(0,m.jsxs)(h.xu,{dangerouslySetInlineStyle:t?{__style:{backgroundColor:t||"darkGray"}}:null,color:t?null:"darkGray",paddingX:6,paddingY:6,marginBottom:3,rounding:4,children:[g&&(0,m.jsx)(h.xv,{color:p||"white",overflow:"normal",weight:"bold",align:x||"left",children:(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"20px"}},children:g})}),(c||d)&&(0,m.jsxs)(h.xv,{color:p||"white",overflow:"normal",align:u||"left",children:[(0,m.jsx)(U.Z,{unsafeCSS:"\n                  .nag-text a {\n                    color: white;\n                    text-decoration: underline;\n                  }"}),(0,m.jsx)("div",{className:"nag-text",style:{marginTop:"8px"},dangerouslySetInnerHTML:{__html:c||d}})]}),(0,m.jsxs)(h.xu,{display:"flex",justifyContent:"between",marginTop:4,marginStart:-2,marginEnd:-2,children:[i&&(0,m.jsx)(h.xu,{paddingX:1,column:6,flex:"grow",children:o?(0,m.jsx)(W.Z,{accessibilityLabel:i,color:n||"transparent",text:i,to:o,external:this.isExternalLink(o),shape:"pill"}):(0,m.jsx)(h.zx,{fullWidth:!0,color:n||"transparent",onClick:()=>this.onButton1Click(o),text:i})}),a&&(0,m.jsx)(h.xu,{paddingX:1,column:6,flex:"grow",children:s?(0,m.jsx)(W.Z,{accessibilityLabel:a,color:r||"white",text:a,onTouch:()=>this.onButton2Click(l),to:s,external:this.isExternalLink(s),shape:"pill"}):(0,m.jsx)(h.zx,{fullWidth:!0,color:r||"white",onClick:()=>this.onButton2Click(l),text:a})})]})]})}}const Y=(0,A.compose)((0,o.connect)(null,(e=>({completeExperience:(t,n)=>e((0,b.CK)(t,n)),dismissExperience:(t,n)=>e((0,b.Qu)(t,n))}))),O.EN)(G);var V=n(911506),q=n(156993),X=n(32539),K=n(689859),J=n(250766),Q=n(946753),ee=n(273298);function te(){const e=(0,d.ZP)(),t=(0,o.useSelector)((e=>e)),n=(0,J.ts)(t);return n?(0,m.jsxs)(h.xu,{color:"white",paddingX:5,paddingY:8,width:"100%",children:[(0,m.jsx)(h.xu,{marginBottom:2,children:(0,m.jsx)(h.xv,{align:"center",children:(0,ee.EO)(n)?(0,Q.nk)(e._("Welcome {{firstName}}!","SaveEducationExperience.WelcomeNewUserText","Welcome new user message"),{firstName:n.first_name}):(0,Q.nk)(e._("Welcome back {{firstName}}!","SaveEducationExperience.WelcomeText","Welcome back user message"),{firstName:n.first_name})})}),(0,m.jsx)(h.X6,{align:"center",size:"sm",children:(0,ee.EO)(n)?e._("Your feed gets better the more you save. So when you see something you like, save it!","SaveEducationExperience.Education.NewUser","Educating new users on the benefits of saving pins"):e._("Get back in by savings ideas that inspire you. The more you save the better it gets","SaveEducationExperience.Education","Educating users on the benefits of saving pins")})]}):null}const ne=JSON.parse('{"v":"5.6.5","fr":29.9700012207031,"ip":0,"op":224.000009123707,"w":750,"h":1334,"nm":"bgonly","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":106,"s":[100]},{"t":115.000004684046,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[251.504,811.504,0],"ix":2},"a":{"a":0,"k":[3.504,385.504,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.473,0.473,26.039]},"t":47,"s":[-15,-15,100]},{"t":90.0000036657751,"s":[40,40,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[317.008,317.008],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.992156862745,0.360784313725,0.298039215686,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[4.387,385.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":46.0000018736184,"op":6410.00026108465,"st":-63.0000025660426,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":72,"s":[100]},{"t":81.0000032991976,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[622.504,883.504,0],"ix":2},"a":{"a":0,"k":[3.504,385.504,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"rc","d":1,"s":{"a":0,"k":[566,552],"ix":2},"p":{"a":0,"k":[0,352],"ix":3},"r":{"a":0,"k":67,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0,0],"y":[1,1]},"o":{"x":[0.167,0.167],"y":[0,0]},"t":21,"s":[10,10]},{"t":86.0000035028518,"s":[317.008,317.008]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.454901960784,0.909803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.41],"y":[1]},"o":{"x":[0.167],"y":[1.509]},"t":21,"s":[43]},{"t":86.0000035028518,"s":[4]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[4.387,385.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":20.0000008146167,"op":6384.00026002565,"st":-89.0000036250443,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[128.504,249.504,0],"ix":2},"a":{"a":0,"k":[3.504,385.504,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.12,0.12,0.12],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.7,0.7,31.489]},"t":40,"s":[15,15,100]},{"t":92.0000037472368,"s":[60,60,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"rc","d":1,"s":{"a":0,"k":[1121,959],"ix":2},"p":{"a":0,"k":[0,364],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[317.008,317.008],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.105882352941,0.705882352941,0.443137254902,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.12],"y":[1]},"o":{"x":[0.167],"y":[0.197]},"t":40,"s":[326]},{"t":111.000004521123,"s":[0]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[4.387,385.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":40.0000016292334,"op":6437.00026218439,"st":-36.0000014663101,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":120,"s":[100]},{"t":141.000005743048,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[372.504,576.504,0],"ix":2},"a":{"a":0,"k":[3.504,385.504,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.085,0.085,26.096]},"t":12,"s":[-10,-10,100]},{"t":142.000005783779,"s":[297,297,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"rc","d":1,"s":{"a":0,"k":[500,500],"ix":2},"p":{"a":0,"k":[0,417],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[317.008,317.008],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.862745098039,0.596078431373,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12,"s":[10]},{"t":127.000005172816,"s":[3]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[4.387,385.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":11.0000004480392,"op":6437.00026218439,"st":-36.0000014663101,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[63.609,848.609,0],"ix":2},"a":{"a":0,"k":[-254.719,-5.039,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":85,"s":[0,0,100]},{"t":227.0000092459,"s":[12,12,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[431.219,431.219],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.086274509804,0.501960784314,0.98431372549,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-254.719,-5.039],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":75.0000030548126,"op":6548.00026670551,"st":75.0000030548126,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[676.609,387.609,0],"ix":2},"a":{"a":0,"k":[-254.719,-5.039,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":58,"s":[0,0,100]},{"t":200.000008146167,"s":[8,8,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[431.219,431.219],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.988235294118,0.78431372549,0.180392156863,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-254.719,-5.039],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":48.0000019550801,"op":6521.00026560577,"st":48.0000019550801,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[629.609,321.609,0],"ix":2},"a":{"a":0,"k":[-254.719,-5.039,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":30,"s":[0,0,100]},{"t":172.000007005704,"s":[19,19,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[431.219,431.219],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.105882352941,0.705882352941,0.443137254902,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-254.719,-5.039],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":20.0000008146167,"op":6493.00026446531,"st":20.0000008146167,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Shape Layer 8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[641.609,1042.609,0],"ix":2},"a":{"a":0,"k":[-254.719,-5.039,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.24,0.24,0.24],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":60,"s":[0,0,100]},{"t":225.000009164438,"s":[106,106,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[431.219,431.219],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.894117647059,0.764705882353,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-254.719,-5.039],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":50.0000020365418,"op":6523.00026568724,"st":50.0000020365418,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[175.609,467.609,0],"ix":2},"a":{"a":0,"k":[-254.719,-5.039,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[1.117,1.117,173.148]},"t":10,"s":[0,0,100]},{"t":197.000008023974,"s":[155,155,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[431.219,431.219],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.898039215686,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-254.719,-5.039],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":6473.0002636507,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":1,"nm":"White Solid 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[375,667,0],"ix":2},"a":{"a":0,"k":[375,667,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"sw":750,"sh":1334,"sc":"#ffffff","ip":0,"op":6473.0002636507,"st":0,"bm":0}],"markers":[]}');var ie=n(666611);const oe=new h.Ry(5);function re({experience:e}){const t=(0,d.ZP)(),n=(0,o.useDispatch)(),[r,a]=(0,i.useState)(0);(0,i.useEffect)((()=>{let t;a(1);const i=setTimeout((()=>{a(0),t=setTimeout((()=>{n((0,b.CK)(e.placement_id,e.experience_id))}),500)}),6e3);return()=>{clearTimeout(i),clearTimeout(t),(0,R.cV)("homefeed")}}),[n,e,a]);const s={animationData:ne,loop:!0,autoplay:!0},{animationContainerRef:l}=(0,ie.Z)(s);return(0,m.jsxs)(h.xu,{color:"white",opacity:r,position:"relative",zIndex:oe,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s ease",height:"100vh",width:"100vw"}},children:[(0,m.jsx)(U.Z,{unsafeCSS:"@keyframes slideUp {\n  0% {\n    transform: translateY(60px);\n    opacity: 0;\n  }\n  33% {\n    transform: translateY(40px);\n    opacity: 0;\n  }\n  90% {\n    transform: translateY(-2px);\n    opacity: 1;\n  }\n  100% {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}"}),(0,m.jsx)(h.xu,{ref:l}),(0,m.jsx)(h.xu,{display:"flex",justifyContent:"center",position:"absolute",width:"100%",dangerouslySetInlineStyle:{__style:{animationName:"slideUp",animationDuration:"1s",animationTimingFunction:"ease-in-out",top:"33%"}},children:(0,m.jsx)(h.X6,{align:"center",size:"md",children:t._("Nice! Keep saving to get better and better ideas in your feed.","SaveImproveHFEducation.Message","Education for users letting them know saving Pins improves their homefeed.")})}),(0,m.jsxs)(h.xu,{display:"flex",direction:"column",alignItems:"center",position:"absolute",width:"100%",dangerouslySetInlineStyle:{__style:{bottom:"48px"}},children:[(0,m.jsx)(h.xu,{paddingY:4,children:(0,m.jsx)(h.$j,{accessibilityLabel:t._("Updating feed","SaveImproveHFEducation.Spinner.AccessibilityLabel","Accessibility label on a spinner"),show:!0})}),(0,m.jsx)(h.xv,{size:"lg",children:t._("We’re updating your home feed...","SaveImproveHFEducation.LoadingMessage","Loading message on homefeed takeover experience")})]})]})}var ae=n(52586),se=n(552149),le=n(641483),de=n(899380),ce=n(881794),ue=n(899520),pe=n(652382),he=n(939606),me=n(995668),ge=n(899622),xe=n(709107),fe=n(534435),ye=n(915140),_e=n(181307),ve=n(348149),be=n(494936),we=n(666584),Se=n(347136),je=n(22463),Te=n(280313),ke=n(903945);function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pe="homefeed",Ce=new Set(["/","/today"]),Ee=1.5,Ae="DELAYED_NUX_TIME",Le=(0,r.Z)({feedKey:Pe,trafficSource:"feed_home",resourceName:"UserHomefeedResource",resourceOptions:()=>({field_set_key:"mobile_grid_item",prepend:!1,in_nux:(0,o.useSelector)((({session:e})=>e.firstHomeFeedRequestAfterNux))}),feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0}),De=(0,i.lazy)((()=>n.e(30841).then(n.bind(n,730841)))),Re=(0,i.lazy)((()=>n.e(17695).then(n.bind(n,217695)))),Oe=(0,i.lazy)((()=>n.e(74860).then(n.bind(n,274860)))),Ne=(0,i.lazy)((()=>n.e(63145).then(n.bind(n,263145)))),Be={911373384406:!1,924581335376:!1,895298746787:!1,944938374183:!1,922773544354:!1},Ze=e=>{var t;return(0,je.f9)(null===(t=e.experience)||void 0===t?void 0:t.experience_id)&&!(0,ke.qn)(Ae,0)&&e.isIndiaDelayNuxEnabledAndActivate()};class Fe extends i.PureComponent{constructor(e){var t;if(super(e),Ie(this,"state",{...(0,je.HW)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:502530===(null===(t=this.props.experience)||void 0===t?void 0:t.experience_id)?Se.ef+1:Se.ef,delayNux:Ze(this.props),preparingGenderAndTopics:Ze(this.props),showNuxWelcome:!1,showUnlinkTokenExpiredModal:!1,showDeleteAccountSurveyModal:!1}),Ie(this,"shouldShowTodayTab",!1),Ie(this,"updatingGenderAndTopics",!1),Ie(this,"currInnerHeight",0),Ie(this,"claimReferral",(e=>{(0,le.ZP)("mweb.partner.referral.claim.attempt");const t=me.H.getData();l.ZP.create("ReferralClaimResource",{referralCode:t,receiverUserId:e}).callUpdate().then((()=>{me.H.setSenderOfferClaimed(),(0,le.ZP)("mweb.partner.referral.claim.success"),this.props.showToast({duration:5e3,text:this.props.i18n._("You’ve claimed an offer. Launch ads to get started.","business_hub.offer_toast.success","Toast indicating a referral offer was successfully claimed"),href:"/business/install_app"})})).catch((()=>{me.H.resetStatus(),(0,le.ZP)("mweb.partner.referral.claim.error"),this.props.showToast({isError:!0,duration:5e3,text:this.props.i18n._("Sorry, you don’t qualify for this offer","business_hub.offer_toast.error","Toast indicating a referral offer could not be claimed")})})),Ze(this.props)&&window.removeEventListener("scroll",this.onScroll)})),Ie(this,"onScroll",(()=>{!this.updatingGenderAndTopics&&window.pageYOffset>window.innerHeight*Ee&&this.cancelDelayedNux()})),Ie(this,"cancelDelayedNux",(()=>{this.updatingGenderAndTopics=!0,(0,ke.Nh)(Ae,(new Date).getTime()),this.props.updateTopics(Be).then((()=>{this.props.saveGender("unspecified",(()=>{this.setState({delayNux:!1},(()=>{this.updatingGenderAndTopics=!0})),setTimeout((()=>{this.setState({showNuxWelcome:!1})}),1e3)}))}))})),Ie(this,"onFeedItemClick",(()=>{this.cancelDelayedNux()})),Ie(this,"renderRenux",(()=>{const{experience:e,viewedImages:t}=this.props,{extraPlpImages:n}=this.state,i=t,o=i.concat(n.filter((e=>!i.includes(e))));return e?(0,m.jsx)(x.Z,{name:"SafeSuspense_LoadingSpinner",children:(0,m.jsx)(K.Z,{fallback:(0,m.jsx)(z.Z,{accessibilityLabel:this.props.i18n._("Loading experience","loading experience spinner","loading experience spinner")}),children:(0,m.jsx)(De,{experience:e,extraImageInfo:o})})}):null})),e.inIndiaDelayNuxGroup&&this.state.delayNux){const t=[new Promise((t=>e.saveGender("male",(()=>t())))),e.submitTopics(Object.keys(Be))];Promise.all([t]).then((()=>{this.setState({preparingGenderAndTopics:!1})})),setTimeout((()=>{this.setState({showNuxWelcome:!0})}),2e3)}}static getDerivedStateFromProps(e){const{selectedTabIndex:t,location:{pathname:n}}=e;return!t&&n.startsWith("/today")?{currentTabIndex:Se.ef+1}:"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){var e,t,n;const{currentUserId:i,dispatchViewedSharedPins:o,isPartner:r,locale:a,pwtStaticContext:s,i18n:l,isAuthenticated:d,showToast:c,userCountry:u}=this.props,{sharedPinData:p}=this.state;(0,xe.E)(!1),(0,ae.Z)(),p&&Object.keys(p).length>0&&o(p),r&&i&&me.H.shouldClaimReferral()&&this.claimReferral(i),d&&(0,he.S$)({appLoadName:"home_feed_pinteractive",clientNavName:"home_feed_render"},s);const{isTodayTabEnabledAndActivate:h,showQuickSave:m,location:g}=this.props;this.shouldShowTodayTab=!m&&(0,Te.Yj)(u,a)&&h(),Ze(this.props)&&window.addEventListener("scroll",this.onScroll),null!==(e=g.state)&&void 0!==e&&e.unlinkTokenInvalid&&this.setState({showUnlinkTokenExpiredModal:!0}),null!==(t=g.state)&&void 0!==t&&t.isCloseAccountReasonOpen&&this.setState({showDeleteAccountSurveyModal:!0}),null!==(n=g.state)&&void 0!==n&&n.showError&&c({duration:5e3,isError:!0,text:l._("We can’t find that idea! Try searching for one just like it.")})}render(){const{currentUserId:e,currentUsername:t,experience:n,history:o,homefeed:r,inIndiaDelayNuxGroup:a,isAuthenticated:l,isPartner:d,location:c,unauthSavePinId:u,selectedTabBoardId:p,showQuickSave:_,tabBoards:v}=this.props,{currentTabIndex:b,delayNux:w,preparingGenderAndTopics:S,showNuxWelcome:j,showUnlinkTokenExpiredModal:k,showDeleteAccountSurveyModal:I}=this.state,P=this.shouldShowTodayTab&&b===Se.ef+1,E=(0,L.mB)(c.search),A=E&&E.boardId||p;let D=null;if(n&&!w)switch(n.experience_id){case 40002:case 10105:if(D=(0,m.jsx)(x.Z,{name:"SafeSuspense_HomePage_Nux",children:(0,m.jsx)(K.Z,{fallback:(0,m.jsx)(z.Z,{accessibilityLabel:this.props.i18n._("Loading new user education","Loading spinner","Loading spinner")}),children:d?(0,m.jsx)(Ne,{experience:n}):(0,m.jsx)(i.Fragment,{children:a?(0,m.jsx)(s.Z,{isOpen:!0,hideCloseIcon:!0,type:"nux-modal-on-hf",isLegoModal:!0,isSlideUp:!0,children:(0,m.jsx)(Oe,{experience:n,refreshFeedOnComplete:!0,inMobileModal:!0})}):(0,m.jsx)(Oe,{experience:n})})})}),a)break;return D;case 500450:return this.renderRenux();case 500681:return(0,m.jsx)(x.Z,{name:"SafeSuspense_HomePage_ContactUpdate",children:(0,m.jsx)(K.Z,{fallback:(0,m.jsx)(z.Z,{accessibilityLabel:this.props.i18n._("Loading experience","loading experience spinner","loading experience spinner")}),children:(0,m.jsx)(Re,{})})});case 503117:return(0,m.jsx)(re,{experience:n})}return(0,m.jsx)(q.Z,{viewType:1,viewParameter:92,children:(0,m.jsx)(C.Z,{view:1,viewParameter:92,children:(0,m.jsxs)(V.Z,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[(!_&&!(null==v||!v.length)||this.shouldShowTodayTab)&&(0,m.jsx)(ue.$l,{noPadding:!0,hideOnScroll:l,overrideTop:0,children:(0,m.jsx)(h.xu,{paddingY:1,children:(0,m.jsx)(Se.ZP,{tabBoards:v||[],currentTabIndex:b,currentBoardId:A,shouldShowTodayTab:this.shouldShowTodayTab})})}),v&&v.length&&A&&b!==Se.ef?(0,m.jsx)(B,{boardId:A}):P?(0,m.jsx)(se.Z,{numDaysToFetch:Te.a7}):(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(y.Z,{experience:n}),(0,m.jsx)(f.Z,{experience:n,eligibleIds:[500684,500683,500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,110002,110001,503291],children:(0,m.jsx)(Y,{experience:n})}),(0,m.jsx)(T,{experience:n}),_&&!u&&(0,m.jsx)(te,{}),Array.isArray(r)&&r.length>0&&"story"===r[0].type&&(0,m.jsx)(h.xu,{marginStart:-2,marginEnd:-2,marginTop:-1,marginBottom:1,children:(0,m.jsx)(H,{history:o,storyId:r[0].id})}),a?!S&&(0,m.jsxs)(i.Fragment,{children:[D,(0,m.jsx)(Le,{onFeedItemClick:this.onFeedItemClick})]}):(0,m.jsx)(Le,{})]}),j&&(0,m.jsx)(s.Z,{isLegoModal:!0,allowScrolling:!0,disableMask:!0,isOpen:!0,isSlideUp:!0,onDismiss:()=>{},hideCloseIcon:!0,type:"nux_intro_peak_out",children:(0,m.jsxs)(h.xu,{paddingY:7,paddingX:3,display:"flex",direction:"column",alignItems:"center",children:[(0,m.jsx)(h.X6,{size:"sm",children:this.props.i18n._("Welcome to Pinterest","nux hf first welcome title","nux hf first welcome title")}),(0,m.jsx)(h.xu,{maxWidth:"330px",marginTop:2,children:(0,m.jsx)(h.xv,{size:"md",align:"center",children:this.props.i18n._("Explore ideas and images from all over the web, save ideas and discover new interests.","nux hf first welcome message","nux hf first welcome message")})}),(0,m.jsx)(h.xu,{marginTop:4,children:(0,m.jsx)(h.zx,{fullWidth:!0,color:"red",onClick:this.cancelDelayedNux,type:"button",text:this.props.i18n._("Get started","nux hf first welcome message cta","nux hf first welcome message cta")})})]})}),k&&(0,m.jsx)(de.Z,{onDismiss:()=>{o.replace("/"),this.setState({showUnlinkTokenExpiredModal:!1})}}),I&&(0,m.jsx)(g,{isPartner:d,userId:e,username:t,onDismiss:()=>{o.replace("/"),this.setState({showDeleteAccountSurveyModal:!1})}})]})})})}}const Me=e=>{const t=(0,d.ZP)(),{experience:n,history:i,location:o,pwtStaticContext:r}=e,a=(0,be.$4)(null==n?void 0:n.experience_id);return(0,m.jsx)(Fe,{...e,experience:n,history:i,i18n:t,location:o,pwtStaticContext:r,showQuickSave:a})},He=(0,J.CQ)("homefeed-more-ideas-tabs"),ze=[],Ue=(0,A.compose)(O.EN,(0,o.connect)((e=>{const{feeds:{homefeed:t},pins:n,homefeedTabUI:{activeTabBoardId:i,activeTabIndex:o},session:{isAuthenticated:r,locale:a,twaType:s,viewedImages:l,unauthSavePinId:d}}=e,c=(0,J.ts)(e);return{currentUserId:c?c.id:null,currentUsername:c?c.username:null,homefeed:t,isAuthenticated:r,isNewUser:(0,ee.EO)(c),isPartner:!!(c||{}).is_partner,locale:a,pins:n,selectedTabBoardId:i,selectedTabIndex:o,viewedImages:l||[],unauthSavePinId:d,userCountry:c&&c.country||"",twaType:s}}),(e=>({dispatchViewedSharedPins:t=>e((0,fe.dz)(t)),saveGender:(t,n)=>e((0,ge._L)("gender",t.toLowerCase(),n,(()=>{}))),submitTopics:t=>e((0,b.$t)(t,[],!1)),updateTopics:t=>e((0,ye.lD)(t))}))),(0,ce.Z)({name:"MoreIdeasTabsBoardsResource",key:"moreIdeasTabsBoardsResource",options:()=>({redux_normalize_feed:!0}),mapState:e=>{const t=(He(e)||ze).map((t=>e.boards[t.id])),n=(0,J.ts)(e),i=!!(n||{}).is_partner;return{isNewUser:(0,ee.EO)(n),isPartner:i,tabBoards:t}}}),E.Z)((e=>{const t=(0,we.N5)(),n=(0,O.k6)(),i=(0,O.TH)(),o="true"===(0,pe.qn)("completedMiniRenux"),r=(0,_e.tc)("mweb_india_delay_nux")({dangerouslySkipActivation:!0}).anyEnabled,a=(0,_e.tc)("mweb_today_tab_v1"),s=(0,_e.tc)("mweb_india_delay_nux"),l=(0,ve._P)({id:40001,extraContext:o?{completed_mini_renux:o}:void 0,shouldUsePlacedExperience:!1});return(0,m.jsx)(X.Z,{surface:"homefeed",measureGridVisuallyComplete:!0,children:(0,m.jsx)(Me,{...e,experience:l,history:n,location:i,pwtStaticContext:t,inIndiaDelayNuxGroup:r,isIndiaDelayNuxEnabledAndActivate:()=>s().group.startsWith("enabled"),isTodayTabEnabledAndActivate:()=>["enabled","employees"].includes(a().group)})})}))},989847:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(883119),r=n(785893);function a({color:e="red",duration:t,finalProgress:n,shape:a="pill"}){const[s,l]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===a;return(0,r.jsx)(o.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${n}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${s?"-5px":"-100%"})`:`scaleX(${s?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},549156:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r(e){const{children:t,display:n,id:r}=e;return(0,o.jsx)(i.xu,{"data-test-id":r,display:n,children:t})}},472125:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(23279),r=n.n(o);function a(){const[e,t]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const n=r()(e,50);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),e}},790928:(e,t,n)=>{n.d(t,{Dm:()=>l,w9:()=>d,S4:()=>c,st:()=>u,QP:()=>p,Xe:()=>h,k$:()=>m,Fp:()=>g,NG:()=>x,_f:()=>f,Bu:()=>_,eT:()=>v,hm:()=>b,I:()=>w,ym:()=>j});var i=n(596538);const o=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),r=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),a=Object.freeze({B_CORP:"b_corp",SUSTAINABILITY:"sustainability",PHILANTHROPY:"philanthropy",BUSINESS_PRACTICES:"business_practices",FAIR_TRADE:"fair_trade",INGREDIENTS:"ingredients",RECYCLED_MATERIALS:"recycled_materials",ARTISANS:"artisans",BODY_POSITIVE:"body_positive",DIVERSE_MODELS:"diverse_models",PRODUCTS:"products",HANDMADE:"handmade",SHOPPING_EXPERIENCE:"shopping_experience",COMMUNITY_BUILDING:"community_building",EDITORIAL_BLOGS:"editorial_blogs",BTS:"bts"}),s=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(o).map((e=>o[e])),...Object.keys(r).map((e=>r[e]))],d=[...Object.keys(s).map((e=>s[e]))],c=3,u=1,p=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],h={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:p[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1},m="storefront_inspirational_badges_web",g="storefront_inspirational_badges_colors",x="https://help.pinterest.com/article/shopping-with-pinterest",f="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile",y=["US"];function _({areBadgesEnabled:e,country:t,verifiedMerchant:n}){var i,o;const r=null==n?void 0:n.isVerifiedMerchant,a=null==n||null===(i=n.inspirational_signal)||void 0===i?void 0:i.is_inspirational,s=null==n||null===(o=n.inspirational_signal)||void 0===o?void 0:o.is_eligible_for_storefront_badges;return Boolean(e&&r&&a&&s&&!!t&&y.includes(t.toUpperCase()))}function v(e){const{business_diversity_labels:t,review_labels:n}=e||{};return[...t||[],...n||[]].map((e=>e.trim()))}function b(e){var t;const n=v(e),i=(null===(t=e.inspirational_badge_selection)||void 0===t?void 0:t.badgeOptOut)||[];return n.filter((e=>!i.includes(e)))}function w(e,t,n=1,i=c){const l={[s.ECO_FRIENDLY]:{id:s.ECO_FRIENDLY,label:e._("Eco-friendly","InspirationalBadges.label.eco_friendly","Badge label describing a merchant"),description:e._("This retailer's website indicates that they are environmentally sustainable and/or using upcycled or recycled materials","InspirationalBadges.desc.eco_friendly","Tooltip description of a profile badge"),controlsTooltip:e._("Your website indicates that your business is environmentally sustainable and/or uses upcycled or recycled materials","InspirationalBadges.controlsTooltip.eco_friendly","Tooltip description of a profile badge, 2nd person perspective")},[s.INCLUSIVE]:{id:s.INCLUSIVE,label:e._("Inclusive","InspirationalBadges.label.inclusive","Badge label describing a merchant"),description:e._("This retailer's website indicates that they make and market products for a broader range of body types, sizes, ages and/or ethnicities","InspirationalBadges.desc.inclusive","Tooltip description of a profile badge"),controlsTooltip:e._("Your website indicates that your business makes and markets products for a broader range of body types, sizes, ages and/or ethnicities","InspirationalBadges.controlsTooltip.inclusive","Tooltip description of a profile badge, 2nd person perspective")},[s.INVESTED_IN_GOOD]:{id:s.INVESTED_IN_GOOD,label:e._("Invested in good","InspirationalBadges.label.invested_in_good","Badge label describing a merchant"),description:e._("This retailer's website indicates that they are a philanthropic company and/or a registered B corp","InspirationalBadges.desc.invested_in_good","Tooltip description of a profile badge"),controlsTooltip:e._("Your website indicates that your business is a philanthropic company and/or a registered B corp ","InspirationalBadges.controlsTooltip.invested_in_good","Tooltip description of a profile badge, 2nd person perspective")},[s.PERSONAL_TOUCH]:{id:s.PERSONAL_TOUCH,label:e._("Personal touch","InspirationalBadges.label.personal_touch","Badge label describing a merchant"),description:e._("This retailer's website indicates that they are a provider of artisanal/handmade products and/or innovative shopping/delivery options","InspirationalBadges.desc.personal_touch","Tooltip description of a profile badge"),controlsTooltip:e._("Your website indicates that your business is a provider of artisanal/handmade products and/or innovative shopping/ delivery options","InspirationalBadges.controlsTooltip.personal_touch","Tooltip description of a profile badge, 2nd person perspective")},[s.RESPONSIBLY_SOURCED]:{id:s.RESPONSIBLY_SOURCED,label:e._("Responsibly sourced","InspirationalBadges.label.responsibly_sourced","Badge label describing a merchant"),description:e._("This retailer's website indicates that they use ethical business/labor practices, transparent manufacturing processes/ingredient lists and/or are fair trade certified","InspirationalBadges.desc.responsibly_sourced","Tooltip description of a profile badge"),controlsTooltip:e._("Your website indicates that your business uses ethical business/labor practices, transparent manufacturing processes/ingredient lists and/or are fair trade certified","InspirationalBadges.controlsTooltip.responsibly_sourced","Tooltip description of a profile badge, 2nd person perspective")}},d=e._("Placeholder tooltip text","InspirationalBadges.desc.placeholder","placeholder text"),u={[o.AFRICAN_AMERICAN_OR_BLACK]:{id:o.AFRICAN_AMERICAN_OR_BLACK,label:e._("Black-owned","InspirationalBadges.label.african_american_black","Option for communities"),description:e._("This retailer's owner identified as a member of the Black community","InspirationalBadges.desc.african_american_black","Tooltip description of a profile badge")},[o.BLACK_AFRICAN_DIASPORA]:{id:o.BLACK_AFRICAN_DIASPORA,label:e._("Black (African diaspora)-owned","InspirationalBadges.label.black","Option for communities"),description:d},[o.HISPANIC_OR_LATINX]:{id:o.HISPANIC_OR_LATINX,label:e._("Latinx-owned","InspirationalBadges.label.hispanic_latinx","Option for communities"),description:e._("This retailer's owner identified as a member of the Latinx community","InspirationalBadges.desc.hispanic_latinx","Tooltip description of a profile badge")},[o.NATIVE_OR_INDIGENOUS]:{id:o.NATIVE_OR_INDIGENOUS,label:e._("Indigenous-owned","InspirationalBadges.label.native_or_indigenous","Option for communities"),description:e._("This retailer's owner identified as a member of a Native or Indigenous community","InspirationalBadges.desc.native_or_indigenous","Tooltip description of a profile badge")},[o.ABORIGINAL_OR_INDIGENOUS]:{id:o.ABORIGINAL_OR_INDIGENOUS,label:e._("Indigenous-owned","InspirationalBadges.label.aboriginal_or_indigenous","Option for communities"),description:e._("This retailer's owner identified as a member of a Native or Indigenous community","InspirationalBadges.desc.aboriginal_or_indigenous","Tooltip description of a profile badge")},[o.NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES]:{id:o.NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES,label:e._("Indigenous-owned","InspirationalBadges.label.native_american_alaska_native","Option for communities"),description:e._("This retailer's owner identified as a member of a Native or Indigenous community","InspirationalBadges.desc.native_or_indigenous","Tooltip description of a profile badge")},[o.ASIAN_OR_PACIFIC_ISLANDERS]:{id:o.ASIAN_OR_PACIFIC_ISLANDERS,label:e._("API-owned","InspirationalBadges.label.asian_or_pacific_islanders","Option for communities"),description:e._("This retailer's owner identified as a member of the Asian/Pacific Islander community","InspirationalBadges.desc.asian_or_pacific_islanders","Tooltip description of a profile badge")},[o.ASIAN]:{id:o.ASIAN,label:e._("Asian-owned","InspirationalBadges.label.asian","Option for communities"),description:e._("This retailer's owner identified as a member of the Asian community","InspirationalBadges.desc.asian","Tooltip description of a profile badge")},[o.MIDDLE_EASTERN]:{id:o.MIDDLE_EASTERN,label:e._("Middle Eastern-owned","InspirationalBadges.label.middle_eastern","Option for communities"),description:d},[o.MIDDLE_EASTERN_TURKISH_ROMA]:{id:o.MIDDLE_EASTERN_TURKISH_ROMA,label:e._("Middle Eastern, esp. Turkish and Roma-owned","InspirationalBadges.label.middle_eastern_or_north_african","Option for communities"),description:d},[o.NORTH_AFRICAN]:{id:o.NORTH_AFRICAN,label:e._("North African-owned","InspirationalBadges.label.north_african","Option for communities"),description:d},[o.MIDDLE_EASTERN_OR_NORTH_AFRICAN]:{id:o.MIDDLE_EASTERN_OR_NORTH_AFRICAN,label:e._("Middle Eastern or North African-owned","InspirationalBadges.label.middle_eastern_or_north_african","Option for communities"),description:d},[r.PERSON_OF_COLOR]:{id:r.PERSON_OF_COLOR,label:e._("Person of color-owned","CommunityInfoChecklist.category.person_of_color_owned","Option for category of underrepresented group"),description:d},[r.LGBTQ]:{id:r.LGBTQ,label:e._("LGBTQ+ owned","CommunityInfoChecklist.category.lgbtq_owned","Option for category of underrepresented group"),description:e._("This retailer's owner identified as a member of the LGBTQ+ community","InspirationalBadges.desc.lgbtq_owned","Tooltip description of a profile badge")},[r.DISABILITY]:{id:r.DISABILITY,label:e._("Disability-owned","CommunityInfoChecklist.category.disability_owned","Option for category of underrepresented group"),description:e._("This retailer's owner identified as a member of the disabled community","InspirationalBadges.desc.disability_owned","Tooltip description of a profile badge")},[r.WOMAN]:{id:r.WOMAN,label:e._("Woman-owned","CommunityInfoChecklist.category.woman_owned","Option for category of underrepresented group"),description:e._("This retailer's owner identified as a woman","InspirationalBadges.desc.woman_owned","Tooltip description of a profile badge")},[a.B_CORP]:l[s.INVESTED_IN_GOOD],[a.SUSTAINABILITY]:l[s.ECO_FRIENDLY],[a.PHILANTHROPY]:l[s.INVESTED_IN_GOOD],[a.BUSINESS_PRACTICES]:l[s.RESPONSIBLY_SOURCED],[a.FAIR_TRADE]:l[s.RESPONSIBLY_SOURCED],[a.INGREDIENTS]:l[s.RESPONSIBLY_SOURCED],[a.RECYCLED_MATERIALS]:l[s.ECO_FRIENDLY],[a.ARTISANS]:l[s.PERSONAL_TOUCH],[a.BODY_POSITIVE]:l[s.INCLUSIVE],[a.DIVERSE_MODELS]:l[s.INCLUSIVE],[a.PRODUCTS]:l[s.INCLUSIVE],[a.HANDMADE]:l[s.RESPONSIBLY_SOURCED],[a.SHOPPING_EXPERIENCE]:l[s.RESPONSIBLY_SOURCED],[s.ECO_FRIENDLY]:l[s.ECO_FRIENDLY],[s.INCLUSIVE]:l[s.INCLUSIVE],[s.INVESTED_IN_GOOD]:l[s.INVESTED_IN_GOOD],[s.PERSONAL_TOUCH]:l[s.PERSONAL_TOUCH],[s.RESPONSIBLY_SOURCED]:l[s.RESPONSIBLY_SOURCED]},p=t.map((e=>u[e])).filter((e=>e)),h=Array.from(new Set(p)).sort(((e,t)=>e.label.localeCompare(t.label))),m=h.filter((e=>r[e.id.toUpperCase()]||o[e.id.toUpperCase()])),g=h.filter((e=>l[e.id]));return(m.length?[...m.slice(0,n),...g]:g).slice(0,i)}function S(e){const t=(0,i.oo)(e);if(!t)return"white";const[n,o,r]=t;return(0,i.DW)(n,o,r)<=i.I?"white":"black"}function j(e){const t=e||p[0];return{backgroundColor:t,color:S(t)}}},596538:(e,t,n)=>{n.d(t,{vq:()=>o,oo:()=>r,I:()=>a,DW:()=>s});const i=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},o=(e,t,n)=>"#"+i(e)+i(t)+i(n),r=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},a=.18,s=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2},457175:(e,t,n)=>{n.d(t,{B:()=>o,v:()=>r});var i=n(762803);const{Provider:o,useHook:r}=(0,i.ZP)("ContextLogger")},304966:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(457175);const o=()=>(0,i.v)().logContextEvent},302754:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(180307),r=n(549156),a=n(174523),s=n(883119),l=n(946753),d=n(785893);const c=o.Z.settings,u="?source=deactivate_flow";function p(e){const t=(0,a.ZP)(),[n,o]=(0,i.useState)(),[p,h]=(0,i.useState)(),m=[{value:"emails",label:t._("I’m getting too many emails"),help:(0,l.nk)(t._("Did you know you can change your {{ emailSettings }}?"),{emailSettings:(0,d.jsx)(s.xv,{color:"blue",inline:!0,weight:"bold",children:(0,d.jsx)(s.rU,{inline:!0,href:"/settings/notifications",children:t._("email settings","text linking to settings page to edit email","text linking to settings page to edit email")})},"link")})},{value:"secondAccount",label:t._("I accidentally made another account"),help:(0,l.nk)(t._("Don't worry about it! If you need it, {{ moreInfo }}"),{moreInfo:(0,d.jsx)(s.xv,{color:"blue",inline:!0,weight:"bold",children:(0,d.jsx)(s.rU,{inline:!0,href:c.MERGE_ACCOUNTS+u,target:"blank",children:t._("here's more info on multiple accounts","text linking to help center to learn about merging accounts","text linking to help center to learn about merging accounts")})},"link")})},{value:"privacy",label:t._("I'm concerned about privacy"),help:(0,l.nk)(t._("{{ learnMore }} about your privacy settings"),{learnMore:(0,d.jsx)(s.xv,{color:"blue",inline:!0,weight:"bold",children:(0,d.jsx)(s.rU,{inline:!0,href:c.HELP_UNDERSTAND_PRIVACY+u,target:"blank",children:t._("Learn more","text linking to help center to learn about privacy","text linking to help center to learn about privacy")})},"link")})},{value:"businessAccountWanted",label:t._("I want a business account"),help:(0,l.nk)(t._("Did you know you can {{ convertToBusiness }}?"),{convertToBusiness:(0,d.jsx)(s.xv,{color:"blue",inline:!0,weight:"bold",children:(0,d.jsx)(s.rU,{inline:!0,href:c.PARTNER_CONVERT_ACCOUNT,children:t._("convert to a business account","text linking to help center to learn about privacy","text linking to help center to learn about privacy")})},"link")})},{value:"other",label:t._("Other"),help:null}];return(0,d.jsxs)(s.xu,{children:[(0,d.jsx)(s.xu,{children:(e.isPartner?m.filter((e=>"businessAccountWanted"!==e.value)):m).map((t=>(0,d.jsx)(s.xu,{children:(0,d.jsxs)(s.xu,{display:"flex",direction:"row",marginStart:-1,marginEnd:-1,alignItems:"center",children:[(0,d.jsx)(s.xu,{paddingX:2,paddingY:2,children:(0,d.jsx)(s.EU,{id:t.value,name:"reason",onChange:({checked:n})=>((t,n,i)=>{n&&(o(t),h(i),e.onReasonChange(t))})(t.value,n,t.help),checked:n===t.value,size:"sm",value:t.value},t.value)}),(0,d.jsx)(s.xu,{paddingX:1,children:(0,d.jsx)(s.__,{htmlFor:t.value,children:(0,d.jsx)(s.xv,{children:t.label})})})]},t.value)},t.value)))}),n&&p?(0,d.jsx)(r.Z,{id:"deleteHelp",children:(0,d.jsx)(s.xu,{paddingY:2,marginTop:4,display:"flex",alignItems:"center",children:(0,d.jsx)(s.xv,{inline:!0,children:p})})}):null]})}},670830:(e,t,n)=>{n.d(t,{Mi:()=>o,lO:()=>a,Sd:()=>s});var i=n(762803);const{Provider:o,Consumer:r,useHook:a,HOC:s}=(0,i.js)("pageContext")},396893:(e,t,n)=>{n.d(t,{sH:()=>r,HI:()=>a,hm:()=>s,f8:()=>l});var i=n(883119),o=n(785893);const r=({children:e})=>(0,o.jsx)(i.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),a=({children:e})=>(0,o.jsx)(i.xu,{padding:2,children:e}),s=({children:e})=>(0,o.jsx)(i.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),l=({children:e})=>(0,o.jsx)(i.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},798918:(e,t,n)=>{n.d(t,{zn:()=>i,q4:()=>o,Mf:()=>_});const i=e=>["feed_card_default","feed_card_video"].includes(e),o=2/3;const{LEFT:r,CENTER:a,RIGHT:s}={LEFT:0,CENTER:1,RIGHT:2},l={[r]:"start",[a]:"center",[s]:"end"},{SMALL:d,MEDIUM:c,LARGE:u}={SMALL:0,MEDIUM:1,LARGE:2,EXTRA_LARGE:3},p={web:{[d]:"16",[c]:"20",[u]:"24"},mweb:{[d]:"12",[c]:"16",[u]:"18"}},{ITALICS:h,NORMAL:m}={NORMAL:0,ITALICS:1},g={[h]:"italics",[m]:"normal"},{BOLD:x,NORMAL:f}={NORMAL:0,BOLD:1},y={[x]:"bold",[f]:"normal"},_=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:o},r)=>({color:e,fontStyle:g[null!=t?t:0],fontWeight:y[null!=n?n:1],horizontalAlignment:l[null!=i?i:0],fontSize:p[r][null!=o?o:0]+"px"})},881220:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(500953),r=n(181307),a=n(16539),s=n(883119),l=n(785893);function d({button:e,dataTestId:t,duration:n=2e3,href:d,iconThumbnail:c,imageUrl:u,onClick:p,onHide:h,openNewPage:m,text:g,thumbnailShape:x="square",variant:f="default"}){const[y,_]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),w=(0,i.useRef)(),S=(0,r.tc)("web_toast_color_change_dark_gray")().anyEnabled,j=()=>{_(!0),w.current=setTimeout(h,a.V)},T=()=>{w.current&&clearTimeout(w.current)},k=()=>{w.current=setTimeout(j,n)};(0,o.Z)((()=>(setTimeout((()=>b(!0)),100),k(),T)));const I="string"==typeof g?g:`${g[0]} ${g[1]}`,P=u?(0,l.jsx)(s.xu,{height:48,overflow:"hidden",width:48,children:(0,l.jsx)(s.Ee,{alt:I,fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0,C=(0,l.jsx)(s.FN,{button:e,text:g,thumbnail:null!=c?c:P,thumbnailShape:x,variant:f,_dangerouslyUseDarkGray:S});return(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:(0,a.Z)(v,y)},"data-test-id":null!=t?t:"toast",onMouseEnter:T,onMouseLeave:k,children:d?(0,l.jsx)("a",{href:d,onClick:p,target:m?"_blank":null,rel:m?"noopener noreferrer":null,children:C}):C})}},16539:(e,t,n)=>{n.d(t,{V:()=>i,Z:()=>o});const i=200,o=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},666611:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);function o(e){const{animationData:t,autoplay:o,initialSegment:r,loop:a,onComplete:s,onConfigReady:l,onDataFailed:d,onDataReady:c,onDestroy:u,onDOMLoaded:p,onEnterFrame:h,onLoadedImages:m,onLoopComplete:g,onSegmentStart:x}=e,[f,y]=(0,i.useState)(null),[_,v]=(0,i.useState)(!1),b=(0,i.useRef)(null),w=(0,i.useRef)(null),S=async()=>{const e=await n.e(98234).then(n.t.bind(n,98234,23));y(e)};(0,i.useEffect)((()=>{S()}),[]);return(0,i.useEffect)((()=>{var t;if(!w.current||!f)return;null===(t=b.current)||void 0===t||t.destroy();const n={...e,container:w.current};b.current=f.loadAnimation(n),v(!!b.current)}),[w,b,t,f,e]),(0,i.useEffect)((()=>{b.current&&(b.current.loop=!!a,a&&b.current.isPaused&&b.current.play())}),[a]),(0,i.useEffect)((()=>{b.current&&(b.current.autoplay=!!o)}),[o]),(0,i.useEffect)((()=>{b.current&&(r?Array.isArray(r)&&r.length&&((b.current.currentRawFrame<r[0]||b.current.currentRawFrame>r[1])&&(b.current.currentRawFrame=r[0]),b.current.setSegment(r[0],r[1])):b.current.resetSegments(!1))}),[r]),(0,i.useEffect)((()=>{const e=[{name:"complete",handler:s},{name:"loopComplete",handler:g},{name:"enterFrame",handler:h},{name:"segmentStart",handler:x},{name:"config_ready",handler:l},{name:"data_ready",handler:c},{name:"data_failed",handler:d},{name:"loaded_images",handler:m},{name:"DOMLoaded",handler:p},{name:"destroy",handler:u}].filter((e=>null!=e.handler));return()=>{if(!e.length)return;e.map((e=>{var t;return null===(t=b.current)||void 0===t||t.addEventListener(e.name,e.handler),()=>{var t;null===(t=b.current)||void 0===t||t.removeEventListener(e.name,e.handler)}})).forEach((e=>e()))}}),[s,g,h,x,l,c,d,m,p,u]),{animationContainerRef:w,play:()=>{var e;null===(e=b.current)||void 0===e||e.play()},stop:()=>{var e;null===(e=b.current)||void 0===e||e.stop()},pause:()=>{var e;null===(e=b.current)||void 0===e||e.pause()},setSpeed:e=>{var t;null===(t=b.current)||void 0===t||t.setSpeed(e)},goToAndStop:(e,t)=>{var n;null===(n=b.current)||void 0===n||n.goToAndStop(e,t)},goToAndPlay:(e,t)=>{var n;null===(n=b.current)||void 0===n||n.goToAndPlay(e,t)},setDirection:e=>{var t;null===(t=b.current)||void 0===t||t.setDirection(e)},playSegments:(e,t)=>{var n;null===(n=b.current)||void 0===n||n.playSegments(e,t)},setSubframe:e=>{var t;null===(t=b.current)||void 0===t||t.setSubframe(e)},getDuration:e=>{var t;return null===(t=b.current)||void 0===t?void 0:t.getDuration(e)},destroy:()=>{var e;null===(e=b.current)||void 0===e||e.destroy()},animationLoaded:_,animationItem:b.current}}},588527:(e,t,n)=>{n.d(t,{Z:()=>i});const i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},268648:(e,t,n)=>{n.d(t,{Z:()=>s,p:()=>l});var i=n(667294),o=n(539484),r=n(741725),a=n(855168);function s(e){const{externalData:t,href:n,onHistoryChange:s,target:l}=e,[d,c]=(0,i.useState)(null),[u,p]=(0,i.useState)(!1),h=(0,a.k6)(),m=(0,a.TH)(),g=(0,o.Z)({url:n});return(0,i.useEffect)((()=>(p(!0),()=>{p(!1)})),[]),(0,i.useEffect)((()=>{g&&null!=t&&t.pin&&null===d&&(0,r.$3)({location:m,pin:t.pin,surface:t.surface})&&(0,r.iw)({isMounted:u,pin:t.pin,location:m,spamCheckCallback:e=>c(e),href:n})}),[t,n,g,u,m,d]),({event:e})=>{var i;(0,r.gV)({isOffsiteUrl:g,event:e})||(e.preventDefault(),n&&(g||null!=t&&t.dangerouslyForceOffsiteUrl?(0,r.lI)({auxData:null==t?void 0:t.auxData,href:n,pinId:null==t||null===(i=t.pin)||void 0===i?void 0:i.id,pin:null==t?void 0:t.pin,queryParams:null==t?void 0:t.queryParams,location:m,spamCheck:d}):(0,r.G3)({event:e,href:n,history:h,onHistoryChange:s,target:"blank"===l?"blank":null})))}}const l=({children:e,...t})=>e({handleClick:s(t)})},533783:(e,t,n)=>{n.d(t,{Jl:()=>d,R:()=>c,xT:()=>u,j2:()=>p,Di:()=>h,aU:()=>m,vW:()=>f,ZP:()=>y,rL:()=>_});var i=n(151101),o=n(881220),r=n(946753),a=n(221469),s=n(883119),l=n(785893);const d=7e3,c="permanent_account_closure",u="account_closure_email_sent",p="account_deletion_email_sent",h="account_deactivated",m="unlink_successful",g="account_switch_to_settings";function x(e,t,n){return(0,l.jsx)(s.xv,{align:n||"center",children:(0,r.nk)(e,{username:(0,l.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})})}function f({i18n:e,message:t,multipleAccounts:n,username:i=""}){switch(t){case c:return e._("Your account has been deleted. We're sad to see you go","unauthLoginPage.accountDeletedToast.message","Confirmation message after a user has successfully deleted their account");case u:return n?e._("An email has been sent with final steps to delete your accounts","unauthLoginPage.accountDeletedEmailToast.message.multipleAccounts","Confirmation message after a user has successfully deleted multiple accounts"):e._("An email has been sent with final steps to delete your account","unauthLoginPage.accountDeletedEmailToast.message.singleAccount","Confirmation message after a user has successfully deleted a single account");case p:return x(n?e._("An email has been sent with final steps to delete your account, {{username}} and its linked accounts","accountDeletedEmailToast.message.multipleAccounts","Confirmation message after a user has successfully requested multiple accounts deletion"):e._("An email has been sent with final steps to delete your account, {{username}}","accountDeletedEmailToast.message.singleAccount","Confirmation message after a user has successfully requested a single account deletion"),i);case h:return x(n?e._("The account, {{username}}, and its associated linked accounts have been deactivated","unauthLoginPage.deactivatedToast.message.multipleAccounts","Confirmation message after a user has successfully deactivated multiple accounts"):e._("The account, {{username}}, has been deactivated","unauthLoginPage.deactivatedToast.message.singleAccount","Confirmation message after a user has successfully deactivated a single account"),i);case m:return x(e._("Success! You've unlinked this business account. You are currently in {{username}}.","authHomeFeedPage.unlinkAccountToast.message","Confirmation message after a user has successfully unlinked business account"),i,"start");case g:return x(e._("You've switched into and are currently in the account {{username}}","accountSettings.switchAccountToAccountChanges","Confirmation message after a user has successfully switched accounts and got redirected to Account Changes"),i,"start");default:return""}}function y(e,t,n=""){if(!t||!t.search)return"";const i=(0,a.mB)(t.search).message,o=(0,a.mB)(t.search).username||n;return f({i18n:e,message:i,multipleAccounts:"true"===(0,a.mB)(t.search).multiple_accounts,username:o})}function _({showOneToast:e,i18n:t,location:n,username:r,fullName:s,avatarUrl:c}){if(!n||!n.search)return;const u=y(t,n,r||""),p=(0,a.mB)(n.search).message,h=p===g||p===m;u&&e((({onHide:e})=>(0,l.jsx)(o.Z,{duration:d,onHide:e,text:u,iconThumbnail:h?(0,l.jsx)(i.Z,{name:s||"",src:c||"",size:"md"}):null})))}},855356:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(968630),o=n.n(i);function r(e,t=!1){return n=>{if(!o()(n))return t&&Array.isArray(n)?n.map(r(e,t)):n;const i={};return Object.keys(n).forEach((a=>{const s=e(n[a],a);o()(n[a])||t&&Array.isArray(n[a])?i[s]=r(e,t)(n[a]):i[s]=n[a]})),i}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>r(n,t)(e)}},239540:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>a});const o=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}},r=e=>{if(e.isHidden){const{reason:t}=e;o.onPauseListeners.forEach((e=>e(t)))}else o.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>r({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>r({isHidden:!1}))),window.addEventListener("blur",(()=>r({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>r({isHidden:!1}))),window.addEventListener("pagehide",(()=>r({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const a=o},677415:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(204478),o=n(174523),r=n(670830),a=n(304966),s=n(883119),l=n(785893);const d=(e,t)=>{let n={};if(e){const{pinData:i,viewData:o}=e;n={unauth_click_pin_id:i.id,unauth_click_pin_image_signature:i.imageSignature},3===t?n={...n,unauth_page_pin_id:o.id,unauth_page_pin_image_signature:o.imageSignature}:5===t&&(n={...n,unauth_page_board_id:o.id})}return n},c=({clickLoggingOptions:e,domain:t,link:n,onClick:c})=>{var u;const p=null===(u=(0,r.lO)())||void 0===u?void 0:u.logging,h=(0,o.ZP)(),m=(0,a.Z)(),g=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((t=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t})));return(0,l.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),g().forEach((e=>m(e))),c(e)},children:(0,l.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"white",accessibilityLabel:h._("Link","unauth.pin.domain.link","Link to take them to the source of the iamge")})}),(0,l.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),g().forEach((e=>m(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,l.jsx)(s.xv,{size:"md",color:"white",inline:!0,weight:"bold",lineClamp:1,children:(0,i.Z)(t,27)})})]})})}},365217:(e,t,n)=>{n.d(t,{P5:()=>a,tx:()=>s});var i=n(311866);const o=()=>{};const r={complaint:function(e,t){i.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){i.ZP.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){i.ZP.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){i.ZP.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){i.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){i.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){i.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.ZP.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){i.ZP.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){i.ZP.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){i.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=o){const i=r[e];return i?i(t,n):n()}},454217:(e,t,n)=>{n.d(t,{ZP:()=>s,yl:()=>l,XZ:()=>d,nb:()=>c,EF:()=>u});var i=n(180307),o=n(365217),r=n(266750);const a=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:o,makeNavigateLink:r,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=d.board,p=r("navigation",u,o);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:h,url_name:m}=c,g=r("topicUrl",`/topics/${m}`,h);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:g});case"followed":const x=`/${s.username}`,f=r("boardUrl",i.url,a(i.name)),y=r("pinnerUrl",x,a(s.full_name));return s.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:y}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:f});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=l,o=r("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:o,recommendation_reason:r},pinner:a}){const s=t&&t.type;return i&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:o,complaintReason:r,throughId:a,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===t;let c,u;switch(t){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:o||1,promoted:d,...a?{through_id:a}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:o,pinner:a,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:a}=s,l=o("topicUrl",`/topics/${a}`,i,!0),d=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:r.X},title:"",subTitle:d}}}else if("followed"===i&&n&&a){const{id:i,name:r,url:s}=n||{},{explicitly_followed_by_me:l,full_name:d,username:c}=a,u=`/${c}`,p=o("boardUrl",s,r,!0),h=o("pinnerUrl",u,d,!0);let m=l?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:h,formattedBoard:p}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p});return m=l?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:h}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:m}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}const u=(e,t,n,i,r,a,s)=>()=>{const l={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,o.tx)(d,l),a(n),s(101,{component:0,element:11181,view:i,viewParameter:r})}},410121:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(227340);const o=e=>(e||"").trim().replace(/\s+/g," "),r=e=>{const t=e||{};return!!t.story_pin_data_id?o(t.description):o((0,i.eK)(t).description)||o(t.closeup_unified_description||"")||o(t.closeup_description)||o(t.description)||o(t.rich_metadata&&t.rich_metadata.description)||""}},227340:(e,t,n)=>{n.d(t,{RC:()=>r,EU:()=>a,fs:()=>s,eK:()=>l,Ly:()=>d,hP:()=>c});var i=n(522925);const o=e=>"string"==typeof e?e:"",r=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,a=(e,t)=>e?e.trim().length>t?(0,i.x)(e.trim(),t).trim():e.trim():"",s=e=>{const{grid_title:t}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:i}=(e=>{const{place_summary:t,rich_summary:n}=e||{},i=n&&"mobile application"!==n.type_name;return{hasRichSummary:i,hasRichAttributionTitle:i&&n.display_name,hasPlaceInfo:!!t}})(e),o=r(e),s=a(t,200);return s||(n?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:i}=t;return n=n||{},i=i||{},{faviconLink:n["50x"]||i["50x"]||n.orig||i.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:i?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&o?o:null)},l=e=>{const t=e.pin_join||{},n=t.visual_annotation||[],o=n.map((e=>(t.annotations_with_links||{})[e]||{name:e,url:""}));let r="";const a=(e.rich_metadata||{}).description||"",s=e.closeup_unified_description||"",l=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),d=a.toLocaleLowerCase().trim(),c=s.toLocaleLowerCase().trim();return s&&s.length>3&&c!==l?r=s:a&&a.length>3&&d!==l&&(r=a),r&&(r=(0,i.s)((0,i.x)(r,496)).trim()),{description:r,vaseAnnotations:n,annotationsWithLinks:o}},d=(e,t,n)=>{const i=(n||[]).map((e=>e.name)),o=e=>(e||[])[0]||null;return s(e)||o(t)||o(i)||e.title},c=(e,t,n)=>{const i=o(e);let r=i;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),a=o(t);n!==i.toLowerCase()&&n!==a.trim().toLowerCase()&&(r=e)}let a=n.visual_annotation;a&&(a=a.join(", "),r&&(r+=" "),r+=a)}return r}},266750:(e,t,n)=>{n.d(t,{X:()=>i});const i="favorited"},21755:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(551687),r=n(785893);const a=(0,i.memo)((({activate:e=!0,activateExperiment:t,isEligible:n=!0,name:a,group:s,children:l})=>{(0,i.useEffect)((()=>{e&&n&&t&&t(a)}),[]);const d=s,c=`Experiment(${a}:${d})`,u=n&&d&&(d.startsWith("enabled")||d.startsWith("employee"))||!1,p={group:n?d:"",anyEnabled:u,customActivate:n&&!e?()=>n?t(a):"":null};return(0,r.jsx)(o.Z,{name:c,children:l(p)})}))},666584:(e,t,n)=>{n.d(t,{cA:()=>E,fM:()=>A,N5:()=>L});var i=n(667294),o=n(68348);const r=e=>{const{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${(i?"socialBot":n&&"bot")||"nonbot"}.${t}`};var a=n(731164),s=n(256721),l=n(182513),d=n(482131);const c=(0,l.X)("LayoutShiftDebugger"),u=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&u(e.parentNode)||null,p=e=>Math.round(1e3*e);let h=[];const m=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{const i=(0,s.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e});let o=0;const l=e=>{o=e.timeStamp};window.addEventListener("scroll",l),window.addEventListener("beforeunload",(()=>{window.removeEventListener("scroll",l)}));const m=`${r(e)}.CLS`,g=()=>(e=>{let t=Object.freeze({}),n=0;h.forEach((({value:e,shift:{sources:i},route:o,hadRecentNavigation:r,hadRecentScroll:a})=>{if(n+=e,!i||!i.length)return;const s=e/i.length;i.forEach((({node:e})=>{const n=e?u(e)||"ROOT":"NODE_REMOVED",i={route:o,boundaryId:n,hadRecentNavigation:r,hadRecentScroll:a},l=JSON.stringify(i);t={...t,[l]:{score:((t[l]||{}).score||0)+s,tags:i}}}))})),Object.keys(t).forEach((n=>{const{score:i,tags:o}=t[n];a.Z.count(`${e}.shifts`,p(i),1,{...o})})),c("Debug CLS boundaries",n,t,h),h=[]})(m);let x,f,y=0,_=0,v=0;(0,d.kz)((({entries:e,value:i})=>{if(v=i||0,e.length){x=t(),f=n();const r=e[0].startTime,a=y!==r,s=a?e:e.slice(_);a&&(y=r),h=h.concat(s.map((e=>({value:i,shift:e,route:x,hadRecentNavigation:f>0&&f+500>e.startTime,hadRecentScroll:o>0&&o+500>e.startTime})))),_=e.length}}),!0);const b=setInterval((()=>{if(h.length){g();const t=(e=v)<=.1?"good":e<=.25?"adequate":"poor";a.Z.count(`${m}.${t}`,1,1),i.stop(p(v))}var e}),1e3);window.addEventListener("beforeunload",(()=>{clearInterval(b),0===v&&i.abort("no_shifts_detected")}))};var g=n(641239);const x={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"}},f=({surface:e,isAuthenticated:t})=>{if(t)return[];switch(e){case"pin_closeup":return["mweb_pin_page_ssr_lite"];default:return[]}},y=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t?(({pwtStaticContext:e,surface:t})=>{const n=(0,s.Jx)({annotateExperiments:f({surface:t,isAuthenticated:e.isAuthenticated}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:x[t].LCP,pwtStaticContext:e}),i=(0,s.Jx)({name:x[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&i.stop(t)}})({pwtStaticContext:e,surface:t}):null,i={},o=(o,s)=>{if(!i[o]){i[o]=!0;const l=r(e);if("LCPCount"===o){const e=`${l}.${t}.${o}`;a.Z.count(`${e}.sum`,s,1),a.Z.increment(`${e}.size`,1)}else a.Z.timing(`${l}.${t}.${o}`,s,1),n&&n(o,s)}};(0,d.Tx)((({value:e})=>o("FID",(e=>Number(e.toFixed(2)))(e)))),(0,d.Tb)((({value:e})=>{o("LCPCount",(0,g.Kj)()),o("LCP",(e=>10*Math.round(e/10))(e))})),(0,d.Y)((({value:e})=>o("FCP",e)))},_=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/topics/:interest":return"topic";default:return null}};var v=n(164485),b=n(139585),w=n(840059),S=n(939606),j=n(181307),T=n(133769),k=n(855168),I=n(785893);const P=(0,i.createContext)(null),C=(0,i.createContext)(null);function E({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:r,staticContext:a}){const l=(0,i.useRef)(null),d=(0,i.useRef)(null),c=(0,i.useRef)(t),u=(0,i.useRef)(!0),{path:p}=(0,k.$B)(),h=(0,i.useRef)(p),x=!a.isCachedRender&&(0,o.Z)(a.deviceType),{isAuthenticated:f}=a,E=(0,j.tc)("scroll_pwt_sample_ramp_"+(f?"auth":"unauth"));if((0,i.useEffect)((()=>{h.current=p}),[p]),(0,i.useEffect)((()=>{if((0,T.X_)({size:n||1e3}),(0,g.UQ)(),(0,S.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach((e=>{window.performance[e]||(0,S.A9)(`not_supported.window.performance.${e}`)})):(0,S.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,S.A9)("not_supported.window.PerformanceObserer"),(0,v.v)()||(0,S.A9)("not_supported.grid_profiler"),u.current=!1,x&&!w.is){const{anyEnabled:e,group:t}=E();if(e&&((e,t)=>{let n,i=0,o=0,r=null,a=null,l=null,d=null;const c=()=>{o+=1,l=window.requestAnimationFrame(c)},u=()=>{if(d){let e=null===r||null===a?-1:a-r;e=0===e?-1:e;const n=i/e*1e3,o=(0,s.Jx)({name:"scroll_session_tmp",pwtStaticContext:t});if(!o)return;0===n?o.error("zero_value"):n<0?o.error("negative_value"):o.stop(n)}window.cancelAnimationFrame(l),i=0,o=0,a=null,r=null,d=null},p=({timeStamp:t})=>{n&&clearTimeout(n),n=setTimeout(u,500),null===d?(d="enabled_sampled"===e,d&&(l=window.requestAnimationFrame(c),r=t)):d&&(a=t,i+=o,o=0)};window.addEventListener("scroll",p),window.addEventListener("pagehide",(()=>{window.removeEventListener("scroll",p)}))})(t,a),"Chrome"===a.browserName){m({staticContext:a,getCurrentRoute:()=>h.current,getLastNavigationTime:()=>d.current||0});const e=_(p);e&&y({pwtStaticContext:a,surface:e})}}}),[]),c.current!==t){c.current=t,d.current=null!==(A=window.performance)&&void 0!==A&&A.now?window.performance.now():null;const{current:e}=d;if(!u.current){const t=!l.current;(0,S.A9)("routeStart",{tags:{action:r}}),(0,T.Eg)(t),(0,g.Ux)(t),(0,g.on)(),(0,b.tl)();const{customBufferSize:n,defaultBufferSize:i}=(0,T.LH)();e&&((0,S.A9)("routeStart.customBufferSize",{count:n}),(0,S.A9)("routeStart.defaultBufferSize",{count:i}),l.current={time:e,action:r})}}var A;return(0,I.jsx)(P.Provider,{value:x?a:null,children:(0,I.jsx)(C.Provider,{value:l.current,children:e})})}const A=()=>(0,i.useContext)(C),L=()=>(0,i.useContext)(P)},32539:(e,t,n)=>{n.d(t,{Z:()=>G});var i=n(667294),o=n(954321),r=n(139585),a=n(576618);const s=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,a.jh)("constraint_",e),...(0,a.jh)("mark_",(0,r.gQ)()),...(0,a.jh)("browser_",{...t?(0,a.D3)(t):{},...(0,a.rX)()})});var l=n(590606),d=n(842310),c=n(641239);const u=(e,t)=>{const{firstInputDelay:n}=(0,c.v2)();return[...e.map((e=>(0,d.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,l.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var p=n(133769),h=n(940094),m=n(26382);const g=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:r,imageTimings:a,metricId:l,pwtStaticContext:d,startTime:c,traceId:g,spans:x})=>{const f=(0,p.Cg)();let y;"initial_app_load"===l.navigationType&&(y=(0,o.Z)());const _=a.map((({name:e})=>e)),v=f.map((e=>(0,h.p)(e,_))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:c,endTime:r})));return{type:"COMPLETE",traceId:g,startTime:c,endTime:r,spans:u(v,g).concat(x),annotationMap:s({constraintMap:i,initialNavTiming:y,annotations:t}),binaryAnnotationMap:(0,m.r)({annotateExperiments:e,binaryAnnotations:n,entries:f,metricId:l,performanceResources:v,pwtEndTime:r,pwtStaticContext:d})}};var x=n(939606);let f=!1;const y=(e,t)=>e&&t?f?((0,x.H)("duplicated_initial_app_load_surface_pwt"),(0,l.Z)()):(f=!0,t):(0,l.Z)();var _=n(883119),v=n(409352),b=n(785893);function w({children:e,heading:t}){return(0,b.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{children:(0,b.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:(0,b.jsx)(_.xv,{weight:"bold",align:"center",children:t})})})}),(0,b.jsx)("tbody",{children:e})]})}function S({name:e,children:t}){return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)(_.xv,{weight:"bold",children:e})}),(0,b.jsx)("td",{children:"string"==typeof t?(0,b.jsx)(_.xv,{children:t}):t})]})}function j({result:e}){return"ABORT"===e.type?(0,b.jsx)(S,{name:"Abort Reason",children:e.reason}):(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(S,{name:"PWT (ms)",children:(0,b.jsx)(_.xv,{align:"end",children:Math.round(e.endTime-e.startTime)})}),(0,b.jsx)(S,{name:"PinTrace",children:(0,b.jsx)(_.xv,{italic:!0,children:(0,b.jsx)(_.rU,{href:`https://pintrace.pinadmin.com/zipkin/traces/${e.traceId.toString(16)}`,target:"blank",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:"Open in a new tab"})})})]})}function T({data:e}){const{metricId:t,constraints:n,constraintMap:i,startTime:o,result:r}=e;return(0,b.jsxs)(_.xu,{children:[(0,b.jsxs)(w,{heading:(0,v.KJ)(t),children:[(0,b.jsx)(S,{name:"Thrift Id",children:String((0,v.Rp)(t))}),(0,b.jsx)(S,{name:"Surface",children:t.surface}),(0,b.jsx)(S,{name:"Navigation Type",children:t.navigationType}),(0,b.jsx)(S,{name:"Viewer Authed",children:String(t.isAuthenticated)})]}),(0,b.jsx)(w,{heading:"Constraints",children:n.map((e=>(0,b.jsx)(S,{name:e,children:(0,b.jsx)(_.xv,{align:"end",children:i[e]?Math.round(i[e]-o):"pending..."})},`constraint_${e}`)))}),(0,b.jsx)(w,{heading:"Result",children:r?(0,b.jsx)(j,{result:r}):(0,b.jsx)(S,{name:"result",children:(0,b.jsx)(_.$j,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var k=n(51610);const I=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function P({data:e}){const[t,n]=(0,i.useState)(!1);return(0,b.jsx)(k.Z,{children:(0,b.jsxs)(_.mh,{children:[(0,b.jsx)(_.xu,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,b.jsx)(_.hU,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:I(e),icon:"flash",size:"lg",onClick:()=>n(!0)})}),t&&(0,b.jsx)(_.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,b.jsx)(_.u_,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>n(!1),footer:null,size:"sm",children:(0,b.jsx)(_.xu,{padding:6,children:(0,b.jsx)(T,{data:e})})})})]})})}var C=n(299962);const E=(e,t)=>{const n=(0,i.useRef)(e);(0,i.useEffect)((()=>{n.current=e}),[e]);const o=(0,i.useRef)(t);(0,i.useEffect)((()=>{o.current=t}),[t]),(0,i.useEffect)((()=>()=>o.current(n.current)),[])},A=(e,t)=>{const[n,o]=(0,i.useState)(t);return{state:n,dispatch:t=>o((n=>e(n,t)))}};var L=n(974780),D=n(840059),R=n(182513),O=n(239540),N=n(226806),B=n(666584);const Z=["initial_app_load","client_route_push"],F=(0,R.X)("PwtSurface"),M="NavigationComplete",H="VisuallyComplete",z=(e,t)=>{e.isSampled&&(0,C.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},U=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:o,annotateExperiments:r},annotations:a,binaryAnnotations:s,constraintMap:l,startTime:d,imageTimings:c,isSampled:u,spans:p}=e,h=y("initial_app_load"===i.navigationType,null===(n=o.serverData)||void 0===n?void 0:n.trace_id),m=g({annotateExperiments:r,annotations:a,binaryAnnotations:s,constraintMap:l,endTime:t,imageTimings:c,metricId:i,pwtStaticContext:o,startTime:d,traceId:h,spans:p});return u&&(0,C.Z)({metricId:i,pwtStaticContext:o,result:m}),{...e,result:m,status:"DONE"}})(e,t)}return e},W=(e,t)=>{const{constraint:n,time:i}=t,o=(0,v.KJ)(e.metricConfig.metricId);return L.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(F(`constraint "${n}" is already complete.`),(0,x.H)("duplicated_constraint_complete",{constraint:n,action:o}),e):(F(`marking constraint "${n}" as complete`),U({...e,constraintMap:{...e.constraintMap,[n]:i||L.Z.now()}})):(F(`marked constraint "${n}" is not a required constraint.`),e):((0,x.H)("missing_window_performance",{action:o}),e)},$=(e,t)=>{if(F("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:o}=t;if("TIMING"===e.status&&i!==e.startTime&&z(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const r=(0,v.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap.NavigationComplete?((0,x.H)("duplicated_init_route_action",{action:r}),e):((0,x.A9)(`TIMING.${r}`),W({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:o,spans:[]},{constraint:M}))})(e,t.payload);if("TIMING"!==e.status)return F(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":z(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!L.Z)return e;const o=L.Z.now();return F(`adding annotation {${i}: ${o}}`),{...e,annotations:{...e.annotations,[i]:o}};case"BINARY_ANNOTATE":const{name:r,value:a,annotationType:s}=t.payload;return F(`adding binary annotation {${r}: ${a}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:a,type:s}}};case"MARK_CONSTRAINT_COMPLETE":return W(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!L.Z){const t=(0,v.KJ)(e.metricConfig.metricId);(0,x.H)("missing_window_performance",{action:t})}F(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...o}=e.constraintMap;return U({...e,constraintMap:o,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!L.Z){const t=(0,v.KJ)(e.metricConfig.metricId);(0,x.H)("missing_window_performance",{action:t})}F(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){z(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return W({...e,imageTimings:n},{constraint:H,time:i})}case"ADD_SUBSPAN":const{startTime:d}=e,{payload:{name:c,startTime:u,endTime:p,annotations:h,binaryAnnotations:m,parentId:g}}=t;return{...e,spans:[...e.spans,{name:c,id:(0,l.Z)(),startTime:u||d,endTime:p,annotationMap:{...h},binaryAnnotationMap:{...m},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,l.Z)(),startTime:L.Z?L.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const f=e.spans.findIndex((e=>e.name===t.payload.name));return f>-1?(e.spans[f].endTime=L.Z?L.Z.now():0,t.payload.annotations&&(e.spans[f].annotationMap={...e.spans[f].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[f].binaryAnnotationMap={...e.spans[f].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,x.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const y=(0,v.KJ)(e.metricConfig.metricId);return(0,x.H)("invalid_pwt_surface_action",{action:y}),e}};function G({children:e,...t}){const n=(0,B.fM)(),o={...t,navigationInfo:{navigationType:(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(n),clientNavigation:n}},{state:r,context:a}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:o,annotateExperiments:r,customEnabledNavigationTypes:a,navigationInfo:{clientNavigation:s,navigationType:l},sampleRate:d})=>{const c=(0,i.useRef)("NOT_SET"),u=(0,B.N5)(),{state:p,dispatch:h}=A($,{status:"DISABLED",metricConfig:null});if(c.current!==s&&(c.current=s,u)){const{isAuthenticated:i}=u,c=a||Z,p=e&&l&&c.includes(l)?{metricId:{type:"surface",surface:e,navigationType:l,isAuthenticated:i,segment:n},annotateExperiments:r,constraints:[M,...t||[],...o?[H]:[]],pwtStaticContext:u}:null;h({type:"INIT_ROUTE",payload:{metricConfig:p,startTime:s?s.time:0,isSampled:!d||Math.random()<d}})}if((0,i.useEffect)((()=>{const e=e=>{h({type:"ABORT",reason:e})};O.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{O.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),E(p,(e=>{F("handling unmount",e),"TIMING"===e.status&&z(e,"unmount")})),"TIMING"!==p.status||!p.constraintMap.NavigationComplete)return{state:p,context:null};const{startTime:m,metricConfig:g}=p;return{state:p,context:{id:m,metricId:g.metricId,abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),setVisuallyCompleteResult:g.constraints.includes(H)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:L.Z?L.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,n,i={},o={},r=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:o,parentId:r}}),startSubspan:(e,t={},n={},i=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}})(o);return(()=>{const e=(0,N.EV)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null!=e&&e.metricId?(0,v.KJ)(e.metricId):null;(0,x.H)("nested_pwt_surface",{action:t})}}),[t])})(),(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(N.Sb,{value:a,children:e}),D.DQ&&"DISABLED"!==r.status&&(0,b.jsx)(P,{data:{metricId:r.metricConfig.metricId,constraints:r.metricConfig.constraints,constraintMap:r.constraintMap,startTime:r.startTime,result:"DONE"===r.status?r.result:null}})]})}},226806:(e,t,n)=>{n.d(t,{gD:()=>o,Sb:()=>r,EV:()=>a});var i=n(762803);const{Consumer:o,Provider:r,useHook:a}=(0,i.js)("pwtSurfaceContext")},68348:(e,t,n)=>{n.d(t,{Z:()=>a});const i=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)};var o=n(974780),r=n(164485);function a(e){return!("desktop"===e&&!i())&&(!!o.Z&&(0,r.v)())}},409352:(e,t,n)=>{n.d(t,{Rp:()=>d,KJ:()=>c});const i={id:14,name:"own_profile"},o={id:15,name:"other_profile"},r={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},pin_closeup:{id:13,name:"pin_closeup_details"},own_profile:i,other_profile:o}},client_route_replace:{unauth:{},auth:{own_profile:i,other_profile:o}}},a={client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"}}}}},s={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},l=e=>{var t,n;const{navigationType:i,isAuthenticated:o,segment:s,surface:l}=e,d=o?"auth":"unauth",c=null===(t=a[i])||void 0===t||null===(n=t[d])||void 0===n?void 0:n[l];return s&&c&&c[s]||r[i][d][l]},d=e=>{if("stopwatch"===e.type)return s[e.name]||null;const t=l(e);return t?t.id:null},c=e=>{if("stopwatch"===e.type)return e.name;const{navigationType:t,isAuthenticated:n,segment:i,surface:o}=e,r=n?"auth":"unauth",a=l(e);return a?a.name:`${t}_${r}_${o}${i?"_"+i:""}`}},182513:(e,t,n)=>{n.d(t,{v:()=>o,X:()=>r});var i=n(840059);const o=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},r=e=>(t,...n)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)}},255038:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(164485),o=n(667294),r=n(226806),a=n(139585);function s({children:e,isAtEndOfFeed:t,pinData:n,itemCount:s,includeBackgroundImages:l=!1,includeVideos:d=!1}){return(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:d}),function(e){const t=(0,r.EV)(),n=(0,o.useRef)(null);(0,o.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,a.ZP)(a.at))}),[!!t,e])}(s),e}},366574:(e,t,n)=>{n.d(t,{Kb:()=>i,wc:()=>r,Wf:()=>a,fF:()=>s,$N:()=>l});const i="pwt-grid-item",o=['div[data-grid-item="true"]',"div.Masonry div.Collection-Item","div.Grid__Item",`div[data-test-id="${i}"]`],r=o.join(","),a=o.map((e=>`${e} img`)).join(","),s=o.map((e=>`${e} div[style*=background-image]`)).join(","),l=o.map((e=>`${e} video`)).join(",")},164485:(e,t,n)=>{n.d(t,{v:()=>f,Z:()=>_});var i=n(667294),o=n(139585),r=n(8089),a=n(409352),s=n(133769),l=n(939606),d=n(226806),c=n(366574);const u=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;const t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},p=(e,t)=>{const n=(e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null)(e);if(!n)return(0,l.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){if(e instanceof HTMLImageElement)return!1;const t=u(e);if(null!=t&&t.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:i})=>{const o=e+i;if(o>=n)return!1;const r=Math.min(t,n-o);return r>.5*t||r>.2*n})(n,t)},h=()=>{const e=(()=>{if(!document.querySelector)return(0,l.H)("missing_document_query_selector"),null;const e=document.querySelectorAll(c.wc);return e[e.length-1]||null})();if(!e)return!1;const t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},m=(e,t)=>{if(!document.querySelector)return(0,l.H)("missing_document_query_selector"),[];const n={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},i=[c.Wf,...e?[c.fF]:[],...t?[c.$N]:[]].join(",");return[...document.querySelectorAll(i)].reduce(((e,i)=>{if((i instanceof HTMLImageElement||i instanceof HTMLDivElement||i instanceof HTMLVideoElement&&t)&&p(i,n)){const t=u(i);if(t){const n=(t||"").replace(/.*\//,"");return e.concat([{element:i,fileName:n}])}}return e}),[])};var g=n(182513);const x=(0,g.X)("GridProfiler"),f=()=>!!(window.addEventListener&&window.removeEventListener&&"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&document.querySelector&&document.querySelectorAll),y=(e,t)=>{if(!t){const t=document.querySelector?document.querySelectorAll(c.wc).length:((0,l.H)("missing_document_query_selector"),0);if(t===e)return x("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!h())return x("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}};function _({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:c=!1}){const u=(0,d.EV)(),p=null==u?void 0:u.id,h=null==u?void 0:u.setVisuallyCompleteResult,[f,_]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)((()=>{_(h?{status:"LAYOUT",failedCount:0,numOfItemsChecked:0}:{status:"DISABLED"})}),[p,h]),(0,i.useEffect)((()=>{if("DISABLED"!==f.status&&(0,o.ZP)(`GridVisuallyCompleteProfiler_${f.status}`),x("new status",f),"LAYOUT"===f.status){const e=((e,t)=>{const n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",(()=>{(0,o.ZP)("scrollDuringLayout")}));return()=>{e()}}return()=>{}}),[f.status]),(0,r.Z)((()=>{if(!u||!h)return;const{abort:i,metricId:o}=u;switch(f.status){case"LAYOUT":{const t=y(f.numOfItemsChecked,e);t.complete?_({status:"TIMING",failedCount:0,pinElements:m(n,c)}):500*f.failedCount>6e4?((0,l.A9)(`images.${(0,a.KJ)(o)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),_({status:"DISABLED"})):_({...f,failedCount:f.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{const e=(0,s.Cg)(),n=f.pinElements.length,r=[];let d=0,c=0,p=0;if(f.pinElements.forEach((({element:t,fileName:n})=>{const i=e.find((e=>e.name.endsWith(n)));i?i.responseEnd?(r.push(i),(0,g.v)(t,"green")):(p+=1,(0,g.v)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(c+=1,(0,g.v)(t,"red")):(d+=1,(0,g.v)(t,"greenyellow"))})),d||p)100*f.failedCount>6e4?((0,l.A9)(`images.${(0,a.KJ)(o)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:d,noTimingCount:c,noTimingResponseEndCount:p}}),i("visuallyComplete_timingTimeout"),_({status:"DISABLED"})):_({...f,failedCount:f.failedCount+1});else{if(x(`All ${r.length} images are fetched`),t&&t.length){const e=((e,t)=>{let n=0,i=0,o=0,r=0,a=0;return e=e.filter((e=>"pin"===e.type)),t.forEach(((t,s)=>{var l,d,c,u,p,h;const m=t.fileName.split(".")[0];let g;g=e[s],m!==(null===(l=g)||void 0===l?void 0:l.image_signature)&&(g=e.find((e=>m===(null==e?void 0:e.image_signature)))),void 0===g?a+=1:g.is_promoted||"PROMOTED_PIN"===(null===(d=g.recommendation_reason)||void 0===d?void 0:d.reason)||null!==(c=g)&&void 0!==c&&null!==(u=c.promoter)&&void 0!==u&&u.length?o+=1:null!==g.story_pin_data_id&&void 0!==g.story_pin_data_id?n+=1:null!==(p=g)&&void 0!==p&&null!==(h=p.videos)&&void 0!==h&&h.video_list?i+=1:r+=1})),{storyPinCount:n,videoCount:i,adCount:o,imageCount:r,unknownCount:a}})(t,f.pinElements);Object.entries(e).forEach((([e,t])=>{u.addBinaryAnnotation(e,t,"I16")})),(0,l.A9)(`${(0,a.KJ)(o)}.pinTypes`,{tags:e})}h({imageTimings:r}),_({status:"DISABLED"}),(0,l.A9)(`images.${(0,a.KJ)(o)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:c}})}break}}}),(e=>("LAYOUT"===e.status?500:"TIMING"===e.status&&100)||null)(f))}},939606:(e,t,n)=>{n.d(t,{DG:()=>l,iF:()=>d,A9:()=>c,H:()=>u,S$:()=>p});var i=n(731164),o=n(840059);const r=(0,n(182513).X)("logPwtStats");let a=null,s=!0;const l=e=>{a=e},d=e=>{a&&(a.historyAction=e)},c=(e,t,n=!0)=>{if(!a)return r("pwt.metrics_quality.no_context"),void i.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e});const{browserName:s,browserVersion:l,deviceType:d,isBot:c,isSocialBot:u}=a,p=`pwt.${(u?"socialBot":c&&"bot")||"nonbot"}.metrics_quality.${d}.${e}`,h={...(null==t?void 0:t.tags)||{},browserName:s,browserVersion:(null==l?void 0:l.split(".")[0])||"0"},m=null==t?void 0:t.count;n&&(r(`${p}: ${"number"==typeof m?m:1}`),null!=t&&t.tags&&r(Object.entries(t.tags))),o.is||i.Z.count(p,"number"==typeof m?m:1,1,h)},u=(e,t)=>c(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),p=({appLoadName:e,clientNavName:t},n)=>{if(a){const i="APP_VOLUME.";s?(c(i.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),s=!1):"PUSH"===a.historyAction&&c(i.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else i.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat(`.${t}`)})}},139585:(e,t,n)=>{n.d(t,{at:()=>o,gQ:()=>s,Ao:()=>l,BA:()=>d,tl:()=>c,ZP:()=>u});var i=n(974780);const o="masonryPagination";let r={};const a=e=>`📌 ${e}`,s=()=>{const e={};return Object.keys(r).forEach((t=>{(r[t]||[]).slice(0,3).forEach(((n,i)=>{e[i?`${t}_${i+1}`:t]=n}))})),e},l=(e,t)=>(r[e]||[]).filter((e=>e<t)).length,d=(e,t)=>l(e,t)>0,c=()=>{i.Z&&Object.keys(r).forEach((e=>((e,t)=>{const n=a(t);e.clearMarks(n),e.clearMeasures(n)})(i.Z,e))),r={}},u=e=>{i.Z&&(r[e]=(r[e]||[]).concat([i.Z.now()]),((e,t)=>{const n=a(t);e.mark(n),e.measure(n)})(i.Z,e))}},447443:(e,t,n)=>{n.d(t,{jy:()=>o,cC:()=>r,sk:()=>a,qr:()=>s});const i=e=>"number"==typeof e?Math.round(e):e,o=e=>({type:"I16",value:i(e)}),r=e=>({type:"I32",value:i(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},576618:(e,t,n)=>{n.d(t,{D3:()=>r,rX:()=>a,jh:()=>s,Hd:()=>l});var i=n(344120),o=n(641239);const r=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),a=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=(0,o.v2)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},s=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),l=(e,t)=>Object.keys(e).reduce(((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n),Object.freeze({}))},26382:(e,t,n)=>{n.d(t,{n:()=>f,r:()=>_});var i=n(894216),o=n(409352),r=n(133769),a=n(641239),s=n(139585),l=n(447443);const d=(e,t)=>(e||[]).reduce(((e,n)=>({...e,[`experiment.${n}`]:(0,l.sk)(t(n))})),{}),c=(e,t)=>"number"==typeof t?e(t):null,u=e=>e.reduce(((e,t)=>e+t),0),p=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),h=e=>{if(!e.length)return{};const t=e.map((({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{const o=t||e;return{startTime:e,requestStart:o,responseStart:n||o,responseEnd:i}})),n=u(t.map((e=>e.requestStart-e.startTime))),i=u(t.map((e=>e.responseStart-e.requestStart))),o=u(t.map((e=>e.responseEnd-e.responseStart))),r=n+i+o,a=u(e.map((e=>e.decodedBodySize||0)));return{decodedBodySize:(0,l.cC)((s=a,Number(Number(s/1024).toFixed(3)))),"duration.all":(0,l.cC)(r),"duration.requestStartToResponseStart":(0,l.cC)(i),"duration.responseStartToResponseEnd":(0,l.cC)(o),"duration.startToRequestStart":(0,l.cC)(n)};var s},m=e=>{const t=e.filter((e=>!!e.responseEnd));return{...e.length?{...h(t),"count.completed":(0,l.cC)(t.length)}:{},"count.all":(0,l.cC)(e.length)}},g=e=>{const t=e.reduce(((e,t)=>(e[t.category]=(e[t.category]||[]).concat([t]),e)),{}),n={script:t.script,script_deferred:e.filter((e=>e.isDeferred)),external:e.filter((e=>e.isExternal)),css:t.css,image:t.image,video:t.video,xmlhttprequest:t.xmlhttprequest,visually_complete:e.filter((e=>e.isVisuallyCompleteRequired))};return Object.keys(n).reduce(((e,t)=>({...e,...p(`resource.${t}.`,m((n[t]||[]).map((e=>e.timing))))})),{})},x=(e,t)=>{const{devicePixelRatio:n,navigator:r,innerWidth:a,innerHeight:s,performance:d}=window,{deviceMemory:c,hardwareConcurrency:u,platform:p,userAgent:h}=r,{memory:m}=d,{appType:g,appVersion:x,browserName:f,browserVersion:y,deviceType:_,isAppShell:v,isAuthenticated:b,isBot:w,isSocialBot:S,locale:j,osName:T,stageName:k}=t,I="desktop"===_?g||5:g||6;let P;const{navigationType:C}=e;let E=null;if("initial_app_load"===C){var A;P=1;const e=null===(A=(0,i.Z)("navigation")[0])||void 0===A?void 0:A.transferSize;E=e?parseFloat((.001*e).toFixed(1)):null}else P=4;return{"app.type":(0,l.jy)(I),"app.version":(0,l.sk)(x),"browser.name":(0,l.sk)(f),"browser.version":(0,l.sk)(y),"cpu.speed":(0,l.jy)(u),"device.memory":(0,l.jy)(c),"device.type":(0,l.jy)(0),"device.typeName":(0,l.sk)(_),"device.version":(0,l.sk)("unknown"),"pwt.cause":(0,l.jy)(P),"pwt.result":(0,l.jy)(1),"view.type":(0,l.cC)(0),"viewport.height":(0,l.cC)(s||0),"viewport.width":(0,l.cC)(a||0),devicePixelRatio:(0,l.cC)(n||0),isAppShell:(0,l.qr)(v),isAuthenticated:(0,l.qr)(b),isBot:(0,l.qr)(w),isSocialBot:(0,l.qr)(S),locale:(0,l.sk)(j),osName:(0,l.sk)(T),...null!==E&&{htmlResponseSize:(0,l.cC)(E)},platform:(0,l.sk)(p||null),profilerVersion:(0,l.sk)("3"),pwtActionName:(0,l.jy)((0,o.Rp)(e)),stageName:(0,l.sk)(k),userAgent:(0,l.sk)(h),usedJSHeapSize:(0,l.cC)((null==m?void 0:m.usedJSHeapSize)||0),totalJSHeapSize:(0,l.cC)((null==m?void 0:m.totalJSHeapSize)||0),jsHeapSizeLimit:(0,l.cC)((null==m?void 0:m.jsHeapSizeLimit)||0)}},f=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:o=[]})=>{let a={};{const{connection:e,hardwareConcurrency:t,deviceMemory:n}=window.navigator;a={"net.effectiveType":(0,l.sk)((null==e?void 0:e.effectiveType)||null),"net.rtt":(0,l.cC)(c((e=>10*Math.round(e/10)),null==e?void 0:e.rtt)),"net.speed":(0,l.cC)((0,r.Hv)(o,!1)),"cpu.threads":(0,l.jy)(t),"memory.size":(0,l.cC)(n)}}return{...d(e,n.getExperimentGroup),...x(t,n),...i,...a,stopwatchVersion:(0,l.jy)(1)}},y=(e,t,n)=>{var i;const{navigator:o}=window,{connection:d,serviceWorker:p}=o,{surface:h,navigationType:m,isAuthenticated:g}=e,{cumulativeLayoutShiftScore:x,longTaskDurations:f}=(0,a.v2)();return{...f.length?{"longTask.count":(0,l.cC)(f.length),"longTask.maxDuration":(0,l.cC)(Math.max(...f)),"longTask.totalDuration":(0,l.cC)(u(f))}:{},cumulativeLayoutShiftScore:(0,l.cC)(100*x),"masonry.paginationMarkCount":(0,l.cC)((0,s.Ao)(s.at,t)),"metricId.isAuthenticated":(0,l.qr)(g),"metricId.navigationType":(0,l.sk)(m),"metricId.surface":(0,l.sk)(h),"net.effectiveType":(0,l.sk)((null==d?void 0:d.effectiveType)||null),"net.rtt":(0,l.cC)(c((e=>10*Math.round(e/10)),null==d?void 0:d.rtt)),"net.speed":(0,l.cC)((0,r.Hv)(n)),resourceBufferClearedCount:(0,l.jy)((0,s.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,l.qr)((0,s.BA)("scrollDuringLayout",t)),serviceWorker:(0,l.qr)(p?!!p.controller:null),serviceWorkerState:(0,l.sk)((null==p||null===(i=p.controller)||void 0===i?void 0:i.state)||null)}},_=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:o,pwtEndTime:r,pwtStaticContext:a})=>({...t,...g(o),...d(e,a.getExperimentGroup),...x(i,a),...y(i,r,n)})},954321:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(974780);const o=()=>{const[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},940094:(e,t,n)=>{n.d(t,{i:()=>i,p:()=>a});const i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov","ts","m3u8"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}},o=e=>{const t=e.replace(new RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},r=e=>["pinimg","pinterest","pinterdev"].every((t=>!e.includes(`${t}.com/`))),a=(e,t)=>{const n=i(e),{name:a}=e;return{category:n,isDeferred:"script"===n&&o(a),isExternal:r(a),isVisuallyCompleteRequired:"image"===n&&t.includes(a),timing:e}}},299962:(e,t,n)=>{n.d(t,{Z:()=>y});let i=null;const o=(e,t)=>(i=i||{results:[],context:t},i.results.push(e),i);var r=n(840059),a=n(182513),s=n(409352),l=n(939606),d=n(954321),c=n(590606);const u=(e,t)=>Object.keys(e).reduce(((n,i)=>{const o=e[i];return o&&(n[i]={timestamp:t+o}),n}),{}),p=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:u(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce(((e,t)=>{const i=n[t];if(!i)return e;const{value:o,type:r}=i;return null==o?e:e.concat({name:t,value:o,annotation_type:r})}),[]))};var n},h=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:o,parentId:r,traceId:a})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:o,parentId:r,id:a}),m=({annotations:e})=>e.reduce(((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}})),{}),g=(e,t)=>({...e,annotations:{...m(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),x=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:o})=>{let r=p({span:h(t,n),timeOrigin:i}),a=null;return o&&(r=g(r,o),a=((e,t,n)=>{const i=(0,d.Z)();return(null==i?void 0:i.responseEnd)?g(p({span:{name:"html",startTime:0,endTime:(null==i?void 0:i.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{},id:e.server_span_id||(0,c.Z)(),parentId:t},timeOrigin:n}),e):null})(o,e,i)),{trace_id:e,spans:[r,...a?[a]:[],...n.spans.map((e=>p({span:e,timeOrigin:i})))]}},f=(0,a.X)("reportResult");function y({metricId:e,pwtStaticContext:t,result:n,isAuth:i}){const{ajax:a,serverData:d}=t,c=(0,s.KJ)(e),u=`${n.type}.${c}`,p=void 0!==i&&{tags:{isAuth:i}}||void 0;if((0,l.A9)(n.reason?u.concat(`.${n.reason}`):u,p),"COMPLETE"!==n.type)return void f(`Abort metric ${c}`,n);const h=null!==(m=window.performance)&&void 0!==m&&m.now?Date.now()-window.performance.now():"unknown";var m,g;if("unknown"===h)return f(`Unable to convert to absolute times for ${c} due to missing time origin`),void(0,l.A9)(`missingTimeOrigin.${c}`,p);if(r.is&&(window.PWT_LAB_DATA=o(n,t)),n.spans.length&&(n.spans=n.spans.map((e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e)))),!r.is){const i=e.navigationType&&"initial_app_load"===e.navigationType,o=n.traceId,s=x({traceId:o,actionName:c,result:n,timeOrigin:h,serverDataToJoin:i&&d||null});a({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(s),report_context:JSON.stringify((g=t,{debugTrace:r.eD,locale:g.locale,stageName:g.stageName,userId:g.isAuthenticated?g.userId:null}))}}),f(`PinTrace ${c} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},344120:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},842310:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(590606),o=n(344120),r=n(447443);const a=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){const{category:n,timing:s,isDeferred:l,isExternal:d,isVisuallyCompleteRequired:c}=e;return s.responseEnd&&("image"!==n||c)?{name:a(e),id:(0,i.Z)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:(0,o.Z)(s),binaryAnnotationMap:{category:(0,r.sk)(n),decodedBodySize:(0,r.cC)(s.decodedBodySize||0),initiatorType:(0,r.sk)(s.initiatorType),isDeferred:(0,r.qr)(l),isExternal:(0,r.qr)(d),name:(0,r.sk)(s.name),nextHopProtocol:(0,r.sk)(s.nextHopProtocol),transferSize:(0,r.cC)(s.transferSize||0)}}:null}},256721:(e,t,n)=>{n.d(t,{ku:()=>T,Jx:()=>w,PY:()=>j});var i=n(954321),o=n(641239);const r=()=>(0,o.PJ)().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:n,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:n,[`${t}_renderTime`]:i}),Object.freeze({}));var a=n(344120),s=n(576618),l=n(133769),d=n(715930);const c=e=>{switch(e){case"pin_closeup":{const e=(0,d.Zy)();return(e=>{const t=(0,l.y0)();return e.reduce(((e,{name:n,match:i})=>t.filter((e=>i(e))).slice(0,2).reduce(((e,t,i)=>({...e,...(0,s.jh)(`${n}${i?"_dupe1":""}_`,(0,a.Z)(t))})),e)),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}default:return{}}};var u=n(403369),p=n(590606),h=n(299962),m=n(842310),g=n(182513),x=n(139585),f=n(940094),y=n(26382),_=n(939606);const v=(0,g.X)("LightStopwatch"),b={},w=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:o,pwtStaticContext:a})=>{const l=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=(0,u.Z)({entryTypes:["resource"]},(t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))}))}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let d=!0,g={};(0,_.A9)(`TIMING.${o}`,{tags:{isAuth:a.isAuthenticated}});const w={type:"stopwatch",name:o,navigationType:"initial_app_load"},S={abort:e=>{d?(d=!1,(0,h.Z)({metricId:w,pwtStaticContext:a,result:{type:"ABORT",reason:e}})):(0,_.H)("duplicate_abort_action",{action:o})},error:e=>{d?(e&&(0,_.H)(e),l&&l.disconnect(),d=!1):(0,_.H)("duplicate_error_action",{action:o})},stop:u=>{if(!d)return void(0,_.H)("duplicate_stop_action",{action:o});d=!1,l.disconnect();const v=(0,p.Z)(),b=(0,i.Z)(),S=l.get(),j={type:"COMPLETE",traceId:(0,p.Z)(),startTime:0,endTime:u,spans:[{name:"network_resources",id:v,startTime:0,endTime:u,annotationMap:{},binaryAnnotationMap:{},parentId:null},...S.map((e=>(0,m.Z)((0,f.p)(e,[]),v))).filter(Boolean)],annotationMap:{...(0,s.jh)("resource_",n?c(n):{}),...(0,s.jh)("element_",r()),...(0,s.jh)("mark_",t&&t.length?(0,s.Hd)((0,x.gQ)(),t):{}),...(0,s.jh)("browser_",b?(0,s.D3)(b):{})},binaryAnnotationMap:(0,y.n)({annotateExperiments:e,metricId:w,pwtStaticContext:a,performanceResourceTimings:S,binaryAnnotations:g})};(0,h.Z)({metricId:w,pwtStaticContext:a,result:j,isAuth:a.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{v(`adding binary annotation {${e}: ${String(t)}}`),g={...g,[e]:{value:t,type:n}}}};return b[o]=S,S},S=e=>b[e],j=e=>!!S(e),T=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:i})=>{const o=S(e);o&&o.addBinaryAnnotation(t,n,i)}},641239:(e,t,n)=>{n.d(t,{on:()=>a,PJ:()=>l,Ux:()=>d,v2:()=>c,Kj:()=>p,UQ:()=>h});var i=n(161133),o=n(403369);const r={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},a=()=>{r.longTaskDurations=[]},s=(0,i.Z)((()=>r.elementTimings)),l=()=>s.get(),d=e=>{e&&s.save(),r.elementTimings=[]},c=()=>r;let u=0;const p=()=>u,h=()=>{(0,o.Z)({type:"element",buffered:!0},(e=>{r.elementTimings=r.elementTimings.concat(e.getEntries().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[])),[]))})),(0,o.Z)({entryTypes:["longtask"]},(e=>{e.getEntries().map((e=>r.longTaskDurations.push(e.duration)))}),(()=>a())),(0,o.Z)({type:"first-input",buffered:!0},((e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(r.firstInputDelay={startTime:n.startTime,endTime:n.processingStart}),t.disconnect()}),(()=>{r.firstInputDelay=null})),(0,o.Z)({type:"largest-contentful-paint",buffered:!0},(e=>{const t=e.getEntries(),n=t.length,i=t[n-1];i&&(u=n,r.largestContentfulPaint=i.renderTime||i.loadTime||null)})),(0,o.Z)({type:"layout-shift",buffered:!0},(e=>{e.getEntries().forEach((e=>{e.hadRecentInput||(r.cumulativeLayoutShiftScore+=e.value)}))}))}},161133:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},403369:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{const i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",(()=>{i.disconnect()})),n&&window.addEventListener("popstate",(()=>{n()})),i}catch(i){return null}}},715930:(e,t,n)=>{n.d(t,{fN:()=>i,Zy:()=>o});const i="closeupImage",o=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},590606:(e,t,n)=>{function i(){let e="";for(let t=0;t<15;t+=1){e+="0123456789"[Math.floor(10*Math.random())]}return Number(e)}n.d(t,{Z:()=>i})},133769:(e,t,n)=>{n.d(t,{X_:()=>p,Cg:()=>g,y0:()=>x,Eg:()=>f,LH:()=>y,Hv:()=>_,MM:()=>v});var i=n(161133),o=n(403369),r=n(139585),a=n(894216),s=n(840059),l=n(940094),d=n(939606);let c;function u(){window.performance&&window.performance.clearResourceTimings&&((0,r.ZP)("resourceBufferCleared"),s.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,d.A9)("resourceBufferSize",{count:(0,a.Z)("resource").length}),window.performance.clearResourceTimings())}const p=({size:e})=>{if(window.performance){window.PerformanceObserver?(c=(0,a.Z)("resource"),(0,o.Z)({entryTypes:["resource"]},(t=>{c=(c||[]).concat(t.getEntries()),c.length>e&&(c=c.slice(-e))}))):(window.addEventListener("popstate",(()=>{(0,a.Z)("resource").length>e&&u()})),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{c||u()}}catch(t){}}},h=()=>c||(0,a.Z)("resource"),m=(0,i.Z)(h),g=h,x=()=>m.get(),f=e=>{e&&m.save(),c&&((0,d.A9)("customBufferSize",{count:c.length}),c=[]),u()},y=()=>({customBufferSize:c?c.length:0,defaultBufferSize:(0,a.Z)("resource").length}),_=(e,t=!0)=>{let n=0,i=0;const o=(r=e.filter((e=>t?!("image"!==(0,l.i)(e)||(e.responseEnd||(n+=1),e.transferSize||(i+=1),!e.responseEnd||!e.transferSize)):!!e.responseEnd&&!!e.transferSize)).map((e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3))).length?r.reduce(((e,t)=>e+t),0)/r.length:null;var r;return t&&(n>0&&(0,d.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),i>0&&(0,d.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),o},v=e=>{if(!e)return"unknown";const t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},894216:(e,t,n)=>{function i(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>i})},974780:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(o=window.performance)&&o.clearMarks&&o.clearMeasures&&o.clearResourceTimings&&o.getEntries&&o.getEntriesByName&&o.getEntriesByType&&o.mark&&o.measure&&o.now&&o.setResourceTimingBufferSize?o:null;var o},904192:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(498913),r=n.n(o),a=n(883119),s=n(785893);const l=({fill:e,width:t,color:n})=>{const o="half"===e?(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a.xu,{position:"absolute",children:(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:t,width:n,color:o}){const a=[],d=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return r()(c,(e=>a.push((0,s.jsx)(l,{color:o,fill:"full",width:n},e)))),u>=.75?a.push((0,s.jsx)(l,{color:o,fill:"full",width:n},a.length)):u>=.25&&a.push((0,s.jsx)(l,{color:o,fill:"half",width:n},a.length)),r()(5-a.length,(()=>a.push((0,s.jsx)(l,{color:o,fill:"empty",width:n},a.length)))),(0,s.jsx)(i.Fragment,{children:a})}},136662:(e,t,n)=>{function i({m:e=0,h:t=0}){let n;return n=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:n}}function o(e){const t=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:t})}n.d(t,{X:()=>i,u:()=>o})},827898:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(40142),r=n(139848),a=n(855168);const s={};function l({dangerouslyDisableFetch:e,name:t,options:n}){const l=(0,o.useDispatch)(),d=(0,r.e)(n),c=(0,i.useRef)(),u=(0,i.useRef)(!!e),p=(0,a.k6)(),h=p&&"POP"!==p.action,m=e=>(e[t]||s)[d]||s,g=(0,o.useSelector)((({resources:e})=>m(e).nextBookmark)),x=(0,o.useSelector)((({resources:e})=>m(e).data)),f=(0,o.useSelector)((({resources:e})=>m(e).auxData)),y=(0,o.useSelector)((({resources:e})=>m(e).error)),_=(0,o.useSelector)((({resources:e})=>Boolean(m(e).fetching))),v=Boolean(x||y);return{auxData:f,data:x,dispatch:l,error:y,isAtEnd:v&&!_&&"-end-"===g,isFetching:_,isLoaded:v,isNotFirstOrRevisit:h,lastDangerouslyDisableFetch:u,lastOptionsKey:c,nextBookmark:g,optionsKey:d}}},709409:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);const o=e=>{const t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,i.jsx)("div",{...t,children:e.children||null})}},220728:(e,t,n)=>{n.d(t,{Go:()=>i});const i="https://schema.org/Recipe"},853051:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({accessibilityLabel:e}){return(0,o.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(i.$j,{accessibilityLabel:e,show:!0})})}},51610:(e,t,n)=>{n.d(t,{U:()=>a,Z:()=>s});var i=n(588527),o=n(785893);const r=()=>{},a=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:l}){const d=e=>function(e,t){t&&e.keyCode===i.Z.ESCAPE||a(e)}(e,t);return(0,o.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:r,onCanPlay:n?r:a,onCanPlayThrough:a,onChange:a,onClick:e?r:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:r,onInput:a,onInvalid:a,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:e?r:a,onMouseOut:a,onMouseOver:a,onMouseUp:e?r:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?r:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:e?r:a,onTouchMove:e?r:a,onTouchStart:e?r:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:l})}},204478:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"…":e},280313:(e,t,n)=>{n.d(t,{z_:()=>i,a7:()=>o,Yq:()=>r,T7:()=>a,Yj:()=>d,pe:()=>c,xt:()=>u,E5:()=>p});n(883119);const i="/today/",o=3,r=(e,t,n=0)=>({num_days:t,referrer:n,...e?{}:{redux_normalize_feed:!0}});function a(e,t,n){const i=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${i}/${encodeURIComponent(o)}/${n}/`}const s={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},l={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},d=(e,t)=>{const n=l[e];return!(null===n||n!==t&&!t.startsWith(n))},c=e=>s[e],u=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)||""),p=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},503358:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);function o(){const[e,t]=(0,i.useState)(!1);return{isHovering:e,handleMouseEnter:(0,i.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,i.useCallback)((()=>t(!1)),[t])}}},8089:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);const o=(e,t)=>{const n=(0,i.useRef)((()=>{}));(0,i.useEffect)((()=>{n.current=e}),[e]),(0,i.useEffect)((()=>{if(null===t)return()=>{};const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])}},997993:(e,t,n)=>{n.d(t,{aH:()=>r,CU:()=>a,GT:()=>s,VG:()=>l,ZA:()=>d,Bh:()=>c,qA:()=>u,VC:()=>p,Jx:()=>h,Zt:()=>m,Gy:()=>g,sG:()=>x,G$:()=>f,nw:()=>y,oR:()=>_,xk:()=>v,J_:()=>b,qp:()=>w,vd:()=>S,FU:()=>j,a3:()=>T});var i=n(542756);const o=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach(((e,i)=>{const o=t[e];o&&(n[i]=o)})),n.join("")};function r(e){return function(t,n){const i=[];t&&/\S/.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}const a=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function s(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(a)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function l(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function d(e){return function(t,n){const i=o(t.trim()),r=[];if(i)if(i.length<2&&r.push(e.ageTooShortString),/^\d+$/.test(i)){const t=parseInt(i,10);t<=0||t>=300?r.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<12&&r.push(e.checkUnderAgeWithString)}else r.push(e.invalidAgeString);const a={errors:r,warnings:[]};return n&&n(a),a}}function c(e){return function(t,n){const i=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),o=[],r=!1!==e.checkLength&&i.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!r||o.push(e.message);const a={errors:o,warnings:[]};return n&&n(a),a}}function u(e){return function(t,n){const i=/^\d+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=o(t))&&!t.match(i)&&r.push(e.message));const a={errors:r,warnings:[]};return n&&n(a),a}}function p(e){return function(t,n){const i=/^[\d\ -]+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=o(t))&&!t.match(i)&&r.push(e.message));const a={errors:r,warnings:[]};return n&&n(a),a}}function h(e){return function(t,n){const i=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function m(e){return function(t,n){const o=[];if(t)try{const n=(0,i.Z)(t);n&&n.protocol&&("http"!==n.protocol||"localhost"===n.hostname)||o.push(e.message)}catch(a){o.push(e.message)}const r={errors:o,warnings:[]};return n&&n(r),r}}function g(e){return function(t,n){const i=[];(e.should_trim||!1)&&(t=t&&t.trim());const o=t.length;e.min&&o<e.min?i.push(e.minErrorString):e.max&&o>e.max&&i.push(e.maxErrorString);const r={errors:i,warnings:[]};return n&&n(r),r}}function x(e){return function(t,n){const i=[];t!==(e&&e.targetValue)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function f(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<=e.value&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function y(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<e.value&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function _(e){return function(t,n){const i=[];/^[\040-\176]*$/.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function v(e){return function(t,n){const i=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,o=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),o.push(e.message));const r={errors:o,warnings:[]};return n&&n(r),r}}function b(e){return function(t,n){t=t&&t.trim();const i=[],o=new Date(t);t&&!o.getTime()&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function w(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function S(e){return function(t,n){const i=[];e.pattern.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function j(e,t){const n=e.map((e=>e(t).errors));return[].concat(...n)}function T(e,t){let n="";return t.some((t=>{const i=t(e);return i.errors.length>0&&(n=i.errors[0],!0)})),n}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/88453-948b5d72d2981c91.mjs.map