(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1466],{294184:(e,t)=>{var r;!function(){var o={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r)&&r.length){var a=n.apply(null,r);a&&e.push(a)}else if("object"===s)for(var i in r)o.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},477412:e=>{e.exports=function(e,t){for(var r=-1,o=null==e?0:e.length;++r<o&&!1!==t(e[r],r,e););return e}},744037:(e,t,r)=>{var o=r(698363),n=r(3674);e.exports=function(e,t){return e&&o(t,n(t),e)}},163886:(e,t,r)=>{var o=r(698363),n=r(481704);e.exports=function(e,t){return e&&o(t,n(t),e)}},285990:(e,t,r)=>{var o=r(646384),n=r(477412),s=r(234865),a=r(744037),i=r(163886),c=r(364626),u=r(200278),d=r(318805),l=r(201911),p=r(458234),_=r(946904),y=r(664160),m=r(43824),f=r(529148),h=r(738517),g=r(701469),v=r(644144),b=r(356688),R=r(513218),w=r(472928),E=r(3674),S=r(481704),I="[object Arguments]",A="[object Function]",T="[object Object]",O={};O[I]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[T]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[A]=O["[object WeakMap]"]=!1,e.exports=function e(t,r,P,L,C,x){var U,N=1&r,D=2&r,$=4&r;if(P&&(U=C?P(t,L,C,x):P(t)),void 0!==U)return U;if(!R(t))return t;var k=g(t);if(k){if(U=m(t),!N)return u(t,U)}else{var F=y(t),j=F==A||"[object GeneratorFunction]"==F;if(v(t))return c(t,N);if(F==T||F==I||j&&!C){if(U=D||j?{}:h(t),!N)return D?l(t,i(U,t)):d(t,a(U,t))}else{if(!O[F])return C?t:{};U=f(t,F,N)}}x||(x=new o);var B=x.get(t);if(B)return B;x.set(t,U),w(t)?t.forEach((function(o){U.add(e(o,r,P,o,t,x))})):b(t)&&t.forEach((function(o,n){U.set(n,e(o,r,P,n,t,x))}));var M=k?void 0:($?D?_:p:D?S:E)(t);return n(M||t,(function(o,n){M&&(o=t[n=o]),s(U,n,e(o,r,P,n,t,x))})),U}},225588:(e,t,r)=>{var o=r(664160),n=r(637005);e.exports=function(e){return n(e)&&"[object Map]"==o(e)}},829221:(e,t,r)=>{var o=r(664160),n=r(637005);e.exports=function(e){return n(e)&&"[object Set]"==o(e)}},257157:(e,t,r)=>{var o=r(274318);e.exports=function(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},540419:(e,t,r)=>{var o=r(562705),n=o?o.prototype:void 0,s=n?n.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},318805:(e,t,r)=>{var o=r(698363),n=r(799551);e.exports=function(e,t){return o(e,n(e),t)}},201911:(e,t,r)=>{var o=r(698363),n=r(151442);e.exports=function(e,t){return o(e,n(e),t)}},946904:(e,t,r)=>{var o=r(868866),n=r(151442),s=r(481704);e.exports=function(e){return o(e,s,n)}},151442:(e,t,r)=>{var o=r(862488),n=r(385924),s=r(799551),a=r(770479),i=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)o(t,s(e)),e=n(e);return t}:a;e.exports=i},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,o=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(o.index=e.index,o.input=e.input),o}},529148:(e,t,r)=>{var o=r(274318),n=r(257157),s=r(593147),a=r(540419),i=r(477133);e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return o(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return n(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return i(e,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return s(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},150361:(e,t,r)=>{var o=r(285990);e.exports=function(e){return o(e,5)}},356688:(e,t,r)=>{var o=r(225588),n=r(307518),s=r(531167),a=s&&s.isMap,i=a?n(a):o;e.exports=i},472928:(e,t,r)=>{var o=r(829221),n=r(307518),s=r(531167),a=s&&s.isSet,i=a?n(a):o;e.exports=i},782677:(e,t,r)=>{function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function c(e,t,r){return Object.keys(e).reduce((function(t,o){var n=""+o;return t.has(n)?t.set(n,r(t.get(n),e[n])):t}),t)}r.d(t,{cY:()=>I,Fv:()=>w,fK:()=>R});var u=function(){function e(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var o=r,n=o.idAttribute,a=void 0===n?"id":n,c=o.mergeStrategy,u=void 0===c?function(e,t){return s({},e,t)}:c,d=o.processStrategy,l=void 0===d?function(e){return s({},e)}:d,p=o.fallbackStrategy,_=void 0===p?function(e,t){}:p;this._key=e,this._getId="function"==typeof a?a:function(e){return function(t){return i(t)?t.get(e):t[e]}}(a),this._idAttribute=a,this._mergeStrategy=u,this._processStrategy=l,this._fallbackStrategy=_,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,r){var o,n=e[r];return s({},t,((o={})[r]=n,o))}),this.schema||{})},t.getId=function(e,t,r){return this._getId(e,t,r)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,r,o,n,s){var a=this,i=this.getId(e,t,r),c=this.key;if(c in s||(s[c]={}),i in s[c]||(s[c][i]=[]),s[c][i].some((function(t){return t===e})))return i;s[c][i].push(e);var u=this._processStrategy(e,t,r);return Object.keys(this.schema).forEach((function(t){if(u.hasOwnProperty(t)&&"object"==typeof u[t]){var r=a.schema[t],i="function"==typeof r?r(e):r;u[t]=o(u[t],u,t,i,n,s)}})),n(this,u,e,t,r),i},t.denormalize=function(e,t){var r=this;return i(e)?c(this.schema,e,t):(Object.keys(this.schema).forEach((function(o){if(e.hasOwnProperty(o)){var n=r.schema[o];e[o]=t(e[o],n)}})),e)},n(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),d=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,r){return!this.isSingleSchema&&this._schemaAttribute(e,t,r)},t.inferSchema=function(e,t,r){if(this.isSingleSchema)return this.schema;var o=this.getSchemaAttribute(e,t,r);return this.schema[o]},t.normalizeValue=function(e,t,r,o,n,s){var a=this.inferSchema(e,t,r);if(!a)return e;var i=o(e,t,r,a,n,s);return this.isSingleSchema||null==i?i:{id:i,schema:this.getSchemaAttribute(e,t,r)}},t.denormalizeValue=function(e,t){var r=i(e)?e.get("schema"):e.schema;return this.isSingleSchema||r?t((this.isSingleSchema?void 0:i(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[r]):e},n(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),l=function(e){function t(t,r){if(!r)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,r)||this}a(t,e);var r=t.prototype;return r.normalize=function(e,t,r,o,n,s){return this.normalizeValue(e,t,r,o,n,s)},r.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(d),p=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var r=t.prototype;return r.normalize=function(e,t,r,o,n,a){var i=this;return Object.keys(e).reduce((function(t,r,c){var u,d=e[r];return null!=d?s({},t,((u={})[r]=i.normalizeValue(d,e,r,o,n,a),u)):t}),{})},r.denormalize=function(e,t){var r=this;return Object.keys(e).reduce((function(o,n){var a,i=e[n];return s({},o,((a={})[n]=r.denormalizeValue(i,t),a))}),{})},t}(d),_=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},y=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},m=function(e,t,r,o,n,s,a){return e=_(e),y(t).map((function(t,i){return n(t,r,o,e,s,a)}))},f=function(e,t,r){return e=_(e),t&&t.map?t.map((function(t){return r(t,e)})):t},h=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var r=t.prototype;return r.normalize=function(e,t,r,o,n,s){var a=this;return y(e).map((function(e,i){return a.normalizeValue(e,t,r,o,n,s)})).filter((function(e){return null!=e}))},r.denormalize=function(e,t){var r=this;return e&&e.map?e.map((function(e){return r.denormalizeValue(e,t)})):e},t}(d),g=function(e,t,r,o,n,a,i){var c=s({},t);return Object.keys(e).forEach((function(r){var o=e[r],s="function"==typeof o?o(t):o,u=n(t[r],t,r,s,a,i);null==u?delete c[r]:c[r]=u})),c},v=function(e,t,r){if(i(t))return c(e,t,r);var o=s({},t);return Object.keys(e).forEach((function(t){null!=o[t]&&(o[t]=r(o[t],e[t]))})),o},b=function e(t,r,o,n,s,a){return"object"==typeof t&&t?"object"!=typeof n||n.normalize&&"function"==typeof n.normalize?n.normalize(t,r,o,e,s,a):(Array.isArray(n)?m:g)(n,t,r,o,e,s,a):t},R={Array:h,Entity:u,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,r){var o,n=e[r];return s({},t,((o={})[r]=n,o))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v.apply(void 0,[this.schema].concat(t))},e}(),Union:l,Values:p},w=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var r={},o=function(e){return function(t,r,o,n,s){var a=t.key,i=t.getId(o,n,s);a in e||(e[a]={});var c=e[a][i];e[a][i]=c?t.merge(c,r):r}}(r);return{entities:r,result:b(e,e,null,t,o,{})}},E=function(e){var t={},r=S(e);return function e(o,n){return"object"!=typeof n||n.denormalize&&"function"==typeof n.denormalize?null==o?o:n instanceof u?function(e,t,r,o,n){var a=o(e,t);if(void 0===a&&t instanceof u&&(a=t.fallback(e,t)),"object"!=typeof a||null===a)return a;if(n[t.key]||(n[t.key]={}),!n[t.key][e]){var c=i(a)?a:s({},a);n[t.key][e]=c,n[t.key][e]=t.denormalize(c,r)}return n[t.key][e]}(o,n,e,r,t):n.denormalize(o,e):(Array.isArray(n)?f:v)(n,o,e)}},S=function(e){var t=i(e);return function(r,o){var n=o.key;return"object"==typeof r?r:t?e.getIn([n,r.toString()]):e[n]&&e[n][r]}},I=function(e,t,r){if(void 0!==e)return E(r)(e,t)}},753894:(e,t,r)=>{function o(e){return function(t){var r=t.dispatch,o=t.getState;return function(t){return function(n){return"function"==typeof n?n(r,o,e):t(n)}}}}r.d(t,{Z:()=>s});var n=o();n.withExtraArgument=o;const s=n},395714:(e,t,r)=>{r.d(t,{$:()=>n,X:()=>s});var o=r(671036);const n=e=>decodeURIComponent(e),s=e=>encodeURIComponent((0,o.t)(e))},756544:(e,t,r)=>{r.d(t,{Y:()=>o,U:()=>n});const o=e=>e.split(":")[1],n=e=>`${e.board}:${e.invited_user}`},12516:(e,t,r)=>{r.d(t,{RH:()=>w,go:()=>S,Fv:()=>I,Ng:()=>A,$J:()=>T,Dm:()=>O,_P:()=>P,H$:()=>U,Wj:()=>N,In:()=>D,AP:()=>$});var o=r(731164),n=r(311866),s=r(4225),a=r(513389),i=r(936734),c=r(641483),u=r(382745),d=r(903945),l=r(24309);const p="home",_="closeup",y="news_hub",m="board",f="profile",h="topic",g="today",v="business",b="search";let R;const w="_push",E=e=>{e.onupdatefound=()=>{(0,c.ZP)("mweb_service_worker.update_found")}},S=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),I=()=>new Promise(((e,t)=>{const r=navigator.serviceWorker,{isAuthenticated:o,pwaType:n,twaType:a}=R.getState().session,u=new URLSearchParams({source_url:window.location.pathname});n&&a&&(0,i.Rx)(a)&&(u.append("pwa_type",n),u.append("twa_type",a)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&u.append("referrer",document.referrer);const d=o?"mweb_expirable_appshell_auth":"mweb_expirable_appshell_unauth",l=R.dispatch((0,s.Q)(d))||"";l&&u.append("expirableAppShell",l),r&&r.register?((0,c.ZP)("mweb_service_worker.install_attempt"),r.register(`/sw.js?${u.toString()}`).then((t=>{(0,c.ZP)("mweb_service_worker.install_success"),E(t),e(t)})).catch((e=>{(0,c.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()})),A=()=>new Promise(((e,t)=>{const r=navigator.serviceWorker;r&&r.getRegistration?((0,c.ZP)("mweb_service_worker.update_attempt"),r.getRegistration().then((r=>{r?r.update().then((()=>{(0,c.ZP)("mweb_service_worker.update_success"),E(r),e(r)})).catch((e=>{(0,c.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):I().then(e)}))):e()})),T=()=>{const e=R.getState().session.isAuthenticated;(0,c.ZP)(`mweb.${e?"auth":"unauth"}.register_service_worker`),I()},O=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,c.ZP)("mweb_service_worker.unregister_attempt"),(0,a.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,c.ZP)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const t=e.find((e=>e.startsWith("workbox-precaching")));return t?window.caches.delete(t):null})).then((()=>(0,c.ZP)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,c.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},P=()=>!(!S()||!("SyncManager"in window)),L=e=>(0,u.C$)(e)?p:(0,u.L6)(e)?_:(0,u.l4)(e)?y:(0,u.am)(e)?m:(0,u.cD)(e)?f:(0,u.En)(e)?b:(0,u.$V)(e)?h:(0,u.Zz)(e)?g:(0,u.Ni)(e)?v:"undefined",C=e=>{switch(L(e)){case p:return{viewType:1,viewParameter:92};case _:return{viewType:3,viewParameter:void 0};case y:return{viewType:107,viewParameter:3081};case m:return{viewType:5,viewParameter:void 0};case b:return{viewType:2,viewParameter:43};case h:return{viewType:210,viewParameter:void 0};case f:return{viewType:4,viewParameter:void 0};case v:return{viewType:409,viewParameter:3397};case g:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},x=(e,t)=>(0,c.tj)(e,{browser:R.getState().session.browser,version:Math.floor(parseInt(R.getState().session.browserVersion,10)),...t}),U="undefined"!=typeof window&&"Notification"in window&&navigator.serviceWorker&&"PushManager"in window&&("default"===window.Notification.permission||"granted"===window.Notification.permission),N=(e,t,r)=>{const o=navigator.serviceWorker,s=Boolean((0,d.qn)(w)),a={experimentName:t||"noExperiment",experimentGroup:r||"noGroup"};return o&&o.ready&&U&&!s?((0,l.j)({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:t,experiment_group:r}}),x(`mweb.notifications_upsell.${L(e)}.viewed`,a),o.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((t=>((e,t,r)=>{n.ZP.create("WebPushDeviceResource",{}).callGet().then((t=>{const r=(({subscriptionId:e,endpoint:t})=>{return e||(r=t.split("/"))[r.length-1];var r})(e);if(t.resource_response.data[r])return;const o={registration_id:r,subscription_endpoint:e.endpoint};n.ZP.create("WebPushDeviceResource",o).callCreate()})),(0,d.Nh)(w,"subscribed"),x(`mweb.notifications_upsell.${L(t)}.subscribed`,r);const o=C(t);(0,l.So)({component:13125,element:10357,view_type:o.viewType,view_parameter:o.viewParameter,aux_data:{experiment_name:r.experimentName,experiment_group:r.experimentGroup}})})(t,e,a)),(()=>((e,t)=>{(0,d.Nh)(w,"denied"),x(`mweb.notifications_upsell.${L(e)}.denied`,t);const r=C(e);(0,l.So)({component:13125,element:10358,view_type:r.viewType,view_parameter:r.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,a)))):Promise.reject()},D=e=>{R=e},$=({isAuthenticated:e,isAppShell:t})=>{let r=!1;const n=o=>{if(r)return;r=!0;const n=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,c.ZP)(`mweb_service_worker.appshell_status.${n}.${o}`)},s=navigator.serviceWorker,a=null==s?void 0:s.controller;if(!s||!a)return void n("no_worker");setTimeout((()=>n("timeout")),1e3);const i=new MessageChannel;i.port1.onmessage=({data:r})=>{if(r&&"expirableAppShellStatusResponse"===r.type){const s=r.payload,{experimentGroup:a,isExpired:i}=s,c=`${i?"expired":"valid"}.${a||"no_group"}`;if(n(c),1===s.formatVersion){n(`v${s.formatVersion}.${c}`);const{ageInSecond:r}=s,{value:u,unit:d}=(e=>{const t=Math.floor(e/60),r=Math.floor(t/60),o=Math.floor(r/24);return o?{value:o,unit:"d"}:r?{value:r,unit:"h"}:t?{value:t,unit:"m"}:{value:e,unit:"s"}})(r),l=1;o.Z.increment("mweb_service_worker.appshell_status_volume",l,{ageValue:u,ageUnit:d,experimentGroup:a||"none",isAppShell:t,isAuthenticated:e,isExpired:i})}}},a.postMessage({type:"expirableAppShellStatusRequest"},[i.port2])}},52586:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(936734),n=r(311866),s=r(328035),a=r(172045);function i(){if(window.location.pathname.startsWith("/email/subscription")||window.location.pathname.startsWith("/email/remove"))return;const e=(0,s.b)(),{browserType:t,isAuthenticated:r,isPWA:i,unauthId:c}=e.getState().session;if(!r)return;const u=e.getState().currentPage,d=u&&u.viewType,l=u&&u.viewParameter,p=e.getState().session,_=(0,o.ZP)(window),y={data:{event_type:7137,time:1e6*Date.now(),clientUUID:(0,a.Z)(),browser:t,view_type:d,view_parameter:l,unauth_id:c,isPWA:i,auxData:{pwa_type:_&&"unknown"!==_?_:void 0,stage:p.stage},appVersion:p.appVersion}},m=n.ZP.create("ActiveUserResource",y);let f=3e4;m.callCreate().catch((e=>{setTimeout((()=>{f>36e5||(f*=2,m.callCreate())}),f)}))}},24309:(e,t,r)=>{r.d(t,{NJ:()=>h,vP:()=>v,j:()=>b,Ew:()=>R,ob:()=>w,So:()=>E,jC:()=>A,XK:()=>T});var o=r(311866),n=r(52586),s=r(182389),a=r(658966),i=r(328035),c=r(172045);const u=[6945],d=e=>u.includes(e),l=()=>1e6*Date.now();let p,_=[],y=[],m=0;const f=()=>{const e=(0,i.b)().getState().session.browserType;return _.reduce(((t,r)=>{const o=t.find((n=r,e=>e.view_type===n.viewType&&e.view_parameter===n.viewParameter&&e.event_type===n.eventType&&e.object_id_str===n.objectIdStr&&(0,s.Z)(e.view_data,n.viewData)));var n;if(o&&!d(r.eventType))r.impressionType in o.event_data?o.event_data[r.impressionType].push(r.eventData):o.event_data[r.impressionType]=[r.eventData];else{const o={event_type:r.eventType,view_parameter:r.viewParameter,view_type:r.viewType,view_data:r.viewData,time:l(),component:r.component,clientUUID:(0,c.Z)(),aux_data:r.auxData||{},event_data:{[r.impressionType]:d(r.eventType)?r.eventData:[r.eventData]},browser:e,object_id_str:r.objectIdStr||void 0};t.push(o)}return t}),[])},h=(e,t,r)=>{const n=l(),s=(0,i.b)(),a=s.getState(),c=[...y,...f()].map((e=>(a.session&&a.session.isAuthenticated?e.userIdStr=a.session.userId:e.userIdStr="",e)));if(c.length>0){const t=s.getState().session;o.ZP.create("ContextLogResource",{events:c,report_time:n,stage:t.stage,appVersion:t.appVersion}).callCreate({async:!e})}y=[],_=[],m=0},g=e=>{const t=(e=>{if(!e.isImpression)return(0,a.Z)(JSON.stringify(e.data));const{impression:t}=e;return(0,a.Z)(JSON.stringify(_.length?t.eventData:t))})(e);m+t>20480&&h(void 0,void 0,{type:"addEvent"}),m+=t,e.isImpression?_.push(e.impression):y.push(e.data)},v=e=>g({isImpression:!0,impression:e}),b=e=>{const t=(0,i.b)().getState(),r=l(),o={aux_data:{},event_data:{},view_data:{},...e,time:r,clientUUID:(0,c.Z)(),browser:t.session.browserType};if(g({isImpression:!1,data:o}),12===e.event_type){const o={aux_data:{},event_data:{},view_data:{},...e,time:r,clientUUID:(0,c.Z)(),browser:t.session.browserType,event_type:7946};g({isImpression:!1,data:o})}const s=new Date;return p?p&&p.getUTCDate()!==s.getUTCDate()&&(p=s,(0,n.Z)()):p=s,o},R={flushContextEvents:()=>h(!0),logContextEvent:e=>{b(e)}},w=e=>b({...e,event_type:101}),E=e=>b({...e,event_type:102});let S=null;const I=(e,t)=>{let r=null;return o=>{if(o&&!r)return r=b({...o,event_type:e}),S&&S.storeClickthroughProperties(r),e;if(!o&&r){const e={...r,event_type:t,duration_ns:l()-r.time};return b(e),r=null,t}return null}},A=I(12,4100),T=(I(6946,6970),e=>{S=e})},671036:(e,t,r)=>{function o(e){if(!e)return e;let t=e.replace(/%26/gi,"&");return t=t.replace(/%3F/gi,"?"),t=t.replace(/%23/gi,"#"),t=t.replace(/%2B/gi,"+"),t=t.replace(/%3B/gi,";"),t=t.replace(/%2C/gi,","),t=t.replace(/%2F/gi,"/"),t=t.replace(/%3A/gi,":"),t=t.replace(/%40/gi,"@"),t=t.replace(/%3D/gi,"="),t=t.replace(/%24/gi,"$"),t}function n(e){return Object.keys(e).reduce(((t,r)=>({...t,[r]:o(e[r])})),{})}r.d(t,{t:()=>o,Z:()=>n})},936734:(e,t,r)=>{r.d(t,{Rx:()=>i,FP:()=>c,ZP:()=>u,CR:()=>d,Kj:()=>l});var o=r(85038),n=r(221469);const s="android-app://com.pinterest.twa";function a(e){return e.startsWith(s)}function i(e){return["twa","cct","browser","webview"].includes(e)}function c(e){return!!e&&(a(o.U2("_pinterest_referrer")||"")||a(e.document&&e.document.referrer||"")||function(e){if(e&&e.location&&e.location.search)return i((0,n.mB)(e.location.search).twa_type);return!1}(e))}function u(e){if(!e)return null;if(c(e))return"android-twa";if(e.matchMedia&&e.matchMedia("(display-mode: standalone)").matches&&e.navigator&&e.navigator.userAgent){const t=e.navigator.userAgent;if(t.includes("Chrome"))return"chrome";if(t.includes("Safari"))return"safari"}return"unknown"}function d(e){const t=u(e);return!(!t||"unknown"===t)}function l(e,t){if("unknown"!==t)switch(t){case"twa":return 3354;case"cct":return 3355;case"browser":return 3356;default:return null}else switch(e){case"chrome":return 3351;case"safari":return 3352;default:return null}}},561613:(e,t,r)=>{r.d(t,{bC:()=>o,MU:()=>n,ib:()=>s,L6:()=>a,Bc:()=>i,AF:()=>c,KK:()=>u,cR:()=>d,T$:()=>l,On:()=>p,E0:()=>_,F5:()=>y,K0:()=>m,$o:()=>f,l_:()=>h,fz:()=>g,YZ:()=>v,b6:()=>b,KW:()=>R,u2:()=>w,Fl:()=>E,BM:()=>S,mR:()=>I,_4:()=>A,$S:()=>T,iY:()=>O,V$:()=>P,XV:()=>L,Wn:()=>C,nk:()=>x,Fi:()=>U,wc:()=>N,Tl:()=>D,AZ:()=>$,CD:()=>k,VP:()=>F,s1:()=>j,Aj:()=>B,OC:()=>M,Yn:()=>H,Df:()=>z,Pu:()=>W,kH:()=>Z,Bu:()=>V,ee:()=>K,a9:()=>G,DC:()=>q,hl:()=>X,xV:()=>Y,Ae:()=>J,xl:()=>Q,dF:()=>ee,QA:()=>te,jn:()=>re,ZX:()=>oe,c7:()=>ne,$t:()=>se,ds:()=>ae,iy:()=>ie,LB:()=>ce,Xi:()=>ue,kh:()=>de,cs:()=>le,tg:()=>pe,UA:()=>_e,V9:()=>ye,k7:()=>me,pl:()=>fe,pM:()=>he,m9:()=>ge,uK:()=>ve,cZ:()=>be,U1:()=>Re,eI:()=>we,MA:()=>Ee,Ly:()=>Se,aj:()=>Ie,HQ:()=>Ae,vH:()=>Te,le:()=>Oe,pV:()=>Pe,JG:()=>Le,Th:()=>Ce,Pz:()=>xe,OO:()=>Ue,q:()=>Ne,GG:()=>De,f6:()=>$e,Qj:()=>ke,zB:()=>Fe,EN:()=>je,o3:()=>Be,AO:()=>Me,eP:()=>He,By:()=>ze,nr:()=>We,Cy:()=>Ze,IY:()=>Ve,Ef:()=>Ke,rl:()=>Ge,Ac:()=>qe,$I:()=>Xe,XA:()=>Ye,$f:()=>Je,H6:()=>Qe,Z0:()=>et,gM:()=>tt,vW:()=>rt,dO:()=>ot,mU:()=>nt,CB:()=>st,pd:()=>at,NE:()=>it,ST:()=>ct,iZ:()=>ut,KA:()=>dt,j_:()=>lt,w$:()=>pt,lj:()=>_t,UD:()=>yt,il:()=>mt,a6:()=>ft,Hh:()=>ht,hC:()=>gt});const o="ACTIVATE_EXPERIMENT",n="APPEND_FEED_ITEMS",s="TRACK_AUTOLOGIN_FAILURE",a="DISMISS_UNAUTH_APP_UPSELL",i="BOARD_FOLLOW",c="CREATE_COMPLETE",u="FETCHING",d="FETCH_ERROR",l="USER_BLOCK",p="USER_FOLLOW",_="USER_SETTING_CHANGE",y="SETTINGS_CHANGE",m="TOPIC_FOLLOW",f="PIN_ADD",h="PIN_DELETE",g="PIN_EDIT",v="PIN_UNDO_SAVE",b="PIN_IMPRESSIONS",R="PIN_FEEDBACK",w="PINS_MOVE",E="PINS_MOVE_ALL",S="SET_SESSION_DATA",I="FETCH_EXPERIENCES",A="REFRESH_ALL_EXPERIENCES",T="REFRESH_ALL_EXPERIENCES_MULTI",O="UPDATE_EXPERIENCE",P="UPDATE_EXPERIENCE_MULTI",L="BOARD_DISMISS_SENSITIVITY_SCREEN",C="BOARD_EDIT",x="BOARD_SECTION_EDIT",U="BOARD_COLLABORATOR_DELETE",N="BOARD_COLLABORATOR_ADD",D="BOARD_INVITE_ACCEPTED_BY_VIEWER",$="BOARD_INVITE_APPROVED_BY_VIEWER",k="BOARD_INVITE_DENIED_BY_VIEWER",F="BOARD_ARCHIVE",j="BOARD_UNARCHIVE",B="BOARD_REQUEST_TO_JOIN",M="BOARD_DELETE",H="BOARD_SECTION_DELETE",z="AUTHENTICATE_USER",W="REGISTER_USER",Z="SHOW_APP_UPSELL",V="SHOW_UNAUTH_TOAST_UPSELL",K="HIDE_UNAUTH_TOAST_UPSELL",G="SET_LOGIN_SIGNUP_FROM",q="UPDATE_CURRENT_SEARCH",X="UPDATE_RECENT_SEARCHES",Y="CLEAR_RECENT_SEARCH",J="CLEAR_RECENT_PERSONAL_SEARCH",Q="CLEAR_RECENT_SEARCHES",ee="CLEAR_RECENT_PERSONAL_SEARCHES",te="SET_CURRENT_PAGE_DATA",re="CLEAR_CURRENT_PAGE_DATA",oe="COMPLETE_STORY",ne="HIDE_GOOGLE_ONE_TAP",se="SET_NUM_SIGNUP_STEPS",ae="HIDE_LIMITED_LOGIN_MODAL",ie="SHOW_LIMITED_LOGIN_MODAL",ce="SET_OWN_PROFILE_PINS_REFRESH",ue="GOOGLE_ONE_TAP_DISABLED",de="GOOGLE_ONE_TAP_INITIALIZED",le="SHOW_REPIN_ANIMATION",pe="HIDE_REPIN_ANIMATION",_e="SHOW_UNAUTH_SHARING_MODALS",ye="HIDE_UNAUTH_SHARING_MODALS",me="HIDE_TAKEOVER_AFTER_REPIN_PLACEMENT",fe="SET_EXPERIMENT_HASH",he="SEND_CONVERSATION_MESSAGE",ge="SHOW_TOASTS",ve="HIDE_TOASTS",be="ONE_TAP_SAVE",Re="ONE_TAP_UNSAVE",we="CLEAR_MESSAGES_BADGE",Ee="CLEAR_MESSAGE_BADGE",Se="RELOAD_VISUAL_SEARCH_ANNOTATIONS",Ie="SHOW_NUX_HOMEFEED_LOADER",Ae="SHOW_BIZ_NUX_HOMEFEED_LOADER",Te="SET_VIEWED_IMAGE",Oe="SET_VIEWED_SHARED_PINS",Pe="SHOW_NAV_FOOTER",Le="HIDE_NAV_FOOTER",Ce="SET_MESSENGER_CAMPAIGN_DATA",xe="LOGGED_OUT_USER_INFO_FOUND",Ue="LOGGED_OUT_USER_INFO_NOT_FOUND",Ne="PIN_BUILDER_LOADED_IMAGES",De="UPDATE_PIN_BUILDER_INPUT",$e="USER_BULK_FOLLOW",ke="SET_ACTIVE_HOMEFEED_TAB",Fe="SET_MARKETING_PARAMS",je="CLEAR_FEED_ITEMS",Be="SET_SOCIAL_SEASONAL_BOARD",Me="SET_SHARE_ON_BOARD_PAGE",He="SHOW_BUSINESS_APP_UPSELL",ze="PIN_SHOW_UNDO_AND_FEEDBACK",We="SHOW_RESET_PASSWORD_SENT_MODAL",Ze="HIDE_RESET_PASSWORD_SENT_MODAL",Ve="SET_FLASHLIGHT_CROP_SOURCE",Ke="SET_APP_FOCUS_STATE",Ge="SET_CURRENT_VIDEO",qe="SET_AUTOPLAY_ELIGIBILITY",Xe="PAUSE_CURRENT_VIDEO",Ye="ALLOW_ALL_COOKIES",Je="REJECT_ALL_COOKIES",Qe="SET_PERSONALIZATION_COOKIES",et="SET_ANALYTIC_COOKIES",tt="SET_MARKETING_COOKIES",rt="SCROLL_TO_CLOSEUP_PIN",ot="STOP_SCROLL_TO_CLOSEUP_PIN",nt="UPDATE_CONTACT_REQUEST_STATUS",st="REMOVE_CONTACT_REQUESTS",at="SHOW_TOAST_CONTACT_REQUEST_UNDO",it="SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST",ct="REMOVE_CONVERSATION",ut="DISMISS_UNAUTH_SAVE",dt="DISMISS_UNAUTH_FOLLOW",lt="SET_UNAUTH_SAVE_PIN_ID",pt="SET_UNAUTH_FOLLOW_USER_ID",_t="COMPLETE_UNAUTH_SAVE_ACTION",yt="UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",mt="SET_LANDING_PAGE_TYPE",ft="UPDATE_SUBSCRIPTION",ht="AUTOPLAY_WITH_VOLUME",gt="REPLACE_STATE"},4225:(e,t,r)=>{r.d(t,{Q:()=>i});var o=r(177979),n=r(311866),s=r(561613);let a;const i=e=>(t,r)=>{const{experiments:i,session:c}=r(),{active:u={},triggerable:d={}}=i;if(!u[e]&&d[e]){t((e=>({type:s.bC,payload:{name:e}}))(e));const r={experiment_name:e};c.batchExperimentActivations?(a||(a=new o.Z("ActivateExperimentResource",(e=>({experiments:e})))),a.enqueue(r)):n.ZP.create("ActivateExperimentResource",r).callCreate()}return u[e]||d[e]||""}},593247:(e,t,r)=>{r.d(t,{Z:()=>a});const o=e=>null!==e&&("object"==typeof e||"function"==typeof e);function n(...e){const t=(e,r)=>Object.keys(r).reduce(((e,n)=>{const s=e[n],a=r[n];return Object.prototype.hasOwnProperty.call(e,n)&&o(s)&&o(a)?e[n]=t(s,a):e[n]=void 0===s?a:a||s,e}),e);return e.reduce(((e,r)=>r?t(e,r):e),{})}const s=(e,t)=>Object.keys(t).reduce(((e,r)=>((e,t,r)=>({...e,[r]:n(e[r],t)}))(e,t[r],r)),e);const a=function(e,t){return(r,o)=>{const n=t(r,o);if(o.payload&&!Array.isArray(o.payload)){const{normalizedResponse:t}=o.payload;if(t&&((a=t).entities&&a.entities[e]))return s(n,t.entities[e])}var a;return n}}},502709:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(889325);const n={AggregatedCommentResource:o.rm,AggregatedCommentFeedResource:o.LR,AggregatedActivityFeedResource:o.LR,BestPinsFeedAltResource:o.LR,BoardArchiveResource:o.LR,BoardCollaboratorsResource:o.LR,BoardContentRecommendationResource:o.LR,BoardFeedResource:o.LR,BoardFollowingResource:o.LR,BoardInviteResource:o.sf,BoardInvitesResource:o.Ht,BoardlessPinsResource:o.LR,BoardPickerBoardsResource:{all_boards:o.LR,boards_shortlist:o.LR},BoardSectionEditResource:o._F,BoardSectionsRepinResource:o.LR,BoardSectionsResource:o.LR,BoardsFeedResource:o.LR,BoardResource:o.IY,BoardSectionResource:o._F,BoardSectionPinsResource:o.LR,BoardToolsFeedResource:o.LR,ContactRequestsResource:o.LR,ConversationsResource:o.LR,ConversationMessagesResource:o.dq,DidItLikedByResource:o.Gn,DidItUserFeedResource:o.LR,ExploreArticleBlockBoardResource:o.LR,ExploreArticleBlockPinResource:o.LR,ExploreArticleBlockSearchResource:o.LR,ExploreArticleBlockUserResource:o.LR,ExploreArticleBlockUserDidItDataResource:o.LR,ExploreArticleResource:o.yg,FollowingFeedResource:o.LR,HolidaySpotlightRelatedFeedResource:o.LR,HolidaySpotlightResource:o.LR,InterestFollowingResource:o.LR,InterestResource:o.cC,MoreIdeasTabsBoardsResource:o.LR,NewsHubResource:o.LR,NewsHubDetailsResource:o.LR,NewsHubSummaryResource:o.t6,NuxInterestsResource:o.LR,NuxTopicToCreatorsResource:o.Gn,PartnerPermissionsResource:o.Ay,PinResource:o.Cj,PinCatalogResource:o.LR,PinsFromBrandResource:o.LR,ReactionsResource:o.fE,RelatedArticlesResource:o.LR,RelatedInterestsResource:o.LR,RelatedModulesResource:o.LR,RelatedPinFeedResource:o.LR,RelatedProductFeedResource:o.LR,RepinResource:o.Cj,BaseSearchResource:{results:o.LR},SearchResource:o.LR,SectionToolsFeedResource:o.LR,ShareSuggestionsTypeaheadResource:{items:o.LR},ShoppingFeedModularizedResource:o.LR,StoryFeedResource:o.LR,StoryPinTaggedProductsResource:o.LR,StyleContentResource:{results:o.LR},StylePivotResource:o.LR,SuggestedCreatorFollowsResource:o.Gn,TodayArticleFeedResource:o.LR,IdeasHubTodayArticlesResource:o.LR,TodayArticleResource:o.iF,TodayTabInterestFeedResource:o.LR,TodayTabResource:o.LR,TopicFeedResource:o.LR,UnifiedCommentsResource:o.LR,UserActivityPinsResource:o.LR,UserFollowersResource:o.LR,UserFollowingResource:o.LR,UserRecentActivityResource:o.LR,UserSimilarBusinessesResource:o.LR,UserHomefeedResource:o.LR,UserPinsResource:o.LR,UserSettingsResource:o.EA,UserStoryPinsFeedResource:o.LR,UserResource:o.EA,VideosFeedResource:o.LR,VisualLiveSearchResource:{results:o.LR},VisualLiveSearchProductFeedResource:o.LR,VisualSearchFlashlightUnifiedResource:o.LR}},889325:(e,t,r)=>{r.d(t,{EA:()=>s,rm:()=>i,IY:()=>u,Cj:()=>d,fE:()=>p,_F:()=>_,Fx:()=>y,dq:()=>f,yg:()=>g,iF:()=>b,cC:()=>R,sf:()=>E,bZ:()=>I,t6:()=>A,Ht:()=>T,Gn:()=>O,sN:()=>P,LR:()=>L,Ay:()=>C});var o=r(782677);const n=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",creatorRecommendationItem:"creatorRecommendationItems",inbox:"inbox",liveSession:"liveSession",notification:"notifications",partnerPermissions:"partnerPermissions",pin:"pins",reaction:"reactions",reportReasons:"reportReasons",rootInterest:"rootInterests",story:"stories",storyPin:"storyPins",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite",offer:"offers"}),s=new o.fK.Entity(n.user),a=(new o.fK.Entity(n.offer),new o.fK.Entity(n.storyPin)),i=(new o.fK.Entity(n.liveSession),new o.fK.Entity(n.aggregatedComment,{user:s,tagged_users:[s]})),c=new o.fK.Entity(n.article,{curator:s}),u=new o.fK.Entity(n.board,{collaborating_users:[s],owner:s}),d=new o.fK.Entity(n.pin,{board:u,comments:{data:[{commenter:s}]},native_creator:s,pinner:s,promoter:s,story_pin_data:a,via_pinner:s}),l=new o.fK.Entity(n.reaction,{user:s}),p=new o.fK.Array(l),_=(new o.fK.Entity(n.reportReasons),new o.fK.Entity(n.boardsection,{board:u,preview_pins:[d]})),y=new o.fK.Entity(n.conversation,{sender:s,users:[s]}),m=new o.fK.Entity(n.conversationMessage,{sender:s,users:[s],board:u,pin:d,user:s}),f=new o.fK.Array(m),h=new o.fK.Entity(n.contactrequest),g=(new o.fK.Entity(n.rootInterest),new o.fK.Entity(n.story,{cover_pin:d,user:s})),v=new o.fK.Entity(n.triedit,{pin:d,user:s}),b=new o.fK.Entity(n.todayArticle,{article_creator_user:s,content_pin:d,content_pin_official_user:s,video_pin:d}),R=new o.fK.Entity(n.topic,{},{processStrategy:(e,t,r)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),w=new o.fK.Entity(n.creatorRecommendationItem,{user:s,interest:R}),E=new o.fK.Entity(n.invite,{invited_by_user:s,invited_user:s,board:u},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),S=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"creatorrecommendationitem":return"creatorRecommendationItem";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"rootinterest":return"rootInterest";case"todayarticle":return"todayArticle";default:return e.type}},I=new o.fK.Union({user:s,board:u,invite:E,pin:d,topic:R,triedit:v},S),A=new o.fK.Entity(n.notification,{content_items:[{content_object:I}],header_icon_objects:[I]}),T=new o.fK.Array(E),O=new o.fK.Array(s),P=new o.fK.Array(u),L=new o.fK.Array({aggregatedComment:i,article:c,board:u,boardsection:_,contactrequest:h,conversation:y,conversationMessage:m,creatorRecommendationItem:w,notification:A,pin:d,story:g,todayArticle:b,topic:R,triedit:v,user:s},S,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));g.define({objects:L});const C=new o.fK.Entity(n.partnerPermissions)},513389:(e,t,r)=>{r.d(t,{Qi:()=>u,RK:()=>c,$_:()=>i});var o=r(3604);var n=r(903945);const s="REDUX_STATE",a=()=>!!navigator.serviceWorker,i=()=>a()&&JSON.parse((0,n.qn)(s))||{},c=e=>(0,o.Z)((t=>{const r={};r[e]=t,a()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)}})((()=>(e=>{a()&&(0,n.Nh)(s,JSON.stringify({...i(),...e}))})(r)))}),1e3),u=()=>{(0,n.L_)(s)}},861381:(e,t,r)=>{r.d(t,{TT:()=>u,ZP:()=>m});var o=r(502709),n=r(447715),s=r(561613),a=r(889325);const i=new Set(["PinResource","RepinResource"]),c={ApiResource:e=>(e=>"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"")(e),AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockBoardResource:e=>`explore-board:${e.article_id}:${e.block_id}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,r=e.resource_response.data,{story_type:o}=r?r.objects[0]:{story_type:""};return`explore-${o.slice(t)}:${r.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedInterestsResource:e=>"unauth_react_mweb"===e.field_set_key?`related-klps:${e.interest_id}`:`related-topics:${e.interest_name}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,StyleContentResource:e=>`style-content:${e.id}:${e.request_type||""}`,StylePivotResource:e=>`style-pivot:${e.category}:${e.room||""}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowersResource:e=>`user-followers:${e.username}`,UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:()=>"user-recent-activity",UserSimilarBusinessesResource:e=>`user-similar-business:${e.username}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},u=(e,t)=>e in c?c[e](t):null,d=(e,t)=>e.map((({id:e,schema:r})=>{var o;return r?{id:e,type:r,trackingParams:"pin"===r?t.pins[e].tracking_params:void 0,user_id:"creatorRecommendationItem"===r?null===(o=t.creatorRecommendationItems[e])||void 0===o?void 0:o.user_id:void 0}:null})).filter(Boolean),l=(e,t,r)=>Object.keys(e).reduce(((o,n)=>{const s=e[n]||[],a=s.filter((e=>!(e.type===t&&e.id===r)));return s.length!==a.length&&(o[n]=a),o}),{...e}),p=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,_=(e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:e[r].filter((e=>!("pin"===e.type&&e.id===t)))}:e,y=(e,{pinId:t,oldFeedId:r,newFeedId:o})=>r===o?e:((e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:[{type:"pin",id:t},...e[r]]}:e)(_(e,{pinId:t,feedId:r}),{pinId:t,feedId:o}),m=(e={})=>(t=e,r)=>{if(r.type===n.z||r.type===n.a){const{payload:{resource:e,options:s,normalizedResponse:i,schema:u}}=r;if(i&&e in c){const l=((e,t,r)=>{const n=r||o.Z[e];if(n===a.LR)return t.result;if(n===a.sN)return t.result.map((e=>({id:e,schema:"board"})));if(n===a.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(n===a.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(n===a.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof n){const e=Object.entries(n).find((([e,t])=>t===a.LR));if(e)return t.result[e[0]]}return null})(e,i,u);if(l&&Array.isArray(l)){const o=c[e](s);if("ShoppingFeedModularizedResource"===e){const{board_id:e,saved_products_only:r}=s,o=`board-shop-related:${e}`,n=`board-shop-saved:${e}`,a=`board-shop-saved-preview:${e}`,c=[...t[o]||[]],u=[...t[n]||[]],p=[...t[a]||[]];return d(l,i.entities).forEach((t=>{var o;r?u.push(t):i.entities.pins&&(null===(o=i.entities.pins[t.id])||void 0===o?void 0:o.board)===e?p.push(t):c.push(t)})),{...t,[o]:c,[n]:u,[a]:p}}if("BoardToolsFeedResource"===e||"SectionToolsFeedResource"===e)return{...t,[o]:l};{const e=(r.type===n.a&&t[o]||[]).concat(d(l,i.entities));return{...t,[o]:e}}}}return t}if(r.type===s.MU){const{payload:{id:e,items:o,options:n}}=r,s=t[e];if(s){let r;return r=n.isPrepend?s[0]&&"story"===s[0].type?[].concat(s[0],o,s.slice(1)):o.concat(s):s.concat(o),{...t,[e]:r}}return{...t,[e]:o}}if(r.type===s.l_){const{payload:{pinId:e}}=r;return l(t,"pin",e)}if(r.type===s.VP){const{payload:{boardId:e,username:o}}=r,n=`profile-boards:${o}`;if(t[n])return{...t,[n]:t[n].filter((t=>t.id!==e))}}else if(r.type===s.s1){const{payload:{boardId:e}}=r,o="archived-boards";if(t[o])return{...t,[o]:t[o].filter((t=>t.id!==e))}}else{if(r.type===s.OC){const{payload:{boardId:e}}=r;return l(t,"board",e)}if(r.type===s.Yn){const{payload:{boardSectionId:e}}=r;return l(t,"boardsection",e)}if(r.type===s.u2){const{payload:{source:e,target:o,pinIds:n,userId:s}}=r,a=e.boardlessPins&&s&&`boardless-pins:${s}`||e.boardId&&p(e.boardId,e.sectionId),i=p(o.boardId,o.sectionId);return n.reduce(((e,t)=>y(e,{pinId:t,oldFeedId:a,newFeedId:i})),t)}if(r.type===s.Fl){const{payload:{source:e,target:o,excludePinIds:n}}=r,s=p(e.boardId,e.sectionId),a=p(o.boardId,o.sectionId),i={...t,[s]:n.map((e=>({type:"pin",id:e})))};return delete i[a],i}if(r.type===s.fz){const{payload:{pinId:e,boardId:o,section:n,source:{boardId:s,sectionId:a}}}=r,i=p(s,a),c=p(o,null==n?void 0:n.id);return y(t,{pinId:e,oldFeedId:i,newFeedId:c})}if(r.type===s.l_){const{payload:{pinId:e,boardId:o,boardSectionId:n}}=r;return _(t,{pinId:e,feedId:p(o,n)})}if(r.type===s.AF){if(i.has(r.payload.resource)){const e=r.payload.response.resource_response.data,o=e.board,n="quick_saves"===o.layout?`boardless-pins:${r.payload.options.user_id}`:`boardfeed:${o.id}`;if(t[n]){const r={...t},o={id:e.id,type:"pin"};return r[n]=[o].concat(t[n]),r}}if("BoardSectionResource"===r.payload.resource&&r.payload.normalizedResponse){const e=r.payload.normalizedResponse.result,o=`board-sections:${r.payload.normalizedResponse.entities.boardsections[e].board}`;if(t[o]){const r={...t},n={id:e,type:"boardsection"};return r[o]=[n].concat(t[o]),r}}if("AggregatedCommentResource"===r.payload.resource&&r.payload.normalizedResponse){const e=r.payload.normalizedResponse.result,o=`aggregated-comments:${r.payload.options.objectId}`;if(t[o]){const r={...t},n={id:e,type:"aggregatedcomment"};return r[o]=[n].concat(t[o]),r}}if("ReactionsResource"===r.payload.resource&&r.payload.normalizedResponse){const{reaction_pin_id:e}=r.payload.options;if("reaction"===r.payload.options.action_type){const o=`reactions:${r.payload.options.pin_id}`,n={...t},s={id:`${e}:${r.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return n[o]=[s].concat(t[o]),n}if("unreaction"===r.payload.options.action_type){const o=`${e}:${r.payload.options.user_id}`;return l(t,"reaction",o)}}}else{if(r.type===s.ZX){const{payload:{storyId:e}}=r;return l(t,"story",e)}if(r.type===s.EN){const{feedKey:e}=r.payload;if(t[e])return{...t,[e]:void 0}}}}return t}},718609:(e,t,r)=>{r.d(t,{_:()=>s,Z:()=>y});var o=r(447715),n=r(561613);const s=20,a={currentSearch:{query:"",scope:"pins"},queries:{},productFilters:{},recentSearches:[],recentPersonalSearches:[],recommendedSearches:[],typeaheadCache:{},pins:{},visualSearches:{}},i=(e,t,r,o)=>({...e,queries:{...e.queries,[t]:r}}),c=(e,t)=>{const r=e.recentPersonalSearches.filter((e=>!t.find((t=>(t.query||"").toLowerCase()===(e.query||"").toLowerCase()))));return{recentPersonalSearches:t.concat(r).slice(0,s)}},u=(e,t)=>({...e,...c(e,t)}),d=(e,t)=>{const r=e.recentSearches.filter((e=>!t.find((t=>(t.query||"").toLowerCase()===(e.query||"").toLowerCase()))));return{recentSearches:t.concat(r).slice(0,s)}},l=(e,t)=>({...e,...d(e,t)}),p=(e,t,r)=>({...e,currentSearch:{query:r||"",scope:t||"pins"}}),_=(e,t,r)=>t?t.startsWith("my_")?u(e,[{query:r,type:"recent_personal_searches",id:r,is_verified_merchant:!1,label:r,url:""}]):l(e,[{query:r,type:"recent_query",id:r,is_verified_merchant:!1,label:r,url:""}]):e,y=(e=a)=>(t=e,r)=>{switch(r.type){case o.z:{const{resource:e,response:o}=r.payload;if("AdvancedTypeaheadResource"===e){const{options:{term:e,recent_queries_tags:n}}=r.payload;return((e,t,r,o)=>{if(!t.length){if(r.split(",").length>1){const t=[],r=[];return o.forEach((e=>{"recent_personal_searches"===e.type?t.push(e):r.push(e)})),{...e,...c(e,t),...d(e,r)}}return"recent_personal_searches"===r?u(e,o):l(e,o)}return{...e,typeaheadCache:{...e.typeaheadCache,[t]:o}}})(t,e,n,o.resource_response.data.items)}if("SearchTabResource"===e)return((e,t)=>({...e,recommendedSearches:[...e.recommendedSearches,...t]}))(t,o.resource_response.data);if("BaseSearchResource"===e){const{options:{query:e,auto_correction_disabled:n,scope:s,article:a,filters:c,appliedProductFilters:u}}=r.payload,d=`${s}:${e}:${c||""}:${u}:${a||""}${n?":auto-correction-disabled":""}`,l=o.resource_response.data.productFilters,y={guides:o.resource_response.data.guides,typo:o.resource_response.data.typo,nags:o.resource_response.data.nag,sensitivity:o.resource_response.data.sensitivity,filters:o.resource_response.data.filters,tabs:o.resource_response.data.tabs};return((e,t,r,o)=>{const n=`${o}-${r}`,s=e.productFilters[n];return s?t?{...e,productFilters:{...e.productFilters,[n]:Object.entries(s).reduce(((e,r)=>{const o=r[0],n=r[1],s=t[o];return Array.isArray(n)&&Array.isArray(s)?e[o]=((e,t)=>e.concat(t.filter((t=>!e.some((e=>e.label===t.label))))))(n,s):Array.isArray(n)||Array.isArray(s)||(e[o]={...n,max_value:Math.max(n.max_value,s.max_value),min_value:Math.min(n.min_value,s.min_value),suggested_max_value:Math.max(n.suggested_max_value,s.suggested_max_value)}),e}),{})}}:e:{...e,productFilters:{...e.productFilters,[n]:t}}})(_(p(i(t,d,y),s,e),s,e),l,s,e)}if("SearchResource"===e){const{options:{query:e,scope:o}}=r.payload;return _(t,o,e)}if("SearchGuidesResource"===e){const{options:{query:e,scope:n}}=r.payload;return p(i(t,e,{guides:o.resource_response.data.guides}),n,e)}if("VisualLiveSearchResource"===e){const{data:e}=o.resource_response;return{...t,visualSearches:{...t.visualSearches,[r.payload.options.pin_id]:e.annotations}}}return t}case n.xV:{const{query:e}=r.payload;return((e,t)=>({...e,recentSearches:e.recentSearches.filter((e=>e.query!==t))}))(t,e)}case n.xl:return(e=>({...e,recentSearches:[]}))(t);case n.Ae:{const{query:e}=r.payload;return((e,t)=>({...e,recentPersonalSearches:e.recentPersonalSearches.filter((e=>e.query!==t))}))(t,e)}case n.dF:return(e=>({...e,recentPersonalSearches:[]}))(t);case n.Ly:return((e,t)=>({...e,visualSearches:{...e.visualSearches,[t]:[]}}))(t,r.payload.pinId);case n.DC:{const{query:e,scope:o}=r.payload;return p(t,o,e)}case n.hl:{const{query:e,scope:o}=r.payload;return _(t,o,e)}default:return t}}},375230:(e,t,r)=>{r.d(t,{X:()=>a,Z:()=>c});var o=r(593247),n=r(561613),s=r(447715);const a=e=>({type:n.ZX,payload:{storyId:e}}),i=e=>e.trim().toLowerCase(),c=(e={})=>(0,o.Z)("stories",((t=e,r)=>{switch(r.type){case n.AF:case s.a:if("BoardSectionResource"===r.payload.resource&&r.payload.normalizedResponse){const{name:e,board_id:o}=r.payload.options;return(({state:e,boardId:t,name:r})=>{const o=i(r);return Object.keys(e).reduce(((r,n)=>{const s=e[n];return{...r,[n]:"section_title_recommendations"===s.story_type&&s.objects.find((e=>"board"===e.schema&&e.id===t))?{...s,objects:s.objects.filter((e=>!("board_section_name_recommendation"===e.type&&i(e.name)===o)))}:s}}),{})})({state:t,boardId:o,name:e})}return t;case s.z:if("BoardsFeedResource"===r.payload.resource){const e=r.payload.response.resource_response.data.filter((e=>"story"===e.type)).reduce(((e,t)=>({...e,[t.id]:t})),{});return{...t,...e}}return t;default:return t}}))},328035:(e,t,r)=>{r.d(t,{M:()=>Oe,b:()=>Pe});var o=r(513389),n=r(561613);const s=(0,o.RK)("experiences"),a=(0,o.RK)("session"),i=(0,o.RK)("users");var c=r(753894),u=r(708206);const d=[c.Z,e=>t=>r=>{const o=t(r);switch(r.type){case n.mR:case n._4:case n.iY:s(e.getState().experiences);break;case n.Df:case n.Pu:const t=e.getState();s(t.experiences),a(t.session),i({[t.session.userId]:t.users[t.session.userId]})}return o}],l=(0,u.applyMiddleware)(...d);var p=r(593247);const _=(e={})=>(0,p.Z)("aggregatedComments",((t=e,r)=>{switch(r.type){case"AGGREGATED_COMMENT_HIDDEN":{const{payload:{aggregatedCommentId:e}}=r,o={...t};return delete o[e],o}default:return t}}));var y=r(150361),m=r.n(y);const f={appInFocus:!0,isAutoplayEligible:!1,videosAutoplaying:{}},h=(e=f)=>(t=e,r)=>{if(r.type===n.rl){const{payload:e}=r,{pinId:o,currentTime:n}=e,s=m()(t.videosAutoplaying),a=s[o]&&s[o].currentTime;return s[o]={pinId:o,currentTime:"number"==typeof n?n:a||0,paused:!1},{...t,videosAutoplaying:s}}if(r.type===n.$I){const{payload:e}=r,{pinId:o,currentTime:n}=e,s=m()(t.videosAutoplaying);return s[o]={pinId:o,currentTime:n,paused:!0},{...t,videosAutoplaying:s}}return r.type===n.Ac?{...t,isAutoplayEligible:r.payload.isAutoplayEligible}:r.type===n.Ef?{...t,appInFocus:r.payload.appInFocus}:t},g=(e={})=>(0,p.Z)("articles",((t=e,r)=>t));var v=r(395714),b=r(447715);const R=(e,t)=>({...e,[t.id]:e[t.id]?{...e[t.id],...t}:{...t}}),w=(e,t,r,o)=>{var n;return t===r?e:{...e,...t&&e[t]?{[t]:{...e[t],pin_count:Math.max(0,(null!==(n=e[t].pin_count)&&void 0!==n?n:0)-o)}}:{},...r&&e[r]?{[r]:{...e[r],pin_count:(e[r].pin_count||0)+o}}:{}}},E=(e={})=>(0,p.Z)("boards",((t=e,r)=>{var o,s;switch(r.type){case n.Bc:return((e,{payload:{id:t,value:r}})=>R(e,{id:t,followed_by_me:r}))(t,r);case n.On:return((e,{payload:{id:t,value:r}})=>{const o=Object.keys(e).filter((r=>e[r].owner&&e[r].owner===t));if(!o.length)return e;const n=o.reduce(((t,o)=>{const n=e[o];return t[o]={...n,followed_by_me:r},t}),{});return{...e,...n}})(t,r);case n.T$:return((e,{payload:{id:t,value:r}})=>{if(!r)return e;const o=Object.keys(e).filter((r=>e[r].owner&&e[r].owner===t));if(!o.length)return e;const n=o.reduce(((t,r)=>{const o=e[r];return t[r]={...o,followed_by_me:!1},t}),{});return{...e,...n}})(t,r);case n.$o:return((e,t)=>{var r;const{boardId:o}=t.payload;return e[o]?R(e,{id:o,pin_count:(null!==(r=e[o].pin_count)&&void 0!==r?r:0)+1}):e})(t,r);case n.l_:return((e,t)=>{var r;const{boardId:o}=t.payload;return e[o]?R(e,{id:o,pin_count:(null!==(r=e[o].pin_count)&&void 0!==r?r:0)-1}):e})(t,r);case n.fz:return((e,t)=>{const{boardId:r,source:{boardId:o}}=t.payload;return w(e,o,r,1)})(t,r);case n.u2:return((e,t)=>{const{pinIds:r,source:{boardId:o},target:{boardId:n}}=t.payload;return o===n?e:w(e,o,n,r.length)})(t,r);case n.Fl:return t;case n.Yn:return((e,t)=>{var r;const{boardId:o,pinCount:n}=t.payload,s=e[o].section_count||0;return R(e,{id:o,section_count:Math.max(s-1,0),pin_count:(null!==(r=e[o].pin_count)&&void 0!==r?r:0)-n})})(t,r);case n.XV:return((e,{payload:{boardId:t}})=>{const r={...e[t],sensitivity_screen:{reason:null,show_warning:!1}};return R(e,r)})(t,r);case n.Wn:return((e,{payload:t})=>{const r={...t,sensitivity:t.sensitivity||null};return R(e,r)})(t,r);case n.Tl:return((e,{payload:{userId:t,boardId:r}})=>{const o=e[r];return R(e,{id:r,collaborator_count:"number"==typeof o.collaborator_count?o.collaborator_count+1:0,collaborated_by_me:!0,access:["write"],collaborating_users:(o.collaborating_users||[]).concat(t)})})(t,r);case n.AZ:return((e,{payload:{userId:t,boardId:r}})=>{const o=e[r];return R(e,{id:r,collaborating_users:(o.collaborating_users||[]).concat(t)})})(t,r);case n.Fi:return((e,{payload:{userId:t,boardId:r,viewingUser:o}})=>{var n;const s=e[r],a=s.collaborating_users?s.collaborating_users.indexOf(t):-1;return R(e,{id:r,...s.collaborator_count?{collaborator_count:s.collaborator_count-1}:Object.freeze({}),...s.collaborated_by_me?{collaborated_by_me:o!==t&&s.collaborated_by_me}:Object.freeze({}),...s.access&&{access:o===t?[]:s.access},...a>-1?{collaborating_users:(null!==(n=s.collaborating_users)&&void 0!==n?n:[]).filter(((e,t)=>t!==a))}:Object.freeze({})})})(t,r);case n.wc:return((e,{payload:{userIds:t,boardId:r,viewingUser:o,status:n}})=>{const s=e[r];var a;return"accepted"===n?R(e,{id:r,...s.collaborator_count||0===s.collaborator_count?{collaborator_count:s.collaborator_count+t.length}:{},...s.collaborated_by_me||!1===s.collaborated_by_me?{collaborated_by_me:s.collaborated_by_me||t.includes(o)}:{},...(s.access||s.access===[])&&{access:t.includes(o)?["write","delete"]:s.access},...(s.collaborating_users||s.collaborating_users===[])&&{collaborating_users:[...null!==(a=s.collaborating_users)&&void 0!==a?a:[],...t]}}):e})(t,r);case n.Aj:return((e,{payload:{boardId:t,value:r}})=>R(e,{id:t,viewer_collaborator_join_requested:r}))(t,r);case n.OC:return((e,t)=>{const{boardId:r}=t.payload;if(!r)return e;const{[r]:o,...n}=e;return n})(t,r);case n.VP:return((e,t)=>{const{boardId:r}=t.payload;return R(e,{id:r,archived_by_me_at:(new Date).toString()})})(t,r);case n.s1:return((e,t)=>{const{boardId:r}=t.payload;return R(e,{id:r,archived_by_me_at:void 0})})(t,r);case n.AF:return((e,t)=>{const{resource:r,normalizedResponse:o}=t.payload;if("BoardSectionResource"===r&&o){const{result:t,entities:{boardsections:r}}=o,n=r[t].board;return R(e,{id:n,section_count:(e[n].section_count||0)+1})}return e})(t,r);case n.o3:return((e,t)=>{const{payload:r}=t,{boardId:o,isSocialSeasonalBoard:n,socialHeaderBgImage:s,socialHeaderBgColor:a,textIconColor:i}=r;return R(e,{id:o,isSocialSeasonalBoard:n,socialHeaderBgImage:s,socialHeaderBgColor:a,textIconColor:i})})(t,r);case b.z:return"BoardResource"===r.payload.resource?((e,t)=>{const{payload:{response:r,options:o}}=t;return o.slug&&!r.resource_response.data.url.includes(o.slug)?R(e,{oldSlugUrl:`/${o.username}/${(0,v.X)(o.slug)}/`,...r.resource_response.data}):e})(t,r):"ApiResource"===r.payload.resource&&null!==(o=r.payload.options)&&void 0!==o&&null!==(s=o.url)&&void 0!==s&&s.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//)?((e,t)=>{var r,o;const{options:n,response:s}=t.payload,a=null===(r=n.url)||void 0===r||null===(o=r.split("/"))||void 0===o?void 0:o[3],i=s.resource_response.data;return null!=i&&i.length?R(e,{id:a,related_interest_ids:i.map((e=>e.id))}):e})(t,r):t;default:return t}})),S=(e,t)=>({...e,[t.id]:{...t&&e[t.id]||{},...t}}),I=(e,t,r,o)=>{var n;return t===r?e:{...e,...t&&e[t]?{[t]:{...e[t],pin_count:Math.max(0,(null!==(n=e[t].pin_count)&&void 0!==n?n:0)-o)}}:{},...r&&e[r]?{[r]:{...e[r],pin_count:(e[r].pin_count||0)+o}}:{}}},A=(e={})=>(0,p.Z)("boardsections",((t=e,r)=>{switch(r.type){case n.nk:return((e,{payload:t})=>S(e,t))(t,r);case n.$o:return((e,t)=>{const{boardSectionId:r}=t.payload;var o;return r&&e[r]?S(e,{id:r,pin_count:(null!==(o=e[r].pin_count)&&void 0!==o?o:0)+1}):e})(t,r);case n.l_:return((e,t)=>{const{boardSectionId:r}=t.payload;var o;return r&&e[r]?S(e,{id:r,pin_count:(null!==(o=e[r].pin_count)&&void 0!==o?o:0)-1}):e})(t,r);case n.fz:return((e,t)=>{const{section:r,source:o}=t.payload,n=r&&r.id||null,s=o&&o.sectionId||null;return I(e,s,n,1)})(t,r);case n.u2:return((e,t)=>{const{pinIds:r,source:{sectionId:o},target:{sectionId:n}}=t.payload;return I(e,o,n,r.length)})(t,r);case n.Fl:default:return t}})),T=(e={})=>(0,p.Z)("contactrequests",((t=e,r)=>{switch(r.type){case b.z:const{payload:{normalizedResponse:e,resource:o}}=r;return"ContactRequestsResource"===o&&e?{...e.entities.contactrequests}:t;case n.mU:const{contactRequestId:s,hasDeclined:a,hasBlocked:i}=r.payload;return{...t,[s]:{...t[s],hasDeclined:a,hasBlocked:i}};case n.CB:const{contactRequestIds:c}=r.payload;return Object.keys(t).reduce(((e,r)=>(c.includes(r)||(e[r]=t[r]),e)),{});default:return t}})),O=(e={})=>(0,p.Z)("conversations",((t=e,r)=>{switch(r.type){case n.AF:const{normalizedResponse:e}=r.payload;if("ConversationsResource"===r.payload.resource&&e){const{conversations:r}=e.entities,o=Object.keys(r),n=o.length>0?o[0]:null;if(!n)return t;const s=r[n].last_message;return{...t,[n]:{...t[n],last_message:s}}}return t;case b.z:const{payload:{resource:o,response:{resource_response:{data:s}}}}=r;if("ConversationMessagesResource"===o){const{options:{conversation_id:e},normalizedResponse:o}=r.payload;let n={};o&&(n=o.entities.conversationMessages);return{...t,[e]:{...t[e],messages:s,conversationMessages:n}}}if("ConversationBadgeResource"===o){const{conversations_unseen_count:e}=s;return{...t,badgeCount:e}}return t;case n.pM:const{payload:{conversationId:a,message:i}}=r,c=t[a].messages?t[a].messages:[];return{...t,[a]:{...t[a],last_message:i,messages:[...c,i]}};case n.eI:return{...t,badgeCount:0};case n.MA:return{...t,[r.payload.id]:{...t[r.payload.id],unread:0}};case n.ST:const u=t;return delete u[r.payload.id],u;default:return t}})),P=(e={translations:{},triggerable:{}})=>(t=e,r)=>t,L=(e={})=>(0,p.Z)("creatorRecommendationItems",((t=e,r)=>{if(r.type===b.z){var o;const{payload:{options:e,resource:s,response:a}}=r,i="ApiResource"===s&&(null==e?void 0:e.url.match(/\/v3\/orientation\/nux_creator_recommendations\//)),{data:c}=a.resource_response;if(i&&(null!==(o=null==c?void 0:c.length)&&void 0!==o?o:0)>0)return n=t,c.reduce(((e,t)=>"creatorrecommendationitem"===t.type&&t.id?{...e,[t.id]:t}:e),{...n})}var n;return t})),C=(e={})=>(t=e,r)=>{switch(r.type){case n.QA:return{...t,...r.payload};case n.jn:return{};default:return t}},x=(e={active:{},triggerable:{}})=>(t=e,r)=>{switch(r.type){case n.hC:return{...t,...r.payload.experiments};case n.bC:const{name:e}=r.payload;if(t.triggerable[e]){const{[e]:r,...o}=t.triggerable;return{active:{...t.active,[e]:r},triggerable:o}}return t;case n.Df:case n.Pu:return{active:r.payload.active,triggerable:r.payload.triggerable};default:return t}},U=(e={})=>(t=e,r)=>{if(r.type===b.z||r.type===b.a){const{payload:{response:e,resource:o}}=r;if("ExploreTopicsResource"===o){const r=(e.resource_response.data||[]).filter((e=>"commerce"!==e.category_key));return{...t,sections:r}}return t}return t};var N=r(861381);const D=(e={})=>(t=e,r)=>{if(r.type===n.IY){const{payload:{cropSource:e}}=r;return{...t,cropSource:e}}return t},$=(e={activeTabBoardId:"",activeTabIndex:0})=>(t=e,r)=>{if(r.type===n.Qj){const{payload:{boardId:e,index:o}}=r;return{...t,activeTabBoardId:e,activeTabIndex:o}}return t},k=(e={})=>(t=e,r)=>{switch(r.type){case n.pd:return{...t,showToastForContactRequest:r.payload.contactRequestId};case n.NE:const e={contactRequestId:r.payload.contactRequestId,modalAction:r.payload.modalAction};return{...t,blockModalContactRequest:e};default:return t}};var F=r(756544);const j=(e,t)=>({...e,[(0,F.U)(t)]:{...e[(0,F.U)(t)],...t}}),B=(e={})=>(0,p.Z)("collaboratorinvite",((t=e,r)=>{switch(r.type){case n.Fi:return j(t,{board:r.payload.boardId,invited_user:r.payload.userId,status:"not_invited"});case n.wc:const{boardId:e,viewingUser:o,status:s,userIds:a}=r.payload;return a.reduce(((t,r)=>{const n={access:["delete"],board:e,invited_user:r,invited_by_user:o,status:s,type:"collaboratorinvite"},a=(0,F.U)(n);return t[a]&&"not_invited"!==t[a].status?t:j(t,n)}),{...t});case n.Tl:return j(t,{board:r.payload.boardId,invited_user:r.payload.userId,status:"accepted"});case n.AZ:const i=r.payload.isRequestToJoin?"accepted":"new";return j(t,{board:r.payload.boardId,invited_user:r.payload.userId,status:i});case n.CD:const c={board:r.payload.boardId,invited_user:r.payload.userId},u=(0,F.U)(c),{[u]:d,...l}=t;return l;default:return t}})),M={days:[],feed:[],headers:{},products:{},sessions:{},subscriptions:[],upcoming:[]},H=(e=M)=>(0,p.Z)("liveSession",((t=e,r)=>{if(r.type===b.z||r.type===b.a){const{payload:{response:e,resource:o}}=r,n=e.resource_response.data;if("LiveSessionEventResource"===o&&n)return{...t,...n};if("PinResource"===o&&null!=n&&n.creator_class)return{...t,subscriptions:n.creator_class.is_viewing_user_subscribed?[n.id]:[],sessions:{...t.sessions,[n.id]:n}};if("LiveSessionProductsResource"===o&&n)return{...t,products:{...t.products,...n}};if("LiveSessionUpcomingResource"===o&&n)return 0===t.upcoming.length?{...t,sessions:{...n.sessions,...t.sessions},subscriptions:[...t.subscriptions,...n.subscriptions.filter((e=>!t.subscriptions.includes(e)))],upcoming:[...n.upcoming]}:t}else if(r.type===n.a6){if(r.payload){const{id:e,addSubscription:o}=r.payload;return{...t,subscriptions:o?[...t.subscriptions,e]:t.subscriptions.filter((t=>t!==e))}}}else if(r.type===n.Hh)return{...t,...r.payload};return t})),z=(e={params:{}})=>(t=e,r)=>{if(r.type===n.zB){const{payload:{params:e}}=r;return{...t,params:e}}return t},W=(e={campaignData:{campaign:null,campaignPath:null,campaignLayout:null,shareTitle:""}})=>(t=e,r)=>{switch(r.type){case n.Th:return{...e,campaignData:{campaign:r.campaign,campaignPath:r.campaignPath,campaignLayout:r.campaignLayout,shareTitle:r.shareTitle}};default:return t}},Z=(e={})=>(0,p.Z)("notifications",((t=e,r)=>{if(r.type===b.z||r.type===b.a){const{normalizedResponse:e}=r.payload;e&&e.entities&&e.entities.notifications&&e.entities.pins&&(({notifications:e,pins:t})=>{Object.keys(e).forEach((r=>{const o=e[r];o.content_items&&o.content_items.forEach((e=>{if(e.content_object){const{id:r,schema:o}=e.content_object;"pin"===o&&(e.trackingParams=t[r]?t[r].tracking_params:void 0)}}))}))})(e.entities)}return t})),V=(e={})=>(0,p.Z)("offers",((t=e,r)=>{switch(r.type){case b.z:const{payload:{resource:e,response:{resource_response:{data:o}}}}=r;return"MarketingOfferResource"===e?{...t,[o.id]:o}:t;default:return t}})),K=(e={})=>(t=e,r)=>{switch(r.type){case b.z:const{payload:{response:e,resource:o}}=r;return"PartnerPermissionsResource"===o?{...e.resource_response.data}:t;default:return t}},G=(e,t,r)=>({...e,[t]:{...e[t]||{},...r}}),q=(e={})=>(t=e,r)=>{switch(r.type){case b.z:{const{payload:{resource:e,response:o,options:n}}=r;if("FindPinImagesResource"===e&&"pin_create"===n.source){const e={...o.resource_response.data};e.items=e.items.slice(0,50);const r=n.url;return G(t,r,e)}return t}case n.q:{const{payload:{loadedImages:e,scrapedWebsite:o}}=r;return G(t,o,{loadedImages:e})}case n.GG:return{...t,...r.payload};default:return t}},X=(e,t)=>({...e,[t.id]:{...e[t.id]||{},...t}});const Y=(e={})=>(0,p.Z)("pins",((t=e,r)=>{switch(r.type){case b.z:const{payload:{resource:e}}=r;return"BoardTitleSuggestionsResource"===e?function(e,t){if(t.type===b.z&&t.payload.options.pin_id){const r=t.payload.options.pin_id,o=t.payload.response.resource_response.data.map((e=>e.title));return X(e,{id:r,boardTitleSuggestions:o})}return e}(t,r):"BoardPickerBoardsResource"===e?function(e,t){if(t.type===b.z&&t.payload.normalizedResponse&&t.payload.options.pin_id){const r=t.payload.options.pin_id,{boards_shortlist:o}=t.payload.normalizedResponse.result;return X(e,{id:r,boards_shortlist:o})}return e}(t,r):"PinInterestsResource"===e?function(e,t){if(t.type===b.z&&t.payload.options.pinId){const{options:r,response:o}=t.payload,n=o.resource_response.data;if(null!=n&&n.length)return X(e,{id:r.pinId,related_interest_ids:n.map((e=>e.id))})}return e}(t,r):"StoryPinTaggedProductsResource"===e?function(e,t){if(t.type===b.z){const{response:r}=t.payload,o=r.resource_response.data;if(null!=o&&o[0])return o.reduce(((e,t)=>X(e,t)),e)}return e}(t,r):"LiveSessionProductsResource"===e?function(e,t){if(t.type===b.z){const{options:r,response:o}=t.payload;return o.resource_response.data[r.classId].reduce(((e,t)=>X(e,t)),e)}return e}(t,r):t;case n.b6:return r.payload.forEach((e=>t[e.pinId].viewed=!0)),t;case n.KW:const{pinId:o,value:s}=r.payload;return X(t,{id:o,feedback_status:s});case n.AF:const{payload:a}=r;if("RepinResource"===a.resource){const{pin_id:e,board_id:r}=a.options,{id:o}=a.response.resource_response.data,{name:n,privacy:s,url:i}=a.response.resource_response.data.board;return X(t,{id:e,pinned_to_board:{id:r,name:n,url:i,type:"board"},privacy:s,savedThisSession:o})}if("BoardResource"===a.resource&&a.options.initial_pins){const e=a.options.initial_pins[0],{name:r,id:o,url:n}=a.response.resource_response.data;return X(t,{id:e,pinned_to_board:{id:o,name:r,url:n,type:"board"}})}return t;case n.fz:{const{pinId:e,description:o,boardId:n,section:s,title:a}=r.payload;return X(t,{id:e,closeup_user_note:o,board:n,section:s,title:a,unified_user_note:o})}case n.l_:{const{pinId:e}=r.payload;return Object.assign({},Object.keys(t).reduce(((r,o)=>(o!==e&&(r[o]=t[o]),r)),{}))}case n.By:{const{id:e,value:o,undoAction:n,undoActionOptions:s}=r.payload;return X(t,{id:e,showFeedback:o,undoAction:n,undoActionOptions:s})}case n.YZ:{const{pinId:e}=r.payload;return X(t,{id:e,savedThisSession:void 0})}case n.cZ:{const{boardId:e,localPinId:o,pinId:n}=r.payload;if(t[n])return X(t,{id:n,savedInfo:{boardId:e,localPinId:o}})}return t;case n.U1:{const{pinId:e}=r.payload,o=t[e];if(!o)return t;const{savedInfo:n,savedThisSession:s,...a}=o;return{...t,[e]:a}}default:return t}})),J=(e={})=>(t=e,r)=>{if(r.type===b.z){const{payload:{response:e,resource:o}}=r;if("PlacesRecommenderLandingResource"===o){const{board_name:r,invite:o,recommender:n,trip_place:s}=e.resource_response.data;return{...t,boardName:r,invite:{id:o.id,imageUrl:o.image_url,firstName:o.sender.first_name},recommender:{...n},tripPlace:{...s}}}if("PlacesRecommenderSearchResource"===o){const r=e.resource_response.data.map((e=>{const{id:t,name:r,category_join:o,locality:n,region:s,street:a,images:i,url:c}=e;return{id:t,name:r,locality:n,region:s,street:a,url:c,categoryName:(o||{}).name,images:(i||[]).map((e=>e.thumbnails||{}))}}));return{...t,placeSearchResults:r}}}else if(r.type===n.AF){const{payload:{response:e,resource:o}}=r;if("PlacesRecommenderResource"===o){const r=e.resource_response.data;return{...t,recommender:r}}}return t},Q=(e={})=>(t=e,r)=>{if(r.type===b.z){const{resource:e,options:o,response:n}=r.payload;if("VisualSearchFlashlightUnifiedResource"===e){const e="related-products-unified",r=o.pin_id,{x:s,y:a,w:i,h:c}=o.crop,u=`${e}:${r}:${s}:${a}:${i}:${c}:${o.is_shopping}`,{data:d}=n.resource_response,l={[u]:{priceFilters:d.price_filters,domainFilters:d.domain_filters,categoryFilters:d.category_filters}};if(Object.values(l[u]).filter(Boolean).length)return{...t,...l}}}return t},ee=(e={})=>(0,p.Z)("reactions",((t=e,r)=>{switch(r.type){case b.z:return"ReactionsResource"===r.payload.resource&&r.payload.normalizedResponse&&r.payload.normalizedResponse.entities&&r.payload.normalizedResponse.entities.reactions?{...t,...r.payload.normalizedResponse.entities.reactions}:t;case n.AF:const{options:e}=r.payload,{reaction_type:o,reaction_pin_id:s,user_id:a}=e;return((e,t)=>({...e,[t.id]:{...e[t.id],...t}}))(t,{user:a,id:`${s}:${a}`,reaction_type:o,type:"userreaction"});default:return t}})),te=(e={})=>(0,p.Z)("reportReasons",((t=e,r)=>{switch(r.type){case b.z:const{payload:{options:e,resource:o,response:{resource_response:{data:n}}}}=r,s=e.pin_id;return"ReportReasonsResource"===o?{...t,[s]:n}:t;default:return t}}));var re=r(139848);const oe=(e={})=>(t=e,r)=>{if(r.type===b.z||r.type===b.a||r.type===n.cR||r.type===n.KK){const{options:e,resource:o}=r.payload,s=(0,re.e)(e),a=t[o]||{},i=((e,t)=>{switch(e.type){case n.KK:return{...t||{},fetching:e.payload.isFetching,error:null};case n.cR:return{...t||{},fetching:!1,error:e.payload.error};default:const o=(r=e.payload.options.bookmarks||e.payload.response.bookmarks)&&"-end-"!==r[0]?r[0]:"-end-";return{...t||{},auxData:e.payload.response.auxData,data:e.payload.response.resource_response.data,fetching:!1,nextBookmark:o,error:null}}var r})(r,a[s]);return{...t,[o]:{...a,[s]:i}}}return t},ne=(e={interests:[]})=>(0,p.Z)("rootInterests",((t=e,r)=>{switch(r.type){case b.z:const{payload:{resource:e,response:{resource_response:{data:o}}}}=r;return"RootInterestsResource"===e?{...t,interests:o}:t;default:return t}}));var se=r(718609);const ae=new Set(["BoardResource","PinResource","RepinResource"]),ie=e=>(t=e,r)=>{switch(r.type){case n.hC:return{...t,...r.payload.session};case n.BM:return{...t,...r.payload};case n.a9:return r.payload.from!==t.loginSignupFrom?{...t,loginSignupFrom:r.payload.from}:t;case n.pl:return{...t,experimentHash:r.payload};case n.ds:return{...t,isLimitedLoginModalShown:!1,limitedActionHeader:"",limitedActionNext:""};case n.iy:return{...t,isLimitedLoginModalShown:!0,limitedActionHeader:r.payload.limitedActionHeader,limitedActionNext:r.payload.limitedActionNext};case n.j_:return{...t,unauthSavePinId:r.payload.unauthSavePinId};case n.w$:return{...t,unauthFollowUserId:r.payload.unauthFollowUserId};case n.iZ:return{...t,unauthSavePinId:void 0};case n.KA:return{...t,unauthFollowUserId:void 0};case n.lj:return{...t,hasSavedUnauthPin:!0};case n.Cy:return{...t,isResetPasswordSentModalShown:!1,loginUserEmail:""};case n.nr:return{...t,isResetPasswordSentModalShown:!0,loginUserEmail:r.payload.email};case n.ee:return{...t,isUnauthToastUpsellDisplayed:!1};case n.Bu:return{...t,isUnauthToastUpsellDisplayed:!0};case n.Df:case n.Pu:return{...t,isAuthenticated:!0,userId:r.payload.user.id};case n.vH:const{viewedImageSignature:e}=r.payload,{viewedImages:o}=t,s=(o||[]).slice(0,10),a=[e].concat(s.filter((t=>t!==e)));return{...t,viewedImages:a};case n.le:return{...t,viewedSharedPins:r.payload.pins};case n.aj:return{...t,isNuxHomefeedLoadShown:r.payload};case n.HQ:return{...t,isBizNuxHomefeedLoadShown:r.payload};case n.kH:return{...t,isAppUpsellShown:r.payload.isAppUpsellShown};case n.cs:return{...t,isShowingRepinAnimation:!0};case n.tg:return{...t,isShowingRepinAnimation:!1};case n.c7:return{...t,googleOneTapShouldBeHidden:!0};case n.Xi:return{...t,isGoogleOneTapDisabled:!0};case n.kh:return{...t,isGoogleOneTapInitialized:!0};case n.$t:return{...t,numSignupSteps:r.payload.steps};case n.JG:return{...t,shouldHideNavBar:!0};case n.pV:return{...t,shouldHideNavBar:!1};case n.OC:case n.Yn:case n.l_:return{...t,isProfilePinsStale:!0};case n.AF:const{resource:i}=r.payload;return ae.has(i)?{...t,isProfilePinsStale:!0,isTakeoverAfterRepinPlacementEligible:!0}:t;case n.LB:return{...t,isProfilePinsStale:!1};case n.V9:return{...t,isUnauthSharingModalsShown:!1};case n.UA:return{...t,isUnauthSharingModalsShown:!0,googleOneTapShouldBeHidden:!0};case n.k7:return{...t,isTakeoverAfterRepinPlacementEligible:!1};case n.m9:return{...t,isToastShown:!0};case n.uK:return{...t,isToastShown:!1};case n.ib:return{...t,autologinFailed:!0};case n.L6:return{...t,unauthInterstitialDismissed:!0};case n.Pz:return{...t,loggedOutUserInfo:r.payload};case n.OO:return{...t,loggedOutUserInfo:null};case n.AO:return{...t,boardPageSharingOptions:r.payload};case n.eP:return{...t,showBusinessAppUpsell:r.payload};case n.vW:return{...t,scrollToCloseupPin:!0};case n.dO:return{...t,scrollToCloseupPin:!1};case n.UD:return t.isAuthenticated?{...t,firstHomeFeedRequestAfterNux:r.payload}:t;case n.il:return{...t,landingPageType:r.payload};default:return t}},ce=(e={})=>(t=e,r)=>{if(r.type===b.z||r.type===b.a){const{payload:{response:e,resource:o}}=r;if("CountriesResource"===o)return{...t,countryOptions:e.resource_response.data.map((e=>({value:e.key,label:e.name})))};if("LocalesResource"===o)return{...t,localeOptions:e.resource_response.data.map((e=>({value:e.key,label:e.name})))};if("NewsSettingsResource"===o)return{...t,newsSettings:e.resource_response.data};if("PushSettingsResource"===o)return{...t,pushSettings:e.resource_response.data}}if(r.type===n.F5){var o,s;const{id:e,value:n}=r.payload,{newsSettings:a,pushSettings:i}=t,c=null!==(o=null==a?void 0:a.map((t=>(t.options=t.options.map((t=>(t.id===e&&(t.value=n),t))),t))))&&void 0!==o?o:[],u=null!==(s=null==i?void 0:i.map((t=>(t.options=t.options.map((t=>(t.id===e&&(t.value=n),t))),t))))&&void 0!==s?s:[];return{...t,newsSettings:c,pushSettings:u}}return t};var ue=r(375230);const de=(e={})=>(0,p.Z)("storyPins",((t=e,r)=>(r.type,t))),le=(e={})=>(t=e,r)=>{if(r.type===b.z){const{payload:{options:e,response:o,resource:n}}=r;if("StyleContentResource"===n){const r=o.resource_response.data||[],n=`${e.id}_${e.request_type}`;return{...t,[n]:{page_title:r.page_title}}}return t}return t},pe=(e={suggested_interests:[],show_interest_name:!1})=>(t=e,r)=>{var o;switch(r.type){case b.z:const{payload:{options:e,resource:n,response:{resource_response:{data:s}}}}=r;return"ApiResource"===n&&null!=e&&null!==(o=e.url)&&void 0!==o&&o.match(/\/v3\/interests\/([0-9]|[a-z]|[A-Z])+\/ideas\/suggested_interests\//)?{...t,...s}:t;default:return t}},_e=(e={})=>(0,p.Z)("todayArticles",((t=e,r)=>(r.type,t))),ye=(e,t)=>({...e,[t.id]:{...e[t.id],...t}}),me=(e={})=>(0,p.Z)("topics",((t=e,r)=>{var o;switch(r.type){case n.K0:const{payload:{id:e,value:s}}=r;return ye(t,{id:e,is_followed:s});case b.z:const{payload:{options:a,resource:i,response:c}}=r,u=c.resource_response.data,d="ApiResource"===i&&(null==a||null===(o=a.url)||void 0===o?void 0:o.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//));return("PinInterestsResource"===i||d)&&null!=u&&u.length?u.reduce(((e,t)=>ye(e,t)),t):t;default:return t}})),fe=(e={})=>(0,p.Z)("triedits",((t=e,r)=>(r.type,t))),he={state:-1},ge=(e=he)=>(t=e,r)=>{switch(r.type){case b.z:var o;return"UserStateResource"===r.payload.resource?{state:null!==(o=r.payload.response.resource_response.data)&&void 0!==o?o:-1}:t;default:return t}},ve=(e,t)=>({...e,[t.id]:{...e[t.id],...t}}),be=(e={})=>(0,p.Z)("users",((t=e,r)=>{var o,s,a,i;switch(r.type){case n.hC:return{...t,...r.payload.users};case b.z:const{payload:{normalizedResponse:e,resource:u,options:d}}=r;return"BoardPickerBoardsResource"===u&&e?ve(t,{id:d.user_id,recent_boards:e.result.boards_shortlist}):t;case n.T$:return ve(t,{id:r.payload.id,blocked_by_me:r.payload.value,...r.payload.value?{explicitly_followed_by_me:!1}:{}});case n.On:return ve(t,{id:r.payload.id,...r.payload.user,explicitly_followed_by_me:r.payload.value});case n.f6:const{ids:l,value:p}=r.payload;let _={...t};return l.forEach((e=>{_=ve(_,{id:e,explicitly_followed_by_me:p})})),_;case n.E0:return ve(t,{id:r.payload.id,[r.payload.field]:r.payload.value});case n.$o:const{pinnerId:y}=r.payload;return ve(t,{id:y,pin_count:null!==(o=t[y].pin_count)&&void 0!==o?o:1});case n.l_:const{userId:m}=r.payload;return ve(t,{id:m,pin_count:null!==(s=t[m].pin_count)&&void 0!==s?s:-1});case n.OC:const{viewingUserId:f,boardPinCount:h}=r.payload,g=null!==(a=t[f].pin_count)&&void 0!==a?a:0,v=null!==(i=t[f].board_count)&&void 0!==i?i:0;return ve(t,{id:f,pin_count:g-h,board_count:v-1});case n.Yn:{var c;const{userId:e,pinCount:o}=r.payload,n=null!==(c=t[e].pin_count)&&void 0!==c?c:0;return ve(t,{id:e,pin_count:n-o})}case n.AF:{const{options:e,resource:o,response:n}=r.payload,s=e.user_id;if(s){const{board_count:r=0,pin_count:a=0}=t[s]||{},{resource_response:i}=n;if("BoardResource"===o){const{initial_pins:o}=e,{owner:n={}}=i.data;return ve(t,{id:s,pin_count:n.pin_count||a+o.length,board_count:r+1,last_repin_id:o[0]})}if("RepinResource"===o||"PinResource"===o&&"uploaded"===e.method){const{pin_id:r}=e,{pinner:o={}}=i.data;return ve(t,{id:s,pin_count:(o.pin_count||a)+1,last_repin_id:r})}}return t}case n.XA:return ve(t,{id:r.payload.userId,allow_personalization_cookies:!0,allow_analytic_cookies:!0,allow_marketing_cookies:!0});case n.$f:return ve(t,{id:r.payload.userId,allow_personalization_cookies:!1,allow_analytic_cookies:!1,allow_marketing_cookies:!1});case n.Z0:return ve(t,{id:r.payload.userId,allow_analytic_cookies:r.payload.value});case n.gM:return ve(t,{id:r.payload.userId,allow_marketing_cookies:r.payload.value});case n.H6:return ve(t,{id:r.payload.userId,allow_personalization_cookies:r.payload.value});case n.Df:case n.Pu:return ve(t,{...r.payload.user});default:return t}})),Re=(e={})=>(t=e,r)=>{if(r.type===b.z){const{payload:{response:e,resource:o,options:n}}=r,s=e.resource_response.data,a=null==n?void 0:n.userId;if("VerifiedMerchantResource"===o&&s)return((e,t,r)=>({...e,[t]:r}))(t,a,s)}return t},we=(e={})=>(t=e,r)=>{switch(r.type){case n.hC:return{...t,...r.payload.experiences};case n.iY:const{placementId:e,status:o}=r.payload,s={...t};return["completed","dismissed"].includes(o)?delete s[e]:s[e].status=o,s;case n.mR:return{...t,...r.payload.experiences};case n.Df:case n._4:case n.Pu:const{experiences:a}=r.payload;return{...a};default:return t}},Ee=(e={})=>(t=e,r)=>{switch(r.type){case n.V$:const{experienceId:e,placementId:o,status:s}=r.payload,a={...t},i=a[o]||[],c=i.findIndex((t=>t.experience_id===e));return c>=0&&(["completed","dismissed"].includes(s)?i.splice(c,1):i[c].status=s),a;case n.$S:const{experiencesMulti:u}=r.payload;return{...u};default:return t}},Se=e=>(0,u.combineReducers)({aggregatedComments:_(e.aggregatedComments),appUI:h(e.appUI),articles:g(e.articles),boards:E(e.boards),boardsections:A(e.boardsections),contactRequests:T(e.contactRequests),conversations:O(e.conversations),currentPage:C(e.currentPage),experiences:we(e.experiences),experiencesMulti:Ee(e.experiencesMulti),experiments:x(e.experiments),copytuneExperiments:P(e.copytuneExperiments),creatorRecommendationItems:L(e.creatorRecommendationItems),explore:U(e.explore),feeds:(0,N.ZP)(e.feeds),flashlight:D(e.flashlight),productFilters:Q(e.productFilters),homefeedTabUI:$(e.homefeedTabUI),inbox:k(e.inbox),invites:B(e.invites),liveSession:H(e.liveSession),messenger:W(e.messenger),notifications:Z(e.notifications),offers:V(e.offers),pinBuilder:q(e.pinbuilder),pins:Y(e.pins),placesRecommender:J(e.placesRecommender),reactions:ee(e.reactions),reportReasons:te(e.reportReasons),resources:oe(e.resources),rootInterests:ne(e.rootInterests),search:(0,se.Z)(e.search),session:ie(e.session),settings:ce(e.settings),stories:(0,ue.Z)(e.stories),storyPins:de(e.storyPins),styleContent:le(e.styleContent),suggestedInterests:pe(e.suggestedInterests),todayArticles:_e(e.todayArticles),topics:me(e.topics),triedits:fe(e.triedits),userActivityStates:ge(e.userActivityStates),users:be(e.users),verifiedMerchants:Re(),marketingCampaign:z(e.marketingCampaign),partnerPermissions:K(e.partnerPermissions)});var Ie=r(12516);let Ae;const Te=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():e=>e,Oe=e=>{if(Ae)throw new Error("createStore has already been called!");const t=(0,Ie.go)()?(0,o.$_)():{};return Ae=(0,u.createStore)(Se(e),t,(0,u.compose)(l,Te)),Ae},Pe=()=>{if(!Ae)throw new Error("store is undefined.  make sure createStore() has been called");return Ae}},3604:(e,t,r)=>{function o(e,t){let r;return(...o)=>{clearTimeout(r),r=setTimeout((()=>e(...o)),t)}}r.d(t,{Z:()=>o})},174523:(e,t,r)=>{r.d(t,{oz:()=>s,q6:()=>n,ZP:()=>i});var o=r(762803);const{Provider:n,Consumer:s,useHook:a}=(0,o.ZP)("i18n"),i=a},382745:(e,t,r)=>{r.d(t,{wy:()=>O,Qx:()=>ne,bo:()=>D,AX:()=>p,Fy:()=>l,XE:()=>d,am:()=>a,pD:()=>_,OJ:()=>c,LO:()=>oe,Gl:()=>K,WN:()=>G,h3:()=>q,PY:()=>g,Ni:()=>h,pV:()=>P,L6:()=>T,b0:()=>f,jC:()=>k,O7:()=>X,LM:()=>$,OK:()=>I,mP:()=>v,C$:()=>b,J3:()=>C,dh:()=>se,Xn:()=>R,l4:()=>A,b_:()=>Z,J:()=>i,dZ:()=>u,re:()=>E,RU:()=>Y,Ui:()=>y,KY:()=>m,fY:()=>ee,uM:()=>B,x7:()=>z,HV:()=>M,cD:()=>F,Pu:()=>V,En:()=>L,ej:()=>te,gf:()=>S,Dl:()=>H,mY:()=>J,kY:()=>re,cY:()=>W,vF:()=>N,$Y:()=>U,Zz:()=>w,$V:()=>x,j8:()=>j,YW:()=>Q});const o=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),n=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/bot.html","/boutique","/brand_catalog","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/csrf_error","/ct.html","/deactivate-account","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/story_pins","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/web-mentorship","/welcome","/windows-app-web-link"];var s=r(855168);const a=e=>o.test(e.pathname),i=(e,t)=>{const{pathname:r}=e;return a(e)&&r.match(t||"?")},c=e=>{const{pathname:t}=e;return!!(0,s.LX)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},u=(e,t)=>{const{pathname:r}=e;return c(e)&&r.match(t||"?")},d=e=>!!(0,s.LX)(e.pathname,{path:"/board/:id/edit",exact:!0}),l=e=>!!(0,s.LX)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,s.LX)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),_=e=>!!(0,s.LX)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),y=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id/comments",exact:!0}),m=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id/edit",exact:!0}),f=e=>!!(0,s.LX)(e.pathname,{path:"/conversation/:id",exact:!0}),h=e=>e.pathname.startsWith("/business/"),g=e=>e.pathname.startsWith("/business/invite/"),v=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),b=e=>"/"===e.pathname,R=e=>e.pathname.startsWith("/login"),w=e=>!!(0,s.LX)(e.pathname,{path:"/today",exact:!0}),E=e=>e.pathname.startsWith("/password/reset")||!!(0,s.LX)(e.pathname,{path:"/pw/:username",exact:!0}),S=(e,t)=>t.pathname.startsWith("/signup")||!e&&b(t),I=e=>e.pathname.startsWith("/email/subscription"),A=e=>e.pathname.startsWith("/notifications/"),T=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id",exact:!0}),O=e=>T(e)&&void 0===e.state,P=e=>e.pathname.startsWith("/pin_redirect"),L=e=>e.pathname.startsWith("/search"),C=e=>e.pathname.startsWith("/ideas"),x=e=>e.pathname.startsWith("/topics"),U=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),N=e=>e.pathname.startsWith("/today/popular/"),D=e=>w(e)||U(e)||N(e),$=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),k=e=>e.pathname.startsWith("/pin/create/"),F=e=>!!(0,s.LX)(e.pathname,{path:"/:username/",exact:!0})&&!n.includes(e.pathname.replace(/\/$/,"")),j=e=>e.pathname.startsWith("/unauth-profile"),B=e=>e.pathname.startsWith("/pin/"),M=e=>e.pathname.startsWith("/places/recommender"),H=(e,t,r)=>{const o=e.pathname,{search:n}=e,a=new RegExp("invite_code"),i=!!(0,s.LX)(o,{path:"/pin/:id",exact:!1})&&(o.indexOf("/sent/")>=0||o.indexOf("/feedback/")>=0),c=t&&!!(0,s.LX)(o,{path:"/:username/:boardId",exact:!0})&&!o.match(/^\/(pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup)/)&&!o.match(/^\/.+\/(following|followers)/i)&&a.test(n),u=r&&!!(0,s.LX)(o,{path:"/:username/",exact:!0})&&a.test(n);return!!i||!!c||!!u},z=e=>e.pathname.indexOf("/repin/x")>=0,W=e=>e.pathname.startsWith("/_/storyboard"),Z=e=>e.pathname.startsWith("/oauth"),V=e=>e.pathname.indexOf("/scheduled-pin/")>=0,K=e=>e.pathname.startsWith("/business/convert"),G=e=>e.pathname.startsWith("/business/create"),q=e=>e.pathname.startsWith("/business/hub"),X=e=>e.pathname.startsWith("/pin-editor"),Y=e=>e.pathname.startsWith("/pin-builder"),J=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),Q=e=>e.pathname.startsWith("/advertiser/quick-promote"),ee=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.indexOf("/sent/")>=0||e.pathname.indexOf("/feedback/")>=0),te=e=>e.pathname.startsWith("/settings"),re=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),oe=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.indexOf("/dashboard/")>=0,ne=e=>{var t;return(null===(t=e.match(/\amp(.*)/))||void 0===t?void 0:t[1])||""},se=()=>{var e,t;return/instagram/i.test(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)}},139848:(e,t,r)=>{r.d(t,{e:()=>s});const o=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),n=e=>!o.has(e)&&!e.startsWith("__track__"),s=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(n).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},447715:(e,t,r)=>{r.d(t,{z:()=>o,a:()=>n});const o="FETCH_COMPLETE",n="FETCH_MORE_COMPLETE"},903945:(e,t,r)=>{r.d(t,{qn:()=>o,L_:()=>n,Nh:()=>s});const o=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(r){return console.error("Cannot access localStorage."),t}},n=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},s=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(r){console.error("Cannot access localStorage.")}}},652382:(e,t,r)=>{r.d(t,{qn:()=>o,L_:()=>n,Nh:()=>s});const o=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(r){return window.console.error("Cannot access sessionStorage."),t}},n=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},s=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(r){window.console.error("Cannot access sessionStorage.")}}},641483:(e,t,r)=>{r.d(t,{ZP:()=>I,yl:()=>y,E8:()=>S,an:()=>R,qJ:()=>f,hD:()=>m,De:()=>w,NC:()=>b,LW:()=>E,My:()=>v,tj:()=>h,hL:()=>g});var o=r(85038),n=r(311866),s=r(221469);const a="unauthHistories",i="trackHistoryClickInternalUrl";var c=r(652382),u=r(382745);const d=["board","pin","topic","clickthrough"];let l=5e3,p=[];let _;function y(e){p.length&&(n.ZP.create("UserRegisterTrackActionResource",{actions:p}).callUpdate({showError:!1,async:!e}),p=[],_=null)}function m(e){l=e}const f=e=>{!function(e){const t=(0,c.qn)(i);if((0,c.L_)(i),t)return;let r=(0,c.qn)(a);if(r=r?r.split(","):[],r.length){const t=`${e}.${r.reduce(((e,t)=>e+"-"+t))}`;p.push({name:t,aux_data:{}})}(0,c.L_)(a)}(e),p.length&&y(!0)};function h(e,t){let r="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==r.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=r,r="track_register_action.web.invalid_action.with_percent"),p.push({name:r,aux_data:t}),_||(_=setTimeout((()=>y()),l)),function(e,t){if("undefined"!=typeof window)try{const r=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||r){const r=window.PINTEREST_DEV_REGEX||"";r&&!(e||"").match(r)||("object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(r){}}(e,t)}function g(e,t){h(e,{tags:{...t}})}function v(e){h(e,{tags:{}})}function b(e,t=!1){let r=(0,c.qn)(a);r=r?r.split(","):[],r.push(e),(0,c.Nh)(a,r.join()),v(`lex.${e}`),t&&(0,c.Nh)(i,!0)}const R=()=>{const e=(0,s.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=o.U2("_pinterest_referrer")||document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"},w=e=>{e.action&&e.event?(e.type=e.type||"other",e.trigger=e.trigger||"other",e.referrer=R(),g("LEX.conversion.1",e)):g("LEX.conversion.1.missing_tags")},E=e=>{const t=e.page_location?(r=e.page_location,(0,u.L6)(r)?"pin":(0,u.am)(r)?"board":(0,u.Xn)(r)?"login":(0,u.C$)(r)?"home":(0,u.cD)(r)?"profile":(0,u.J3)(r)?"ideas":(0,u.$Y)(r)?"article":"other"):e.page||"other";var r;const o=e.item||"none",n=e.within||"none";g(`LEX.interaction.${t}.${e.action}`,{item:o,within:n}),"visit"!==e.action&&g(`LEX.interaction.all.${e.action}`,{item:o,within:n})},S=e=>d.includes(e)?d[d.indexOf(e)]:"other",I=v}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/1466-bba7d98f60ba84d2.mjs.map