(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[63306,34098,75170],{263116:(e,n,t)=>{t.d(n,{ZP:()=>T,TA:()=>k});var i=t(667294);function o(e,n){if(null==e)return{};var t,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(o[t]=e[t]);return o}function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=t(659864),l=t(108679),c=t.n(l);function d(e,n){if(!e){var t=new Error("loadable: "+n);throw t.framesToPop=1,t.name="Invariant Violation",t}}function u(e){console.warn("loadable: "+e)}var p=i.createContext();function h(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var m={initialChunks:{}},g="PENDING",f="REJECTED";var v=function(e){return e};function _(e){var n=e.defaultResolveComponent,t=void 0===n?v:n,l=e.render,u=e.onLoad;function h(e,n){void 0===n&&(n={});var h=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),v={};function _(e){return n.cacheKey?n.cacheKey(e):h.resolve?h.resolve(e):"static"}function x(e,i,o){var r=n.resolveComponent?n.resolveComponent(e,i):t(e);if(n.resolveComponent&&!(0,a.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return c()(o,r,{preload:!0}),r}var y,b=function(e){var t,i;function a(t){var i;return(i=e.call(this,t)||this).state={result:null,error:null,loading:!0,cacheKey:_(t)},d(!t.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),t.__chunkExtractor?(!1===n.ssr||(h.requireAsync(t).catch((function(){return null})),i.loadSync(),t.__chunkExtractor.addChunk(h.chunkName(t))),s(i)):(!1!==n.ssr&&(h.isReady&&h.isReady(t)||h.chunkName&&m.initialChunks[h.chunkName(t)])&&i.loadSync(),i)}i=e,(t=a).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,a.getDerivedStateFromProps=function(e,n){var t=_(e);return r({},n,{cacheKey:t,loading:n.loading||n.cacheKey!==t})};var c=a.prototype;return c.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===f&&this.setCache(),this.state.loading&&this.loadAsync()},c.componentDidUpdate=function(e,n){n.cacheKey!==this.state.cacheKey&&this.loadAsync()},c.componentWillUnmount=function(){this.mounted=!1},c.safeSetState=function(e,n){this.mounted&&this.setState(e,n)},c.getCacheKey=function(){return _(this.props)},c.getCache=function(){return v[this.getCacheKey()]},c.setCache=function(e){void 0===e&&(e=void 0),v[this.getCacheKey()]=e},c.triggerOnLoad=function(){var e=this;u&&setTimeout((function(){u(e.state.result,e.props)}))},c.loadSync=function(){if(this.state.loading)try{var e=x(h.requireSync(this.props),this.props,j);this.state.result=e,this.state.loading=!1}catch(n){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:n?n.message:n}),this.state.error=n}},c.loadAsync=function(){var e=this,n=this.resolveAsync();return n.then((function(n){var t=x(n,e.props,{Loadable:j});e.safeSetState({result:t,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(n){return e.safeSetState({error:n,loading:!1})})),n},c.resolveAsync=function(){var e=this,n=this.props,t=(n.__chunkExtractor,n.forwardedRef,o(n,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=h.requireAsync(t)).status=g,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(n){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e.props),chunkName:h.chunkName(e.props),error:n?n.message:n}),i.status=f}))),i},c.render=function(){var e=this.props,t=e.forwardedRef,i=e.fallback,s=(e.__chunkExtractor,o(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,c=a.error,d=a.loading,u=a.result;if(n.suspense&&(this.getCache()||this.loadAsync()).status===g)throw this.loadAsync();if(c)throw c;var p=i||n.fallback||null;return d?p:l({fallback:p,result:u,options:n,props:r({},s,{ref:t})})},a}(i.Component),w=(y=b,function(e){return i.createElement(p.Consumer,null,(function(n){return i.createElement(y,Object.assign({__chunkExtractor:n},e))}))}),j=i.forwardRef((function(e,n){return i.createElement(w,Object.assign({forwardedRef:n},e))}));return j.preload=function(e){h.requireAsync(e)},j.load=function(e){return h.requireAsync(e)},j}return{loadable:h,lazy:function(e,n){return h(e,r({},n,{suspense:!0}))}}}var x=_({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var n=e.result,t=e.props;return i.createElement(n,t)}}),y=x.loadable,b=x.lazy,w=_({onLoad:function(e,n){e&&n.forwardedRef&&("function"==typeof n.forwardedRef?n.forwardedRef(e):n.forwardedRef.current=e)},render:function(e){var n=e.result,t=e.props;return t.children?t.children(n):null}}),j=w.loadable,S=w.lazy,P="undefined"!=typeof window;function k(e,n){void 0===e&&(e=function(){});var t=(void 0===n?{}:n).namespace,i=void 0===t?"":t;if(!P)return u("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var o=null;if(P){var r=h(i),s=document.getElementById(r);if(s){o=JSON.parse(s.textContent);var a=document.getElementById(r+"_ext");if(!a)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(a.textContent).namedChunks.forEach((function(e){m.initialChunks[e]=!0}))}}if(!o)return u("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var n=window.__LOADABLE_LOADED_CHUNKS__,t=n.push.bind(n);function i(){o.every((function(e){return n.some((function(n){return n[0].indexOf(e)>-1}))}))&&(l||(l=!0,e()))}n.push=function(){t.apply(void 0,arguments),i()},i()})).then(e)}var C=y;C.lib=j,b.lib=S;const T=C},108679:(e,n,t)=>{var i=t(121296),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return i.isMemo(e)?s:a[e.$$typeof]||o}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(n,t,i){if("string"!=typeof t){if(m){var o=h(t);o&&o!==m&&e(n,o,i)}var s=d(t);u&&(s=s.concat(u(t)));for(var a=l(n),g=l(t),f=0;f<s.length;++f){var v=s[f];if(!(r[v]||i&&i[v]||g&&g[v]||a&&a[v])){var _=p(t,v);try{c(n,v,_)}catch(x){}}}}return n}},396103:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0});var t="function"==typeof Symbol&&Symbol.for,i=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116;function f(e){if("object"==typeof e&&null!==e){var n=e.$$typeof;switch(n){case i:switch(e=e.type){case d:case u:case r:case a:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case l:return e;default:return n}}case g:case m:case o:return n}}}function v(e){return f(e)===u}n.typeOf=f,n.AsyncMode=d,n.ConcurrentMode=u,n.ContextConsumer=c,n.ContextProvider=l,n.Element=i,n.ForwardRef=p,n.Fragment=r,n.Lazy=g,n.Memo=m,n.Portal=o,n.Profiler=a,n.StrictMode=s,n.Suspense=h,n.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===s||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p)},n.isAsyncMode=function(e){return v(e)||f(e)===d},n.isConcurrentMode=v,n.isContextConsumer=function(e){return f(e)===c},n.isContextProvider=function(e){return f(e)===l},n.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},n.isForwardRef=function(e){return f(e)===p},n.isFragment=function(e){return f(e)===r},n.isLazy=function(e){return f(e)===g},n.isMemo=function(e){return f(e)===m},n.isPortal=function(e){return f(e)===o},n.isProfiler=function(e){return f(e)===a},n.isStrictMode=function(e){return f(e)===s},n.isSuspense=function(e){return f(e)===h}},121296:(e,n,t)=>{e.exports=t(396103)},727418:e=>{var n=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}()?Object.assign:function(e,r){for(var s,a,l=o(e),c=1;c<arguments.length;c++){for(var d in s=Object(arguments[c]))t.call(s,d)&&(l[d]=s[d]);if(n){a=n(s);for(var u=0;u<a.length;u++)i.call(s,a[u])&&(l[a[u]]=s[a[u]])}}return l}},869921:(e,n)=>{var t="function"==typeof Symbol&&Symbol.for,i=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,f=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,_=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,y=t?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var n=e.$$typeof;switch(n){case i:switch(e=e.type){case d:case u:case r:case a:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case f:case g:case l:return e;default:return n}}case o:return n}}}function w(e){return b(e)===u}n.AsyncMode=d,n.ConcurrentMode=u,n.ContextConsumer=c,n.ContextProvider=l,n.Element=i,n.ForwardRef=p,n.Fragment=r,n.Lazy=f,n.Memo=g,n.Portal=o,n.Profiler=a,n.StrictMode=s,n.Suspense=h,n.isAsyncMode=function(e){return w(e)||b(e)===d},n.isConcurrentMode=w,n.isContextConsumer=function(e){return b(e)===c},n.isContextProvider=function(e){return b(e)===l},n.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},n.isForwardRef=function(e){return b(e)===p},n.isFragment=function(e){return b(e)===r},n.isLazy=function(e){return b(e)===f},n.isMemo=function(e){return b(e)===g},n.isPortal=function(e){return b(e)===o},n.isProfiler=function(e){return b(e)===a},n.isStrictMode=function(e){return b(e)===s},n.isSuspense=function(e){return b(e)===h},n.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===_||e.$$typeof===x||e.$$typeof===y||e.$$typeof===v)},n.typeOf=b},659864:(e,n,t)=>{e.exports=t(869921)},442279:(e,n)=>{function t(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function i(e,n){return e===n}function o(e){var n=arguments.length<=1||void 0===arguments[1]?i:arguments[1],t=null,o=null;return function(){for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return null!==t&&t.length===r.length&&r.every((function(e,i){return n(e,t[i])}))||(o=e.apply(void 0,r)),t=r,o}}function r(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"==typeof e}))){var t=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return n}function s(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return function(){for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];var a=0,l=o.pop(),c=r(o),d=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(i)),u=function(e,n){for(var i=arguments.length,o=Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];var s=c.map((function(t){return t.apply(void 0,[e,n].concat(o))}));return d.apply(void 0,t(s))};return u.resultFunc=l,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}n.zB=function(e){var n=arguments.length<=1||void 0===arguments[1]?a:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var t=Object.keys(e);return n(t.map((function(n){return e[n]})),(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce((function(e,n,i){return e[t[i]]=n,e}),{})}))};var a=n.P1=s(o)},560053:(e,n)=>{var t,i,o,r;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,d=null,u=function(){if(null!==c)try{var e=n.unstable_now();c(!0,e),c=null}catch(t){throw setTimeout(u,0),t}};t=function(e){null!==c?setTimeout(t,0,e):(c=e,setTimeout(u,0))},i=function(e,n){d=setTimeout(e,n)},o=function(){clearTimeout(d)},n.unstable_shouldYield=function(){return!1},r=n.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,f=null,v=-1,_=5,x=0;n.unstable_shouldYield=function(){return n.unstable_now()>=x},r=function(){},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5};var y=new MessageChannel,b=y.port2;y.port1.onmessage=function(){if(null!==f){var e=n.unstable_now();x=e+_;try{f(!0,e)?b.postMessage(null):(g=!1,f=null)}catch(t){throw b.postMessage(null),t}}else g=!1},t=function(e){f=e,g||(g=!0,b.postMessage(null))},i=function(e,t){v=p((function(){e(n.unstable_now())}),t)},o=function(){h(v),v=-1}}function w(e,n){var t=e.length;e.push(n);e:for(;;){var i=t-1>>>1,o=e[i];if(!(void 0!==o&&0<P(o,n)))break e;e[i]=n,e[t]=o,t=i}}function j(e){return void 0===(e=e[0])?null:e}function S(e){var n=e[0];if(void 0!==n){var t=e.pop();if(t!==n){e[0]=t;e:for(var i=0,o=e.length;i<o;){var r=2*(i+1)-1,s=e[r],a=r+1,l=e[a];if(void 0!==s&&0>P(s,t))void 0!==l&&0>P(l,s)?(e[i]=l,e[a]=t,i=a):(e[i]=s,e[r]=t,i=r);else{if(!(void 0!==l&&0>P(l,t)))break e;e[i]=l,e[a]=t,i=a}}}return n}return null}function P(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}var k=[],C=[],T=1,I=null,Z=3,E=!1,A=!1,O=!1;function B(e){for(var n=j(C);null!==n;){if(null===n.callback)S(C);else{if(!(n.startTime<=e))break;S(C),n.sortIndex=n.expirationTime,w(k,n)}n=j(C)}}function R(e){if(O=!1,B(e),!A)if(null!==j(k))A=!0,t(L);else{var n=j(C);null!==n&&i(R,n.startTime-e)}}function L(e,t){A=!1,O&&(O=!1,o()),E=!0;var r=Z;try{for(B(t),I=j(k);null!==I&&(!(I.expirationTime>t)||e&&!n.unstable_shouldYield());){var s=I.callback;if("function"==typeof s){I.callback=null,Z=I.priorityLevel;var a=s(I.expirationTime<=t);t=n.unstable_now(),"function"==typeof a?I.callback=a:I===j(k)&&S(k),B(t)}else S(k);I=j(k)}if(null!==I)var l=!0;else{var c=j(C);null!==c&&i(R,c.startTime-t),l=!1}return l}finally{I=null,Z=r,E=!1}}var D=r;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){A||E||(A=!0,t(L))},n.unstable_getCurrentPriorityLevel=function(){return Z},n.unstable_getFirstCallbackNode=function(){return j(k)},n.unstable_next=function(e){switch(Z){case 1:case 2:case 3:var n=3;break;default:n=Z}var t=Z;Z=n;try{return e()}finally{Z=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=D,n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=Z;Z=e;try{return n()}finally{Z=t}},n.unstable_scheduleCallback=function(e,r,s){var a=n.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:T++,callback:r,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,w(C,e),null===j(k)&&e===j(C)&&(O?o():O=!0,i(R,s-a))):(e.sortIndex=l,w(k,e),A||E||(A=!0,t(L))),e},n.unstable_wrapCallback=function(e){var n=Z;return function(){var t=Z;Z=n;try{return e.apply(this,arguments)}finally{Z=t}}}},363840:(e,n,t)=>{e.exports=t(560053)},955982:(e,n,t)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]"]=function(){return t(530178).Z}},21570:(e,n,t)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/feedback"]=function(){return t(530178).Z}},432707:(e,n,t)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/sent"]=function(){return t(530178).Z}},51497:(e,n,t)=>{t.d(n,{Z:()=>p});var i=t(667294),o=t(40142),r=t(731164),s=t(883119),a=t(24309),l=t(785893);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const d=(e,n)=>{const t=e&&e.replace(".","_");return n&&"android-twa"===n?t&&t.substring(0,50):t};class u extends i.Component{constructor(...e){super(...e),c(this,"state",{href:void 0}),c(this,"onEvent",(()=>new Promise(((e,n)=>{"undefined"==typeof window&&n();const{filename:t,pwaType:i,imgSrc:o,isChromeOnIOS:s,isUnauth:l,category:c,viewParameter:u,viewType:p,pinId:h,imageSignature:m}=this.props,{href:g}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(o,d(t,i)),e()):s?(this.imageDownload&&this.imageDownload.click(),e()):null==g&&fetch(o,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((n=>{this.setState({href:window.URL.createObjectURL(n)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),r.Z.increment(`mweb.${l?"unauth":"auth"}.download.click.${c||"no_category"}`),(0,a.j)({event_type:82,object_id_str:h,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:m}})})))),c(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:n,imgSrc:t,isChromeOnIOS:o,pwaType:r}=this.props,{href:a}=this.state,c=null!=a&&a!==this.DOWNLOAD_ERROR;return(0,l.jsxs)(i.Fragment,{children:[e(this.onEvent),o&&t?(0,l.jsx)(s.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:t})}):c&&(0,l.jsx)(s.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:d(n,r),href:a})})]})}}const p=(0,o.connect)((({session:e})=>({pwaType:e.pwaType})),(()=>({})))(u)},110942:(e,n,t)=>{t.d(n,{DS:()=>o,ae:()=>s});var i=t(762803);const{Provider:o,Consumer:r,useHook:s}=(0,i.js)("unauthPageWrapperContext")},294534:(e,n,t)=>{t.d(n,{ER:()=>o,r5:()=>r,oB:()=>s});const i=864e5,o="postDownloadAppUpsellLastViewed",r="postDownloadAppUpsellTimesViewed",s=()=>{let e;if("undefined"==typeof window)return e;const n=localStorage.getItem(o),t=localStorage.getItem("saveSendEducationModalV3LastViewed"),s=!!(n&&Date.now()-Number(n)<i),a=!!(t&&Date.now()-Number(t)<i),l=localStorage.getItem(r)||0,c=localStorage.getItem("saveSendEducationModalV3TimesViewed")||0,d=Number(l)>=3,u=Number(c)>=5;return s||d?a||u||(e="saveSend"):e="appUpsell",e}},339223:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(530826),o=t(174523),r=t(645430),s=t(883119),a=t(18347),l=t(785893);const c=({activateSoundHapticExp:e,buttonText:n,color:t="red",deeplinkUri:c,onTouch:d,inline:u=!0,isLegoSaveStyle:p,isBounceAnimation:h,shape:m,shouldShowSavedButton:g,to:f,viewType:v,viewParameter:_,onUnsave:x,clientTrackingParams:y})=>{const b=(0,o.ZP)(),w={accessibilityLabel:b._("Pin","Pin accessibility label","Pin accessibility label"),color:t,inline:p?void 0:u,isBounceAnimation:h,minHeight:p?48:void 0,onTouch:e&&e().anyEnabled?e=>{d&&d(e),(0,a.PV)(),(0,a.gW)()}:d,onUnsave:x,pressState:"compress",shape:p?"pill":m,size:"lg",text:n||b._("Save","Auth mobile web save button for pin closeup","Auth mobile web save button for pin closeup"),to:f},j=(0,l.jsx)(s.zx,{text:w.text,accessibilityLabel:w.accessibilityLabel,size:w.size,fullWidth:w.inline,onClick:x,selected:!0}),S=c?(0,l.jsx)(r.Ai,{...w,deeplinkUri:"deeplinkUri",upsellType:"save",viewType:v,viewParameter:_,clientTrackingParams:y}):(0,l.jsx)(i.Z,{...w});return(0,l.jsx)(s.xu,{"data-test-id":"save-button-mobile",children:g?j:S})}},652651:(e,n,t)=>{t.d(n,{Z:()=>_});var i=t(40142),o=t(153010),r=t(883119),s=t(250766),a=t(18347),l=t(494936),c=t(181307),d=t(348149),u=t(964964),p=t(363167),h=t(339223),m=t(174523),g=t(785893);const f=0,v={name:"UserResource",options:{},dangerouslyDisableFetch:!0};function _({buttonText:e,clientTrackingParams:n,pinId:t,pinnedToBoardId:_,shouldShowSavedButton:x,to:y,...b}){const w=(0,m.ZP)(),j=(0,i.useSelector)((({session:e})=>e.isAuthenticated)),S=(0,i.useSelector)((e=>j?(0,s.ts)(e):null)),P=(({i18n:e,isSaved:n})=>n?{buttonText:e._("Saved","closeup.savedButton.text","Auth mobile web save button for pin closeup when user has saved the Pin being viewed"),color:"darkGray",inline:!1}:Object.freeze({}))({i18n:w,isSaved:x}),k=(0,c.tc)(a.kh);(0,u.Wf)(S?{name:"UserResource",options:{field_set_key:"board_and_pin_count",user_id:S.id}}:v);const C=(0,c.tc)(l._7),T=S&&void 0!==S.board_count&&S.board_count<5&&C().anyEnabled;(0,u.Wf)(S&&T?{name:"UserResource",options:{user_id:S.id,field_set_key:"save_behavior"}}:v);const I=null==S?void 0:S.save_behavior,Z=(0,i.useSelector)((({session:e})=>e.unauthSavePinId)),E=j&&!!Z,A=(0,d._P)({id:1000152}),O=A&&501029===A.experience_id,B=(0,g.jsx)(p.Z,{clientTrackingParams:n,experience:A,fromSaveButtonContainer:!0,activateSoundHapticExp:k,pinnedToBoardId:_,pinId:t,shape:"pill",shouldShowSavedButton:x,to:y,showSaveHandoffExperience:E,...b,...P});return O?(0,g.jsx)(o.Z,{experience:A,eligibleIds:[501029],children:B}):T&&I===f||E?B:(0,g.jsx)(r.xu,{"data-test-id":"standard-save-button",children:(0,g.jsx)(h.Z,{to:y,shouldShowSavedButton:x,clientTrackingParams:n,...b,...P,isLegoSaveStyle:!0,activateSoundHapticExp:k})})}},509928:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(667294),o=t(883119),r=t(785893);class s extends i.Component{componentDidMount(){this.anchor&&(!this.props.hash||this.props.hash&&`#${this.props.hash}`===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}render(){const e=this.props.children?i.Children.only(this.props.children):null;return(0,r.jsx)(o.xu,{ref:e=>this.anchor=e,children:e})}}},453357:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(903945),o=t(642891);const r=()=>{const e=(0,i.qn)("relatedPinsAppUpsell"),n=e&&Date.now()-e>o.s2;return!e||n}},156240:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(543919),o=t(806670);function r({action:e,collaboratedByMe:n,collaboratorPermissions:t,owner:r}){return(0,o.Z)(r)||(0,i.Z)(n)&&!(null==t||!t.includes(e))}},806670:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(328035);function o(e){return e===(0,i.b)().getState().session.userId}},543919:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(328035);function o(e){return(0,i.b)().getState().session.isAuthenticated&&e}},916706:(e,n,t)=>{t.d(n,{Z:()=>f});var i=t(667294),o=t(40142),r=t(24309),s=t(641483),a=t(883119),l=t(785893);function c({breadcrumb:e,isLastBreadcrumb:n}){var t;const i=n?"lightGray":void 0;return(0,l.jsx)(a.xu,{color:i,"data-test-id":"breadcrumb",display:"inlineBlock",paddingX:n?2:void 0,paddingY:n?1:void 0,rounding:"pill",children:(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(a.rU,{href:null!==(t=e.url)&&void 0!==t?t:"",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,s.LW)({action:"click",item:"breadcrumb"}),(0,r.j)({event_type:102,component:176,element:1155,view_parameter:3475})},children:(0,l.jsx)(a.xv,{color:"darkGray",inline:!0,size:"sm",overflow:"noWrap",children:e.name})}),!n&&(0,l.jsx)(a.xu,{paddingX:3,display:"inlineBlock",children:(0,l.jsx)(a.xv,{inline:!0,size:"sm",color:"darkGray",children:(0,l.jsx)(a.JO,{accessibilityLabel:"breadcrumb arrow",color:"darkGray",icon:"arrow-forward",size:8})})})]})})}var d=t(427908),u=t(155656),p=t(330232),h=t(174523),m=t(796821);function g({direction:e}){return(0,l.jsx)(a.xu,{width:16,height:32,position:"absolute",left:"left"===e,right:"right"===e,dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0), #fff)`}}})}function f({breadcrumbs:e,isIdeasPage:n=!1,roundedForLargeDevice:t}){const r=(0,h.ZP)(),{origin:s}=(0,o.useSelector)((e=>e.session)),f=(0,m.ml)(),v=(0,m.HG)(),[_,x]=f?[2,3]:[4,4],y=n?e.slice(0,e.length-1):e;let b=e.length>=2;return n&&e.length>=1&&(b=!0),(0,l.jsxs)(a.xu,{"data-test-id":"breadcrumbs",children:[b&&(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(u.Z,{unsafeCSS:"\n  .article-row {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"}),(0,l.jsx)(d.Z,{roundedForLargeDevice:t,children:(0,l.jsx)(a.xu,{display:"flex",alignItems:"center",direction:"column",paddingY:x,overflow:"scrollX",justifyContent:v?"center":void 0,dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},children:(0,l.jsxs)(a.xu,{display:"flex",alignItems:"center",margin:v?void 0:"auto",paddingX:_,justifyContent:"end",children:[(0,l.jsx)(g,{direction:"left"}),(0,l.jsx)(g,{direction:"right"}),[{name:r._("Explore","unauth.header.tabs.ideas","label for ideas hub"),url:"/ideas/"},...y].map(((e,n,t)=>(0,l.jsx)(c,{breadcrumb:e,isLastBreadcrumb:n===t.length-1},e.url)))]})})})]}),(0,l.jsx)(p.Z,{type:"application/ld+json",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:e.map(((e,n)=>{var t;return{"@type":"ListItem",position:n+1,name:e.name,item:`${s}${null!==(t=e.url)&&void 0!==t?t:""}`}}))}})]})}},242853:(e,n,t)=>{t.d(n,{Z:()=>d});var i=t(427908),o=t(968807),r=t(796821),s=t(883119),a=t(213162),l=t(785893);const c=({detail:e,isShowingBreadcrumbs:n,media:t,sideBySideOptions:{mainImageEventHandlers:i}})=>{const c=(0,r.ZP)(),d="desktop"===c?8:"undefined"!=typeof window&&window.screen&&window.screen.width<750?0:54,u="desktop"===c?8:10;return(0,l.jsx)(s.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,l.jsxs)(s.xu,{position:"relative",display:"flex",maxWidth:1016,overflow:"phone"!==c?void 0:"hidden",minHeight:"40vh",rounding:"desktop"===c?void 0:6,dangerouslySetInlineStyle:"phone"!==c?{__style:{justifyContent:"center"}}:{__style:{marginTop:n?0:54,marginRight:d,marginBottom:54,marginLeft:d,boxShadow:"desktop"===c?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},children:[(0,l.jsx)(o.Z,{onMouseEnter:null==i?void 0:i.onMouseEnter,onMouseLeave:null==i?void 0:i.onMouseLeave,onTouch:null==i?void 0:i.onTouch,pressState:"desktop"===c?"none":"compress",rounding:2,children:(0,l.jsx)(s.xu,{display:"phone"!==c?"block":"flex",height:"100%",justifyContent:"center",overflow:"phone"!==c?void 0:"hidden",rounding:"desktop"===c?8:void 0,width:"phone"!==c?a.Hg:"47vw",children:t})}),(0,l.jsx)(s.xu,{paddingX:"phone"!==c?0:u,width:"phone"!==c?a.Hg:"47vw",display:"flex",direction:"column",justifyContent:"between",children:e})]})})},d=({detail:e,isShowingBreadcrumbs:n,media:t,sideBySideOptions:o})=>{const d=(0,r.ZP)();return o?(0,l.jsx)(s.xu,{marginEnd:"auto",marginStart:"auto","data-test-id":"closeup-body-landscape",children:(0,l.jsx)(c,{detail:e,isShowingBreadcrumbs:n,media:t,sideBySideOptions:o})}):(0,l.jsxs)(s.xu,{marginEnd:"auto",marginStart:"auto",maxWidth:"desktop"===d?void 0:"phone"===d?a.g6:a.Hg,"data-test-id":"closeup-body-portrait",children:[n||"desktop"===d?(0,l.jsx)(i.Z,{roundedForLargeDevice:!0,children:t}):t,e]})}},859401:(e,n,t)=>{t.d(n,{LV:()=>i,bq:()=>o});const i=(0,t(667294).createContext)({isStoryPinWithProducts:!1}),o=i.Provider},571189:(e,n,t)=>{t.d(n,{Z:()=>_});var i=t(667294),o=t(40142),r=t(174523),s=t(946753),a=t(883119),l=t(785893);function c({attribution:e,embed:n}){const t=(0,r.ZP)(),{embed:i,author_url:o,url:c,author_name:d,provider_name:u,cc_url:p}=e,{type:h,src:m,subtype:g}=n||{},{src:f}=i||{},v=m||f,_=!!u&&"Unknown"!==u,x={author:(0,l.jsx)(a.xu,{display:"inlineBlock",children:(0,l.jsx)(a.rU,{hoverStyle:"none",href:o,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,l.jsx)(a.xv,{inline:!0,size:"md",weight:"bold",children:d})},"author")},"author"),provider:_?(0,l.jsx)(a.xu,{marginEnd:1,display:"inlineBlock",children:(0,l.jsx)(a.rU,{hoverStyle:"none",href:c,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,l.jsx)(a.xv,{inline:!0,size:"md",weight:"bold",children:u})},"provider")},"provider"):null};let y=_?t._("from {{ provider }}","closeup.description.imageSourceWithProvider","Image source attribution without author on pin closeup"):null;return d&&(y=v&&"gif"!==h&&"pinstory"!==g?_?t._("Video by {{ author }} on {{ provider }}","closeup.description.videoSourceWithProvider","Video source attribution on pin closeup"):t._("Video by {{ author }}","closeup.description.videoSource","Video source attribution without provider on pin closeup"):_?t._("Photo by {{ author }} on {{ provider }}","closeup.description.photoSourceWithProvider","Photo source attribution on pin closeup"):t._("Photo by {{ author }}","closeup.description.photoSource","Photo source attribution without provider on pin closeup")),(0,l.jsx)(a.xu,{display:"inlineBlock","data-test-id":"photo-attribution",children:(0,l.jsxs)(a.xv,{size:"md",inline:!0,children:[!!y&&(0,s.nk)(y,x),p&&(0,l.jsx)(a.rU,{hoverStyle:"none",href:p,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,l.jsx)(a.xv,{size:"md",inline:!0,children:t._("(cc)","creative commons link text","creative commons link text")})},"link")]})})}var d=t(410121),u=t(968807),p=t(204478),h=t(796821),m=t(747682),g=t(641483);const f=e=>new Intl.DateTimeFormat(e,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}),v=({pinDescription:e})=>{const n=(0,o.useSelector)((e=>e.session.isSeoBot)),t=(0,r.ZP)(),{isAuthenticated:s}=(0,o.useSelector)((({session:e})=>e)),[c,d]=(0,i.useState)(!1),h=(0,m.si)();return(0,l.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word"},children:n||e.length<=h?(0,l.jsx)(a.xv,{inline:!0,children:e}):(0,l.jsxs)(i.Fragment,{children:[(0,l.jsxs)(a.xv,{inline:!0,children:[c?e:(0,p.Z)(e,h)," "]}),!c&&(0,l.jsx)(a.xu,{display:"inlineBlock","data-test-id":"more-description",children:(0,l.jsx)(u.Z,{onTouch:e=>{e.preventDefault(),e.stopPropagation(),c||s||((0,g.NC)("click_open_description"),(0,g.LW)({action:"click",page:"pin",item:"more-description"})),d(!c)},pressState:"none",children:(0,l.jsx)(a.xv,{weight:"bold",inline:!0,children:c?t._("Less","Toggle less description button","Toggle less description button"):t._("More","Toggle more description button","Toggle more description button")})})})]})})};function _({attribution:e,description:n,isRecipe:t,pin:i,pinArticleDate:u}){const p=(0,r.ZP)(),m=(0,h.ZP)(),{isAuthenticated:g,locale:_}=(0,o.useSelector)((({session:e})=>e));if(!i)return null;const x=g?n:(0,d.Z)(i),y=u&&((e,n)=>{if(e){const t=31536e6,i=e.getTime(),o=(new Date).getTime();return null==n||o-i<=n*t}return!1})(u,2)&&x?(0,s.nk)(p._("{{ pinDescription }} Published on {{ date }}","closeup.details.descirptionWithPublishedDate","Pin description with publish date"),{date:f(_).format(u),pinDescription:x}).join(""):x;let b;if(e){const n=x?"{{ credit }}  · ":"{{ credit }}";b=(0,s.nk)(n,{credit:(0,l.jsx)(c,{attribution:e,embed:i.embed},"article-pin"),descriptionToDisplay:y})}return(0,l.jsxs)(a.xu,{"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",dangerouslySetInlineStyle:{__style:{textAlign:"phone"===m?"center":void 0}},children:[b,x&&!t&&(0,l.jsx)(v,{pinDescription:x})]})}},7892:(e,n,t)=>{t.d(n,{Z:()=>H});var i=t(667294),o=t(40142),r=t(571189),s=t(603859),a=t(806551),l=t(594607),c=t(551687),d=t(263116),u=t(820141),p=t(510059),h=t(164206),m=t(220345),g=t(556900),f=t(689859),v=t(509928),_=t(458841),x=t(796821),y=t(174523),b=t(110768),w=t(924731),j=t(626644),S=t(924439),P=t(899520),k=t(250766),C=t(227340),T=t(903945),I=t(946753),Z=t(181307),E=t(60489),A=t(585967),O=t(641483),B=t(883119),R=t(273298),L=t(785112),D=t(785893);const U=(0,d.ZP)({resolved:{},chunkName:()=>"Reactions-ReactionAggregation",isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>t.e(15206).then(t.bind(t,21978)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return 21978}}),M=(0,i.lazy)((()=>t.e(14305).then(t.bind(t,314305)))),$=68,N=3,z=(0,i.lazy)((()=>t.e(17426).then(t.bind(t,717426))));function H(e){var n,t;const d=(0,y.ZP)(),{annotationsWithLinks:p,board:H,id:F,isImagePinForUnauthOnTablet:W,isStoryPin:V,officialUser:G,onClickTitleOrDomain:q,pinAttributionLink:X,pinLink:Y,pinner:K,promoter:J,shouldShowReactions:Q,shouldShowSEOPinInfo:ee,vaseAnnotations:ne,viewParameter:te,viewerId:ie,pinActionBar:oe}=e,re=(0,x.ZP)(),se="desktop"===re,ae="phone"===re,{isAuthenticated:le,country:ce,locale:de}=(0,o.useSelector)((({session:e})=>e)),ue=(0,o.useSelector)((({pins:e})=>e[F])),pe=(0,o.useSelector)((({users:e})=>{const{pinner:n}=ue;return{...ue,pinner:"string"==typeof n&&e[n]||n}})),he=(0,o.useSelector)((e=>(0,k.ts)(e))),me=se?"desktopParity":"inlineHidden",ge=(0,L.Fi)({i18n:d,pin:ue,useGridTitleOrRichSummary:!0,isLego:!0}),{pinArticleDate:fe,pinAttribution:ve,pinDescription:_e,pinShippingInfo:xe,pinCredit:ye,pinCreditLink:be,pinCreditPrefix:we,pinProduct:je,pinRecipe:Se}=ge;let{pinTitle:Pe,sourceUser:ke}=ge;const Ce=ue.is_eligible_for_pdp,Te=!!G,Ie=(0,E.HV)(),Ze=(0,A.B)(),Ee=(0,Z.tc)("mweb_pdp_metadata"),{anyEnabled:Ae=!1,group:Oe=""}=Ce?Ee({dangerouslySkipActivation:!0}):{},Be=(0,Z.tc)("auth_pin_profile_rep_clickable"),Re=(0,Z.tc)("unauth_pin_profile_rep_clickable_exp");le||(Pe=(0,C.Ly)(ue,ne,p),ke||(ke=K));const Le=(0,L.AH)(ue),De=ke?"string"==typeof ke?ke:ke.id:"",Ue=!le&&!W&&!se,Me=ke&&"string"==typeof ke?null:ke,$e=X&&ye&&be&&ke||!le&&ke,Ne=V&&!le,ze=Y&&Le,He="lg"===Ie,Fe=Q&&!!ue.reaction_counts,We=!Te&&ze&&(!$e||W)||!le&&se,Ve=!ze&&!$e,Ge=!!$e&&!Ne&&!Te,qe=Fe||We||Ve||Ge,Xe=(0,R.EO)(he)&&!(0,R.V0)(he),Ye=!Ne&&!le&&("phone"===re||"tablet"),Ke=Ge&&Ye&&Re().group.startsWith("enabled_move_user_rep"),Je=Te&&Ye&&Te&&Re().group.startsWith("enabled_hide_follow_button"),Qe=Te&&le&&("phone"===re||"tablet")&&Be().anyEnabled,en=Te&&!Ne&&(0,D.jsx)(u.Z,{hideFollowButton:Je||se,justifyContent:se?"start":"center",user:G,viewerId:ie,pinId:F,pinImageSignature:ue.image_signature}),nn=Ge&&(0,D.jsxs)(B.xu,{flex:"grow",marginTop:N,"data-test-id":"CloseupUserRep",display:"flex",justifyContent:"between",alignItems:"center",width:"100%",children:[(0,D.jsx)(b.Z,{isOnCloseup:!0,isImagePinForUnauthOnTablet:W,type:"row",userId:De,viewParameter:te,viewType:3,...Me?{userBlob:Me}:Object.freeze({}),textColor:"darkGray"}),ee&&"inlineHidden"===me&&(0,D.jsx)(B.xu,{marginTop:4,children:(0,D.jsx)(_.Z,{board:H,pin:ue,pinner:K})})]}),tn=(0,D.jsx)(B.xu,{"data-test-id":"CloseupDetails",marginStart:He?4:0,children:Ce&&Ae?(0,D.jsx)(B.xu,{width:"100%",paddingY:6,paddingX:2,children:(0,D.jsx)(g.Z,{align:"enabled"===Oe?"center":"start",officialUser:G,viewerId:ie,isImagePinForUnauthOnTablet:W,onClickTitleOrDomain:q,pinTitle:Pe,offerSummary:je,pinDescription:_e,pinShippingInfo:xe,pin:ue})}):(0,D.jsxs)(B.xu,{width:"100%",padding:4,children:[oe,"phone"===re&&!Je&&!Qe&&en,We&&(0,D.jsx)(B.xu,{"data-test-id":"callToActionButton",display:Ue?"none":void 0,marginTop:Fe||ae?N:0,children:(0,D.jsx)(B.kC,{alignItems:"stretch",direction:"row",justifyContent:"phone"===re?"center":"start",width:"100%",children:(0,I.nk)(d._("{{ pinCreditPrefix }} {{ pinCredit }}","tells the user where the pin is from in the form of Saved from website","tells the user where the pin is from in the form of Saved from website"),{pinCreditPrefix:(0,D.jsx)(B.xu,{display:"inlineBlock",children:(0,D.jsx)(B.xv,{inline:!0,size:"md",children:we})},"pinCreditsPrefix"),pinCredit:(0,D.jsx)(B.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw",children:(0,D.jsx)(B.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),(0,O.ZP)("mweb_pin_page.pin_link.clickthrouh"),le||(0,O.NC)("click_pin_closeup_link_clickthrough"),q()},tapStyle:"compress",children:(0,D.jsx)(B.xv,{size:"md",weight:W?void 0:"bold",lineClamp:1,children:(0,D.jsx)("span",{style:W?{textDecoration:"underline"}:{},children:ue.domain})},"pinLinkDomain")})},"pinCredits")})})}),Ve&&(0,D.jsx)(B.xu,{display:"flex",justifyContent:"phone"===re?"center":"start",alignItems:"center",marginTop:Fe||ae?N:0,children:(0,D.jsx)(B.xv,{size:"md",children:d._("Uploaded to Pinterest","closeup.details.uploadToPinterest","This is an image only Pin that was uploaded to Pinterest")})}),"phone"===re&&!Ke&&nn,Pe&&(0,D.jsx)(B.xu,{marginTop:"phone"===re||qe?N:0,children:(0,D.jsx)(l.Z,{isImagePinForUnauthOnTablet:W,onClick:q,title:Pe,hasLink:Le})}),le&&je&&je.price&&(0,D.jsx)(B.xu,{display:"flex",justifyContent:"center",marginTop:2,marginBottom:2,children:(0,D.jsxs)(B.xv,{size:"lg",children:[je.price," · ",je.in_stock?d._("In stock","closeup.details.productPinInStock","Product pin in stock"):d._("Out of stock","Product pin out of stock","Product pin out of stock")]})}),Se&&Se.aggregate_rating&&!Xe&&(0,D.jsx)(m.Z,{boldText:!1,marginTop:N,rating:Se.aggregate_rating,textSize:"lg",pinRecipe:Se,isWideViewport:se}),(0,D.jsx)(B.xu,{marginTop:2,children:(0,D.jsx)(r.Z,{attribution:ve,description:_e,isRecipe:!!Se,pin:ue,pinArticleDate:fe})}),Fe&&(0,D.jsx)(c.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,D.jsx)(f.Z,{children:(0,D.jsx)(B.xu,{alignSelf:"center",children:(0,D.jsx)(U,{pinId:ue.id,reactionCounts:ue.reaction_counts,viewParameter:156,viewType:3,disableModal:!le})})})}),("phone"!==re||Ke)&&nn,("phone"!==re||Je||Qe)&&(0,D.jsx)(B.xu,{marginTop:4,children:en}),"desktopParity"===me&&(0,D.jsx)(B.xu,{"data-test-id":"UnauthVaseFullBleedModalContainer",dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},children:(0,D.jsx)(j.Z,{board:H,onClose:()=>{},pin:pe})}),"desktopParity"===me&&p&&p.length>0&&(0,D.jsxs)(i.Fragment,{children:[(0,D.jsx)(w.Z,{annotations:p,mode:se?"inlineWithScrollArrows":"inline"}),(0,D.jsx)(s.Z,{board:H,pin:pe})]}),J&&!se&&(0,D.jsxs)(i.Fragment,{children:[(0,D.jsx)(B.xu,{marginTop:N,children:(0,D.jsx)(B.iz,{})}),(0,D.jsxs)(B.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,D.jsx)(B.xv,{inline:!0,size:"md",weight:"bold",children:d._("Promoted Pin","Denotes promoted pin in closeup","Denotes promoted pin in closeup")}),(0,D.jsx)(c.Z,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:(0,D.jsx)(f.Z,{children:(0,D.jsx)(z,{pinId:ue.id,promoter:null!==(n=J.full_name)&&void 0!==n?n:"",type:"promoted"})})})]}),(0,D.jsx)(B.iz,{})]}),Se&&!Xe&&(0,D.jsx)(v.Z,{hash:"recipe",offset:-P.R$,children:(0,D.jsx)(h.ZP,{recipe:Se,pinLink:ue.link||"",image:(null===(t=(ue.images||{})["474x"])||void 0===t?void 0:t.url)||""})}),(0,D.jsx)(a.Z,{pin:ue}),Number((0,T.qn)("indiaUnauthLocaleShowCount",0))<=3&&!le&&"phone"===re&&"IN"===ce&&(de||"").startsWith("en")&&S.N3.includes(Ze.regionFromIp)&&(0,D.jsx)(c.Z,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:(0,D.jsx)(f.Z,{children:(0,D.jsx)(M,{})})})]})});return(0,D.jsx)(i.Fragment,{children:He?(0,D.jsx)(B.Le,{top:$,children:tn}):tn})}},603859:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(667294),o=t(641483),r=t(174523),s=t(626644),a=t(883119),l=t(785893);function c({board:e,pin:n}){const t=(0,r.ZP)(),[c,d]=(0,i.useState)(!1),u=()=>{(0,o.ZP)("unauth.topic_page.best_pin.more_info_click");const e=!c;d(e),document.body&&(document.body.style.overflow=e?"hidden":"")};return(0,l.jsxs)(a.xu,{children:[(0,l.jsxs)("button",{"data-test-id":"more-information-button",onClick:u,style:{backgroundColor:"transparent",border:0,fontSize:"12px",fontWeight:"bold",height:"13px",letterSpacing:"-0.3px",MozOsxFontSmoothing:"grayscale",outline:"none",padding:0,marginTop:"16px",WebkitFontSmoothing:"antialiased"},children:[t._("More information","bestpincard.vasetags.moreinformation","Link to show more information modal"),"..."]}),(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{visibility:c?"":"hidden"}},children:(0,l.jsx)(s.Z,{board:e,pin:n,onClose:u,zIndex:3})})]})}},912865:(e,n,t)=>{t.d(n,{Z:()=>Z});var i=t(667294),o=t(40142),r=t(787521),s=t(800471),a=t(968807),l=t(549156),c=t(87075),d=t(174523),u=t(796821),p=t(158961),h=t(641483),m=t(883119),g=t(785893);const f=16;function v({onClickVisitButton:e,visitButtonText:n,setShowClickthroughOverlay:t}){const o=(0,d.ZP)(),r=(0,p.g)(),s=null==r?void 0:r.showSignupModal,[v,_]=(0,i.useState)(f),x=(0,i.useRef)(),y=(0,u.HG)(),b=(0,c.Z)(),w=()=>{const e=document.getElementById("relatedPins");if(e&&x.current){var n;const t=e.getBoundingClientRect(),i=null===(n=x.current)||void 0===n?void 0:n.getBoundingClientRect(),o=((null==i?void 0:i.bottom)||0)-t.top;_(o>0?Math.abs(Math.round(o))+f:f)}};(0,i.useEffect)((()=>(window.addEventListener("scroll",w),w(),()=>{window.removeEventListener("scroll",w)})),[]);const{isHidden:j}=b;return(0,i.useEffect)((()=>{j&&v!==f&&_(f)}),[v,j]),(0,g.jsx)(m.iP,{onTap:({event:e})=>{s&&(e.preventDefault(),(0,h.ZP)("mweb.unauth.pin_wash.conversion.click"),s("signup",{source:"defaultSource",container:"pinWash"}))},children:(0,g.jsxs)(m.xu,{zIndex:new m.Ry(2),children:[(0,g.jsx)(m.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",direction:"column",position:"absolute",ref:x,"data-test-id":"main-pin-hover-overlay",children:(0,g.jsx)(m.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:(0,g.jsx)(m.xu,{marginTop:8,children:(0,g.jsx)(m.X6,{size:"sm",align:"center",color:"white",children:y?o._("Click to make the most out of this idea with a free account","web.unauth.plp.clickable_wash.header","Copy shown on hover to sign up for an account"):o._("Tap to make the most out of this idea with a free account","mweb.unauth.plp.clickable_wash.header","Pin clickable wash header text")})})})}),(0,g.jsxs)(m.xu,{direction:"row",display:"flex",height:48,paddingX:4,opacity:.8,justifyContent:"between",width:508,alignItems:"center",position:"absolute",dangerouslySetInlineStyle:{__style:{bottom:`${v}px`,paddingLeft:f,transition:"bottom 0.25s"}},children:[(0,g.jsx)(a.Z,{onTouch:e,pressState:"compress",rounding:2,children:(0,g.jsxs)(m.xu,{alignItems:"center",color:"lightGray","data-test-id":"visit-button",direction:"row",display:"flex",height:48,opacity:.8,padding:3,rounding:"pill",children:[(n||"").includes(".")&&(0,g.jsx)(m.kC,{alignItems:"stretch",justifyContent:"start",children:(0,g.jsx)(m.JO,{accessibilityLabel:o._("Visit","Accessibility label for visit icon","Accessibility label for visit icon"),color:"darkGray",icon:"arrow-up-right",inline:!0,size:12})}),(0,g.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:8}},children:(0,g.jsx)(m.xv,{color:"darkGray",size:"lg",weight:"bold",children:n||o._("Visit","Text on a button that lets them visit the source of the pin","Text on a button that lets them visit the source of the pin")})})]})}),!b.isHidden&&(0,g.jsx)(l.Z,{id:"main-pin-expand-button",children:(0,g.jsx)(m.hU,{icon:"maximize",size:"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:"Expand pin image",onClick:({event:e})=>{e.stopPropagation(),(0,h.ZP)("mweb_pin_page.pin_image.enlarge_image"),(0,h.NC)("click_expand_image"),(0,h.LW)({action:"click",page:"pin",item:"expand-button",within:"pin-image"}),b.hide()}})})]}),!y&&(0,g.jsx)(m.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,g.jsx)(m.hU,{icon:"cancel",iconColor:"white",onClick:({event:e})=>{e.stopPropagation(),t&&t(!1)},accessibilityLabel:o._("Close pin clickable wash","mweb.unauth.plp.clickable_wash.close_button","Close button")})})]})})}var _=t(437523),x=t(202861),y=t(131546),b=t(250766),w=t(192470),j=t(931185),S=t(24309),P=t(110942),k=t(213162),C=t(273298),T=t(855168);const I=({children:e})=>{var n;const t=(0,o.useSelector)((e=>e.session.isAuthenticated)),i=(0,T.k6)(),r=(0,T.$B)(),s=null===(n=(0,T.TH)().state)||void 0===n?void 0:n.trackingParams;return t?(0,g.jsx)(a.Z,{onTouch:e=>{e.preventDefault(),e.stopPropagation(),i&&r&&r.params&&r.params.id&&i.push(`/pin/${r.params.id}#${w.v}`,{trackingParams:s})},pressState:"compress",fullWidth:!0,children:e}):e},Z=e=>{const n=(0,d.ZP)(),{alt:t,clickthroughOverlayOptions:l,color:p,isFlashlightPage:f,naturalHeight:w,naturalWidth:Z,placeholder:E,pwtElementTimingId:A,pwtSurfaceContext:O,setShowClickthroughOverlay:B,showFlashlightIcon:R,showSpinner:L,src:D,viewParameter:U}=e,M=(0,_.Z)(),$=(0,T.k6)(),N=(0,T.$B)(),z=!M,{isAuthenticated:H}=(0,o.useSelector)((e=>e.session)),F=(0,x.Z)(),{setHasScrolledPastMainContent:W}=(0,P.ae)()||{},V=(0,i.useRef)(),G=(0,o.useSelector)((e=>(0,b.ts)(e))),[q,X]=(0,i.useState)(!z||!!D&&!!E&&E===D),Y=()=>{O&&O.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)((()=>{const e=new Image;e.onload=()=>X(!0),e.src=D}),[]),(0,i.useEffect)((()=>{W&&V.current&&W(F>V.current.offsetTop+V.current.offsetHeight)}),[F,W]);const K=(0,u.ZP)(),J=!f&&"tablet"===K,Q=f?40:44,ee=z?(0,g.jsx)(s.Z,{alt:t,color:p,elementTiming:A,naturalHeight:w,naturalWidth:Z,src:E,onLoad:Y}):null,ne=(0,c.Z)(),te=!!R&&(H||ne.isHidden)&&!((0,C.EO)(G)&&!(0,C.V0)(G));return(0,g.jsx)(I,{children:(0,g.jsxs)(m.xu,{"data-test-id":"pin-closeup-image",maxHeight:"100%",maxWidth:"tablet"===K?k.g6:void 0,overflow:R?void 0:"hidden",position:"relative",width:f||"phone"===K?"100%":"desktop"===K?508:k.Hg,rounding:f||"phone"===K?0:6,ref:V,children:[!H&&l&&(0,g.jsx)(r.Z,{isImagePinForUnauthOnTablet:!1,children:(0,g.jsx)(v,{onClickVisitButton:e=>{e.preventDefault(),e.stopPropagation(),l.onConfirm()},visitButtonText:l.visitButtonText,setShowClickthroughOverlay:B})}),ee&&(J?(0,g.jsx)(m.xu,{rounding:6,overflow:"hidden",children:ee}):ee),(0,g.jsx)(m.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:q?1:0,transition:q&&"desktop"!==K?"opacity .5s ease-in-out":void 0}},left:!0,position:z?"absolute":"relative",right:!0,rounding:J?6:5,overflow:J?"hidden":void 0,top:!0,children:z?(0,g.jsx)(m.Ee,{alt:t,naturalHeight:w,naturalWidth:Z,src:D}):(0,g.jsx)(s.Z,{alt:t,color:p,elementTiming:A,naturalHeight:w,naturalWidth:Z,src:D,onLoad:Y})}),L&&(0,g.jsx)(m.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:q?0:1,transition:q?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!q&&(0,g.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(m.$j,{accessibilityLabel:n._("Loading image","Loading higher resolution image","Loading higher resolution image"),show:!0})})}),te&&(0,g.jsx)(m.Le,{bottom:H&&f?y.Zk:0,zIndex:new m.Ry(0),children:(0,g.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{marginTop:f?-64:-76}},display:"flex",flex:"none",justifyContent:"end",padding:f?3:4,position:"relative",children:(0,g.jsx)(m.xu,{display:"inlineBlock",children:(0,g.jsx)(a.Z,{onTouch:e=>{H||((0,h.ZP)("mweb_pin_page.flashlight_icon_click"),(0,h.LW)({action:"click",page:"pin",item:"visual-search-icon",within:"pin-image"})),e.preventDefault(),e.stopPropagation(),(0,S.So)({component:128,element:234,view_parameter:U,view_type:3}),$&&N&&N.params&&N.params.id&&$.push(`/pin/${N.params.id}/visual-search/`)},pressState:"compress",children:(0,g.jsx)(m.xu,{"data-test-id":"visual-search-icon",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)"}},display:"flex",height:Q,justifyContent:"center",padding:1,rounding:"pill",width:Q,children:(0,g.jsx)(m.JO,{accessibilityLabel:n._("Visual search","Button to search for visually similar Pins","Button to search for visually similar Pins"),color:(0,j.Yc)()?"lightGray":"darkGray",icon:"flashlight",size:24})})})})})})]})})}},977764:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(174523),o=t(883119),r=t(785893);const s=({pin:e})=>{var n;const t=(0,i.ZP)();return(0,r.jsx)(o.xu,{column:12,dangerouslySetInlineStyle:{__style:{paddingBottom:"50%"}},overflow:"hidden",position:"relative",rounding:2,children:(0,r.jsx)("iframe",{allowFullScreen:!0,frameBorder:0,src:e.embed&&(null===(n=e.embed.src)||void 0===n?void 0:n.replace("http://","https://")),style:{width:"100%",height:"100%",position:"absolute",border:0},title:t._("Embedded content","Embedded iframe accessibility title","Embedded iframe accessibility title")})})}},155357:(e,n,t)=>{t.d(n,{Z:()=>X});var i=t(667294),o=t(40142),r=t(242853),s=t(7892),a=t(977764),l=t(29895),c=t(928527),d=t(86037),u=t(551687),p=t(481362),h=t(215484),m=t(227994),g=t(39692),f=t(263116),v=t(315297),_=t(288453),x=t(510059),y=t(126965),b=t(689859),w=t(414653),j=t(561554),S=t(634746),P=t(174523),k=t(749897),C=t(227340),T=t(652382),I=t(642891),Z=t(509044),E=t(24309),A=t(181307),O=t(723612),B=t(60489),R=t(796821),L=t(650401),D=t(158961),U=t(641483),M=t(785112),$=t(534435),N=t(883119),z=t(855168),H=t(785893);const F=(0,f.ZP)({resolved:{},chunkName:()=>"CloseupVideo",isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>Promise.all([t.e(67631),t.e(91564)]).then(t.bind(t,272909)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return 272909}}),W=(0,f.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupBodyOnDesktop",isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>Promise.all([t.e(97270),t.e(67631),t.e(73246),t.e(55709),t.e(29164)]).then(t.bind(t,255695)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return 255695}}),V=(0,f.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupBodyOnMobile",isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>Promise.all([t.e(67631),t.e(73246),t.e(34258)]).then(t.bind(t,783196)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return 783196}}),G=(0,i.lazy)((()=>t.e(56164).then(t.bind(t,911542)))),q=({deepLink:e,onContinue:n,onDismiss:t})=>{const{isAuthenticated:r}=(0,o.useSelector)((({session:e})=>e)),{viewParameter:s}=(0,O.Rf)(),a=(0,z.TH)();return(0,H.jsx)(d.Z,{children:o=>(0,H.jsx)(i.Fragment,{children:(0,H.jsx)(u.Z,{name:"SafeSuspense_CloseupMainPin_NativeAppUpsell",children:(0,H.jsx)(b.Z,{children:(0,H.jsx)(G,{isEasyDismiss:!0,onContinue:()=>{(0,U.ZP)(`mweb.${r?"auth":"unauth"}_app_upsell.clickthrough`),n()},onDismiss:()=>{(0,U.ZP)(`mweb.${r?"auth":"unauth"}_app_upsell.dismissed`),t()},onOpenInApp:()=>{(0,U.ZP)(`mweb.${r?"auth":"unauth"}_app_upsell.app`),o(e),(0,E.j)({event_type:1701,view_type:3,view_parameter:s})},to:a,viewParameter:s,viewType:3})})})})})};function X({actionBarIsMinifiedToMainPinImage:e,board:n,clickthroughInterstitialExperience:t,closeupIsFirstPageInHistoryStack:d,isSendPinModalOpen:u,isShowingBreadcrumbs:f,isImagePinForUnauthOnTablet:x,onLinklessPinTap:b,onMoreButtonClick:G,onSendPin:X,pin:Y,pinAttributionLink:K,pinCloseupExperience:J,pinnedToBoardId:Q,pinner:ee,promoter:ne,relatedTabsExpGroup:te,relatedPinsTitleRef:ie,shouldShowReactions:oe,shouldShowSEOPinInfo:re,trimmedUserNote:se,viewerId:ae,pinActionBar:le}){var ce,de,ue,pe,he,me,ge,fe;const{isAuthenticated:ve,canUseNativeApp:_e,unauthInterstitialDismissed:xe}=(0,o.useSelector)((({session:e})=>e)),ye=(0,P.ZP)(),{clientTrackingParams:be,isStoryPin:we,viewParameter:je}=(0,O.Rf)(),Se=(0,z.TH)(),Pe=(0,z.k6)(),ke=(0,o.useDispatch)(),Ce=(0,B.HV)(),Te=(0,R.HG)(),[Ie,Ze]=(0,i.useState)(!1),[Ee,Ae]=(0,i.useState)(!1),[Oe,Be]=(0,i.useState)(!1),Re=!xe&&Ie;(0,i.useEffect)((()=>{Ae(!1)}),[Y]),(0,i.useEffect)((()=>{Be(!1)}),[Y.id]),(0,i.useEffect)((()=>{Re&&ke((0,$.W)())}),[Re,ke]);const Le=(0,M.rM)(Y),De=(0,S.Z)({clickthroughInterstitialExperience:t,linklessOptions:Le?{actionBarIsMinifiedToMainPinImage:e,onTap:b}:void 0,pinId:Y.id}),Ue=(0,L.lv)(),Me=(0,D.g)(),$e=(0,A.tc)("unauth_mweb_clickthrough_upsell_simplification"),Ne=null==Me?void 0:Me.pinLinkClickHandler,ze=()=>{if(ve||Te||!Ue)return De(),void(Ne&&Ne());if(!Y.link)return;const{dispatch:e,prioritizeOverNativeAppUpsellTime:n,upsellIsEnabledGlobally:t}=Ue,i=(0,p.Z)({appUpsellIsAvailable:()=>!Ie&&_e&&(0,Z.kp)(!0),signupUpsellIsAvailable:()=>t()&&!(0,T.qn)("openUnauthType"),signupUpsellIsPrioritizedOverAppUpsell:()=>!!n&&Date.now()-n<=I.IZ,expGroup:$e().group});switch(i){case"app":ke((0,$.e6)()),Ze(!0);break;case"signup":case"signup_and_prioritize_over_app":e({type:"UPSELL_SIGNUP_MODAL",attributionLabel:"clickthrough",now:Date.now()}),"signup_and_prioritize_over_app"===i&&e({type:"UPDATE_PRIORITY_OVER_NATIVE_APP_UPSELL",now:Date.now()});break;default:De()}},He=()=>{(0,U.NC)("click_pin_closeup_image"),(0,U.LW)({action:"click",page:"pin",item:"pin-image"}),(0,v.Z)((Y.mobile_link?"mobile":Y.tracked_link&&"tracked")||Y.link&&"external"||"original"),!ve&&Ee?Pe.push("/signup"):ve?(0,M.RX)(Y)&&!Le?Pe.push({...Se,hash:M.rV}):De():Ae(!Ee)},Fe=(0,M.Wv)(Y),{vaseAnnotations:We,annotationsWithLinks:Ve}=(0,C.eK)(Y),Ge=!!ee&&ee.id===ae,qe=Y.is_eligible_for_pdp,Xe=(0,h.Z)(Y),Ye=(0,A.tc)("mweb_pdp_metadata"),{anyEnabled:Ke=!1}=qe?Ye():{},Je=(0,A.tc)("mweb_v1_idea_pin_deprecation_message");return(0,H.jsx)(c.Z,{clientTrackingParams:be,pinId:Y.id,pinImageUrl:null!==(ce=null===(de=Y.images)||void 0===de||null===(ue=de["236x"])||void 0===ue?void 0:ue.url)&&void 0!==ce?ce:"",viewParameter:je,children:(0,H.jsxs)(N.xu,{"data-test-id":"CloseupMainPin",maxWidth:"100%",position:"relative",children:[e&&(0,H.jsx)(g.Z,{onMoreButtonTap:G,onSendButtonTap:X}),Ie&&(0,H.jsx)(q,{deepLink:`pin/${Y.id}`,onContinue:()=>{De(),Ze(!1),ve||(Ue&&Ue.dispatch({type:"UPDATE_PRIORITY_OVER_NATIVE_APP_UPSELL",now:Date.now()}),Ae(!1))},onDismiss:()=>Ze(!1)}),we?Te?(0,H.jsx)(W,{pin:Y,annotationsWithLinks:Ve}):(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(V,{board:n,clientTrackingParams:be,onMoreButtonClick:G,pin:Y,pinCloseupExperience:J,pinnedByViewer:Ge,pinnedToBoardId:Q,pinner:ee,trimmedUserNote:se,viewParameter:je,viewType:3}),!x&&(0,H.jsx)(s.Z,{board:n,id:Y.id,isStoryPin:!0,onClickTitleOrDomain:ve?He:ze,pinAttributionLink:K,pinLink:(0,M.Zt)(Y),pinnedByViewer:Ge,pinner:ee,promoter:ne,shouldShowReactions:oe,shouldShowSEOPinInfo:re,viewParameter:je})]}):(0,H.jsx)(r.Z,{isShowingBreadcrumbs:f,sideBySideOptions:"lg"===Ce||Te?{mainImageEventHandlers:Fe?void 0:Te?{onMouseEnter:()=>Ae(!0),onMouseLeave:()=>Ae(!1)}:{onTouch:e=>{e.stopPropagation(),e.preventDefault(),He()}}}:null,media:(0,H.jsx)(w.Z,{clientTrackingParams:be,component:85,viewParameter:je,children:Fe?(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(F,{isAuthenticated:ve,isFirstPageInHistoryStack:d,isSendPinModalOpen:u,m3u8:Y.videos&&(null===(pe=Y.videos.video_list)||void 0===pe?void 0:pe.V_HLSV4),mp4:Y.videos&&(null===(he=Y.videos.video_list)||void 0===he?void 0:he.V_720P),onSendPin:X,pinId:Y.id,pinTitle:Y.title||"",rpTitleRef:ie}),(0,H.jsx)(k.ZP,{pin:Y,video:Y.videos&&(null===(me=Y.videos.video_list)||void 0===me?void 0:me.V_HLSV4)||Y.videos&&(null===(ge=Y.videos.video_list)||void 0===ge?void 0:ge.V_720P)})]}):(0,M.cL)(Y)?(0,H.jsx)(a.Z,{pin:Y}):qe&&Xe&&Ke?(0,H.jsx)(y.Z,{pin:Y,viewParameter:je}):Y.images?(0,H.jsx)(l.Z,{actionBarIsMinifiedToMainPinImage:e,clickthrough:Ee?ze:void 0,onImageClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),He()},pin:Y,pinner:ee,promoter:ne,shouldShowSEOPinInfo:re,viewParameter:je,setShowClickthroughOverlay:Ae}):(0,H.jsx)(i.Fragment,{children:null})}),detail:(0,H.jsx)(s.Z,{board:n,id:Y.id,isImagePinForUnauthOnTablet:x,officialUser:null===(fe=Y.link_domain)||void 0===fe?void 0:fe.official_user,onClickTitleOrDomain:ze,pinActionBar:e?null:le,pinAttributionLink:K,pinLink:(0,M.Zt)(Y),pinner:ee,pinnedByViewer:Ge,promoter:ne,shouldShowReactions:oe,shouldShowSEOPinInfo:re,vaseAnnotations:We,annotationsWithLinks:Ve,viewParameter:je,viewerId:ae})}),(0,H.jsx)(m.Z,{pin:Y,pinner:ee}),!ve&&!Te&&!(null!=te&&te.includes("without_modules"))&&(0,H.jsx)(j.Z,{pin:Y,pinnerId:ee.username}),!!Y.is_v1_idea_pin&&!Oe&&Je().anyEnabled&&(0,H.jsx)(_.Z,{isSlideUp:!0,isOpen:!0,onDismiss:()=>{(0,E.j)({event_type:102,view_type:3,view_parameter:je,element:12511}),Be(!0)},hideCloseIcon:!0,overrideBackgroundColor:"transparent",overrideBorder:"none",children:(0,H.jsx)(N.xu,{rounding:6,padding:6,marginBottom:3,color:"white",children:(0,H.jsxs)(N.kC,{gap:4,direction:"column",alignItems:"center",justifyContent:"center",children:[(0,H.jsx)(N.xv,{align:"center",children:ye._("This Pin was created with early test tools that no longer exist, so parts of the content may be permanently missing.","storyPinCloseup.MobileModal.V1DeprecationMessage","Message letting user know that V1 Idea Pins are deprecated.")}),(0,H.jsx)(N.zx,{color:"red",text:ye._("Got it","storyPinCloseup.MobileModal.V1DeprecationAcknowledgementButton","Button for user's acknowledgement of V1 idea pins deprecation."),onClick:()=>{(0,E.j)({event_type:102,view_type:3,view_parameter:je,element:12511}),Be(!0)}})]})})})]})})}},29895:(e,n,t)=>{t.d(n,{B:()=>j,Z:()=>P});var i=t(667294),o=t(912865),r=t(427908),s=t(968807),a=t(174523),l=t(883119),c=t(227340),d=t(715930),u=t(641483),p=t(723612),h=t(796821),m=t(226806),g=t(946753),f=t(660310),v=t(855168),_=t(158961),x=t(785112),y=t(785893);const b=({children:e,onTap:n})=>{const[t,o]=(0,i.useState)(!1);return(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,y.jsx)(l.iP,{onTap:n,onBlur:()=>o(!1),onFocus:()=>o(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:e})})},w=({desktopContextMenuState:e,pin:n,pinner:t})=>{var o,r;const{showSignupModal:s}=(0,_.g)()||{},c=(0,a.ZP)(),d=(0,v.k6)(),p=(0,x.P0)(n),h=(0,x.Fi)({i18n:c,pin:n});let{sourceUser:m}=h;var w;m&&"string"!=typeof m||(m=null!==(w=n.link_domain)&&void 0!==w&&w.official_user?n.link_domain.official_user:t);const{full_name:j,username:S}=m,P=(null===(o=n.pin_join)||void 0===o?void 0:o.seo_breadcrumbs)&&n.pin_join.seo_breadcrumbs[0],k=null==P?void 0:P.name,C=null==P?void 0:P.url,[T]=(null===(r=n.pin_join)||void 0===r?void 0:r.visual_annotation)||[],I=(0,f.NO)(T),Z=`/search/pins/?q=${encodeURIComponent(I)}&rs=image_only_attribution`;return p?(0,y.jsxs)(l.xu,{position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new l.Ry(99999),color:"white",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,y.jsx)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,y.jsx)(l.JO,{icon:"pinterest",accessibilityLabel:c._("Pinterest logo","dweb.unauth.context_menu.pinterest_logo","Pinterest logo in the context menu"),color:"red"})}),(0,y.jsx)(b,{onTap:()=>{(0,u.ZP)("dweb.unauth.context_menu.save_image"),s("signup",{source:"saveButtonExp",container:"save"})},children:(0,y.jsx)(l.xv,{size:"md",weight:"bold",children:c._("Save image","dweb.unauth.context_menu.link.save_image","Link to save the image")})}),(T||!(!k||!C))&&(0,y.jsx)(b,{onTap:()=>{(0,u.ZP)("dweb.unauth.context_menu.see_more_pins"),C?d.push(`${C}`):d.push(Z)},children:k?(0,y.jsx)(l.xv,{size:"md",weight:"bold",lineClamp:2,children:(0,g.nk)(c._("See more ideas about {{levelOneInterestName}}","dweb.unauth.context_menu.link.see_more_ideas.l1","Link to see similar pins"),{levelOneInterestName:k})}):(0,y.jsx)(l.xv,{size:"md",weight:"bold",lineClamp:2,children:(0,g.nk)(c._("See more ideas about {{interestTag}}","dweb.unauth.context_menu.link.see_more_ideas.interest_tag","Link to see similar pins"),{interestTag:T})})}),!(!j||!S)&&(0,y.jsx)(b,{onTap:()=>{(0,u.ZP)("dweb.unauth.context_menu.more_from_creator"),d.push(`/${S}/`)},children:(0,y.jsx)(l.xv,{size:"md",weight:"bold",lineClamp:2,children:(0,g.nk)(c._("See more from {{full_name}}","dweb.unauth.context_menu.link.more_from_creator","Link to see more ideas from this creator"),{full_name:j})})}),(0,y.jsx)(i.Fragment,{children:(0,y.jsx)(b,{onTap:()=>{(0,u.ZP)("dweb.unauth.context_menu.login_signup"),s("login")},children:(0,y.jsx)(l.xv,{size:"md",weight:"bold",children:c._("Log in or sign up for more","dweb.unauth.context_menu.link.login_signup","Link to log in or sign up")})})})]}):null},j="236x",S=({children:e,onTouch:n})=>{const t=(0,h.HG)();return(0,y.jsx)(r.Z,{roundedForLargeDevice:!0,children:t?e:(0,y.jsx)(s.Z,{onTouch:e=>{e.preventDefault(),e.stopPropagation(),n()},pressState:"compress",fullWidth:!0,children:e})})};function P({actionBarIsMinifiedToMainPinImage:e,clickthrough:n,onImageClick:t,pin:r,pinner:s,promoter:g,setShowClickthroughOverlay:f,shouldShowSEOPinInfo:v,viewParameter:_}){var b,P,k,C;const T=(0,a.ZP)(),I=(0,m.EV)(),Z=(0,p.Rf)(),E=(0,h.HG)(),{images:A}=r,O=(null==A?void 0:A[j])||(null==A?void 0:A["136x136"]),B=O&&!(null!=A&&A[j]),R=(0,x.P0)(r,E?void 0:"736x"),L=(0,c.hP)(null!==(b=r.description)&&void 0!==b?b:"",r.description_html||"",r.pin_join),D=v?L:T._("Pin image","Pin closeup image","Pin closeup image"),[U,M]=(0,i.useState)(null),$=!!U;return(0,i.useEffect)((()=>{const e=()=>{M(null),(0,u.My)("dweb.unauth.context_menu.click_away")};return $&&document.addEventListener("click",e),()=>{$&&document.removeEventListener("click",e)}}),[$]),(0,y.jsx)(l.xu,{position:"relative",width:"100%",children:(0,y.jsx)(S,{onTouch:t,children:(0,y.jsxs)(l.xu,{display:"flex",justifyContent:"center",onContextMenu:E?e=>{e.preventDefault(),(0,u.My)("dweb.unauth.context_menu.open_menu"),M({xPosition:e.clientX,yPosition:e.clientY})}:void 0,children:[U&&E&&(0,y.jsx)(w,{desktopContextMenuState:U,pin:r,pinner:s}),(0,y.jsx)(o.Z,{alt:D,color:r.dominant_color||"#efefef",naturalHeight:null!==(P=null==O?void 0:O.height)&&void 0!==P?P:1,naturalWidth:null!==(k=null==O?void 0:O.width)&&void 0!==k?k:1,clickthroughOverlayOptions:n?{onConfirm:n,visitButtonText:"Uploaded by user"===r.domain?T._("Uploaded by user","pin.default_domain","default domain for the pin"):r.domain||""}:void 0,setShowClickthroughOverlay:f,placeholder:null!==(C=null==O?void 0:O.url)&&void 0!==C?C:"",pwtElementTimingId:d.fN,pwtSurfaceContext:I,showFlashlightIcon:!(E||n||Z.isAuthenticated&&(g||(0,x.sY)(r)||e)),showSpinner:Boolean(B),src:R,viewParameter:_},r.id)]})})})}},928527:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(120818),o=t(128833),r=t(855168),s=t(785893);const a=({children:e,clientTrackingParams:n,pinId:t,pinImageUrl:a,viewParameter:l})=>{const c=(0,r.k6)();return(0,s.jsx)(o.dL,{auxData:{closeup_navigation_type:(0,i.Z)(c)},component:85,loggingId:t,impressionData:{imageURL:a,type:13},trackingParams:n,slotIndex:-1,viewData:{pin_id:t},viewParameter:l,viewType:3,children:e},t)}},723612:(e,n,t)=>{t.d(n,{qd:()=>o,Rf:()=>s});var i=t(762803);const{Provider:o,Consumer:r,useHook:s}=(0,i.ZP)("CloseupPageContext")},841888:(e,n,t)=>{t.d(n,{Z:()=>l});var i=t(263116),o=t(723612),r=t(785893);const s=(0,i.ZP)({resolved:{},chunkName:()=>"CloseupRelatedModules-CloseupRelatedModulesContainer",isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>t.e(266).then(t.bind(t,679322)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return 679322}}),a=(0,i.ZP)({resolved:{},chunkName:()=>"unauth-UnauthCloseupRelatedContent",isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>t.e(99702).then(t.bind(t,340490)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return 340490}});function l({hideMainPin:e,interestId:n,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:i,pin:l,relatedPinsTitleRef:c,relatedTabsExpGroup:d}){const{isAuthenticated:u}=(0,o.Rf)();return u?(0,r.jsx)(s,{onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:i,pin:l,relatedPinsTitleRef:c}):(0,r.jsx)(a,{hideMainPin:e,interestId:n,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:i,pin:l,relatedPinsTitleRef:c,relatedTabsExpGroup:d})}},806551:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(40142),o=t(151101),r=t(174523),s=t(946753),a=t(883119),l=t(785893);function c({pin:e}){const n=(0,r.ZP)(),t=(0,i.useSelector)((({session:e,users:n})=>n[e.userId])),c=(0,i.useSelector)((({boards:n})=>n[e.board])),d=!("quick_creates"!==(null==c?void 0:c.layout)),{pinner:u,section:p}=e||{},{id:h,image_medium_url:m,username:g}=t||{};if(h===u&&!d){let e;if(null!=p&&p.title&&p.slug){const t=`${c.url}${p.slug}/`;e=(0,s.nk)(n._("{{ you }} {{ savedTo }} {{ sectionName }}","closeup.savedAttribution.section","Showing that you saved this pin to a section within a board on closeup"),{you:(0,l.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,l.jsx)(a.rU,{href:`/${g}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,l.jsx)(a.xv,{size:"lg",weight:"bold",children:n._("You","closeup.savedAttribution.user","This is the user")})},"author")},g),savedTo:(0,l.jsx)(a.xu,{children:(0,l.jsx)(a.xv,{size:"lg",children:n._("saved to","closeup.savedAttribution.savedTo","saved to text")})},"saved-to"),sectionName:(0,l.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,l.jsx)(a.rU,{href:t,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,l.jsx)(a.xv,{size:"lg",weight:"bold",lineClamp:1,children:p.title})},"section")},t)})}else e=(0,s.nk)(n._("{{ you }} {{ savedTo }} {{ boardName }}","closeup.savedAttribution.board","Indicating you saved this pin to a board on closeup"),{you:(0,l.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,l.jsx)(a.rU,{href:`/${g}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,l.jsx)(a.xv,{inline:!0,size:"lg",weight:"bold",children:n._("You","closeup.savedAttribution.user","This is the user")})},"author")},g),savedTo:(0,l.jsx)(a.xu,{children:(0,l.jsx)(a.xv,{size:"lg",children:n._("saved to","closeup.savedAttribution.savedTo","saved to text")})},"saved-to"),boardName:(0,l.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,l.jsx)(a.rU,{href:c.url,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,l.jsx)(a.xv,{inline:!0,size:"lg",weight:"bold",children:c.name})},"author")},c.url)});return(0,l.jsxs)(a.xu,{display:"flex",direction:"row",maxWidth:"100%",marginTop:12,"data-test-id":"saved-attribution",children:[(0,l.jsx)(a.xu,{display:"flex",flex:"shrink","data-test-id":"saved-attribution-avatar",children:(0,l.jsx)(a.iP,{rounding:"circle",children:(0,l.jsx)(a.rU,{href:`/${g}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,l.jsx)(o.Z,{size:"md",name:g,src:null!=m?m:""})},"profile")})}),(0,l.jsx)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:(0,l.jsx)(a.xu,{"data-test-id":"saved-attribution-board-or-section",alignItems:"baseline",display:"flex",marginStart:2,children:e})})]})}return null}},594607:(e,n,t)=>{t.d(n,{Z:()=>m});var i=t(40142),o=t(968807),r=t(509928),s=t(796821),a=t(899520),l=t(250766),c=t(641483),d=t(883119),u=t(273298),p=t(785893);const h=({children:e,handleTap:n})=>n?(0,p.jsx)(o.Z,{onTouch:n,pressState:"compress",children:e}):e;function m({isImagePinForUnauthOnTablet:e,onClick:n,title:t,hasLink:o,forceSmallerHeading:m,textAlign:g}){const f=(0,s.ZP)(),{isAuthenticated:v,isSeoBot:_}=(0,i.useSelector)((({session:e})=>e)),x=(0,i.useSelector)((e=>(0,l.ts)(e))),y=(0,u.EO)(x)&&!(0,u.V0)(x),b=m||y;return(0,p.jsx)(r.Z,{hash:"details",offset:-a.R$,children:(0,p.jsx)(d.kC,{alignItems:"desktop"===f?"start":"center",direction:"column",justifyContent:"center",children:(0,p.jsx)(d.xu,{"data-test-id":"pinTitle",maxWidth:"100%",children:(0,p.jsx)(h,{handleTap:"desktop"!==f&&o?e=>{e.preventDefault(),e.stopPropagation(),(0,c.ZP)("mweb_pin_page.pin_title.click"),v||(0,c.NC)("unauth_click_pin_closeup_title"),n()}:null,children:(0,p.jsx)(d.X6,{align:g||("desktop"===f?"start":"center"),accessibilityLevel:1,overflow:"breakWord",size:b?"sm":"md",children:_?t:(0,p.jsx)(d.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",...e?{fontSize:"28px",fontWeight:"bold",WebkitLineClamp:"3"}:{WebkitLineClamp:"2"}}},children:t})})})})})})}},39692:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(40142),o=t(883119),r=t(785893);const s=new o.H3([new o.Ry(0)]);function a({onMoreButtonTap:e,onSendButtonTap:n}){const{userAgentPlatform:t}=(0,i.useSelector)((({session:e})=>e));return(0,r.jsxs)(o.xu,{position:"absolute",top:!0,zIndex:s,width:"100%",padding:6,display:"flex",justifyContent:"end",children:[(0,r.jsx)(o.hU,{accessibilityLabel:"share",icon:"android"===t?"android-share":"share",bgColor:"transparentDarkGray",onClick:n}),(0,r.jsx)(o.xu,{marginStart:2,children:(0,r.jsx)(o.hU,{accessibilityLabel:"overflow menu",icon:"ellipsis",bgColor:"transparentDarkGray",onClick:e})})]})}},820141:(e,n,t)=>{t.d(n,{Z:()=>g});var i=t(667294),o=t(40142),r=t(151101),s=t(855283),a=t(704471),l=t(174523),c=t(302199),d=t(946753),u=t(855168),p=t(883119),h=t(899622),m=t(785893);function g({hideFollowButton:e,hideFollowerCount:n,user:t,viewerId:g,justifyContent:f,avatarSize:v,pinId:_,pinImageSignature:x}){const y=(0,l.ZP)(),b=(0,c.Z)(),w=(0,u.k6)(),j=(0,o.useDispatch)(),{locale:S}=(0,o.useSelector)((({session:e})=>e)),{id:P="",image_medium_url:k,follower_count:C,followed_by_me:T,username:I=""}=t||{},[Z,E]=(0,i.useState)(T);return(0,m.jsxs)(p.xu,{marginBottom:2,display:"flex",direction:"row","data-test-id":"official-user-attribution",alignItems:"center",justifyContent:f||"center",children:[(0,m.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",flex:"shrink",children:(0,m.jsx)(p.iP,{onTap:()=>w.push(`/${I}/`),children:(0,m.jsx)(r.Z,{name:I,size:v||"md",src:null!=k?k:""})})}),(0,m.jsxs)(p.xu,{display:"flex",direction:"column",marginStart:2,justifyContent:"center",minWidth:0,children:[(0,m.jsx)(a.Z,{user:t,fontWeight:"bold"}),!n&&(0,m.jsx)(p.xv,{size:"lg",children:(0,d.nk)(y._("{{ followerCount }} followers","closeup.officialUser.followerCount","Official user's follower count"),{followerCount:b(S,C||0,{shortform:!0,shortform_maximum_fraction_digits:0})})})]}),!e&&(0,m.jsx)(p.xu,{marginStart:"auto",children:(0,m.jsx)(s.Z,{followEventType:45,id:P,isFollowed:Z,isUserFollowButton:!0,isUserMe:g===P,onFollow:e=>{E(!0),j((0,h.ZN)(e))},onUnfollow:e=>{E(!1),j((0,h.fv)(e))},size:"lg",shouldUseLegoColors:!0,unfollowEventType:46,viewType:3,auxData:_&&x?{pin_id:_,image_signature:x}:void 0})})]})}},704471:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(179676),o=t(855168),r=t(883119),s=t(785893);function a({displayName:e,fontWeight:n="normal",user:t}){const a=(0,o.k6)(),{is_verified_merchant:l,full_name:c="",verified_identity:d,username:u=""}=t||{},p=l||(null==d?void 0:d.verified);return(0,s.jsx)(r.iP,{onTap:()=>a.push(`/${u}/`),children:(0,s.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,s.jsx)(r.xv,{size:"lg",lineClamp:1,weight:n,children:e?e(c):c}),p&&(0,s.jsx)(r.xu,{marginStart:1,marginEnd:2,children:(0,s.jsx)(i.Z,{showVerifiedIdentity:!l,isVerifiedMerchant:l,size:"sm"})})]})})}},510059:(e,n,t)=>{t.d(n,{Z:()=>q});var i=t(667294),o=t(40142),r=t(376590),s=t(860370),a=t(25335),l=t(551687),c=t(902366),d=t(171456),u=t(320121),p=t(689859),h=t(652651),m=t(453357),g=t(549156),f=t(86037),v=t(425268),_=t(326305),x=t(174523),y=t(641483),b=t(24309),w=t(883119),j=t(855168),S=t(785893);function P(){const e=(0,x.ZP)(),n=(0,j.TH)(),t=(0,j.k6)(),{viewType:i,viewParameter:r}=(0,o.useSelector)((e=>e.currentPage)),s=(0,_.Z)(),a=e._("Log in","Label for log in button","Label for log in button"),l=e._("Download","mweb.unauth.interstitial_upsell.download_button_text","CTA on the app interstitial upsell to install the app");return(0,S.jsx)(w.xu,{left:!0,position:"relative",top:!0,width:"100vw",zIndex:new w.Ry(99),dangerouslySetInlineStyle:{__style:{transition:"all225mscubic-bezier(0.0, 0.0, 0.2, 1)500ms",transform:"translateY(0)",paddingLeft:"35vw"}},children:(0,S.jsx)(w.xu,{children:(0,S.jsx)(w.xu,{alignItems:"center",display:"flex",direction:"row",justifyContent:"between","data-test-id":"unauth-header",children:(0,S.jsx)(v.Z,{children:(0,S.jsxs)(w.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:[(0,S.jsx)(w.xu,{"data-test-id":"login-button",children:(0,S.jsx)(w.zx,{fullWidth:!0,color:"white",onClick:()=>{(0,y.LW)({action:"click",page_location:n,within:"unauth-header",item:"login-button"}),(0,b.So)({component:13198,element:30,view_type:i,view_parameter:r}),t.push("/login",n.state)},size:"md",text:a})}),(0,S.jsx)(w.xu,{"data-test-id":"download-button",children:(0,S.jsx)(f.Z,{children:e=>(0,S.jsx)(w.zx,{fullWidth:!0,color:"red",onClick:({event:t})=>{(0,y.LW)({action:"click",page_location:n,within:"unauth-header",item:"download-button"}),s({event:t,navigateToDeepLink:e})},size:"md",text:l})})})]})})})})})}var k=t(634746),C=t(899520),T=t(250766),I=t(519916),Z=t(273298),E=t(181307),A=t(60489),O=t(585967),B=t(796821),R=t(723612);const L=(0,i.lazy)((()=>t.e(1434).then(t.bind(t,601434)))),D=(0,i.lazy)((()=>t.e(24406).then(t.bind(t,224406)))),U=(0,i.lazy)((()=>t.e(81518).then(t.bind(t,881518)))),M="save",$="visit",N=new w.Ry(2),z=new w.Ry(3),H=({bgColor:e,color:n})=>{const{viewParameter:t}=(0,R.Rf)(),i=(0,o.useSelector)((e=>e.session.isAuthenticated));return(0,S.jsx)(g.Z,{id:"back-button",children:(0,S.jsx)(s.Z,{bgColor:e,color:n||"darkGray",fallbackUrl:i?"/":"/ideas",padding:"auto",viewParameter:t,viewType:3})})},F=({closeupPageContext:e,experience:n,pinId:t,pinnedToBoardId:o,pinnedToBoardUrl:r,isCTA:s})=>{const a=(0,i.useRef)();return!n||503459!==n.experience_id&&503761!==n.experience_id?(0,S.jsx)(c.Z,{experience:n,eligibleIds:[500742,501040,501975,501976],children:n=>(0,S.jsx)(w.xu,{children:(0,S.jsx)(h.Z,{clientTrackingParams:e.clientTrackingParams,deeplinkUri:e.saveButtonConfig.shouldShowSavedButton&&r||e.saveButtonConfig.repinPageLocation.deeplinkUri,onTouch:e.saveButtonConfig.onSaveButtonClick,onUnsave:e.saveButtonConfig.onUnsaveButtonClick,pinId:t,pinnedToBoardId:o,shouldShowSavedButton:e.saveButtonConfig.shouldShowSavedButton,to:e.saveButtonConfig.repinPageLocation.mwebUri,viewType:3,viewParameter:e.viewParameter,color:s?"red":"lightGray",...n})})}):(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(w.xu,{ref:a,children:(0,S.jsx)(w.xu,{children:(0,S.jsx)(h.Z,{clientTrackingParams:e.clientTrackingParams,deeplinkUri:e.saveButtonConfig.shouldShowSavedButton&&r||e.saveButtonConfig.repinPageLocation.deeplinkUri,onTouch:e.saveButtonConfig.onSaveButtonClick,onUnsave:e.saveButtonConfig.onUnsaveButtonClick,pinId:t,pinnedToBoardId:o,shouldShowSavedButton:e.saveButtonConfig.shouldShowSavedButton,to:e.saveButtonConfig.repinPageLocation.mwebUri,viewType:3,viewParameter:e.viewParameter,color:s?"red":"lightGray"})})}),(0,S.jsx)(l.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(D,{experience:n,eligibleIds:[503459,503761],anchor:a.current})})})]})},W=({onNonDesktopClick:e})=>{const n=(0,x.ZP)(),[t,o]=(0,i.useState)(!1),r=(0,i.useRef)(),s=(0,B.ZP)();return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(w.xu,{ref:r,children:(0,S.jsx)(d.ZP,{accessibilityLabel:n._("more","Pin more button","Pin more button"),color:"darkGray",icon:"ellipsis",onTouch:n=>{"desktop"===s?o(!t):e(n)},padding:"auto",size:"lg"})}),t&&(0,S.jsx)(w.mh,{zIndex:new w.Ry(1),children:(0,S.jsx)(w.J2,{anchor:r.current,positionRelativeToAnchor:!1,onDismiss:()=>o(!1),idealDirection:"down",size:"xs",children:(0,S.jsx)(w.xu,{paddingX:4,paddingY:2,children:(0,S.jsx)(u.Z,{textSize:"md"})})})})]})},V=({backButton:e,editOrMoreButton:n,headerLimitedOverflow:t,isRelatedPinsAppUpsellShown:i,isTransparentBackground:r,saveButton:s,shareButtonGroup:a,visitButton:c,showIgLogInAppCta:d})=>{const u=(0,A.HV)();let h;return(0,o.useSelector)((e=>e.session.isAuthenticated))?"lg"===u&&(h=N):h=z,(0,S.jsxs)(C.$l,{headerLimitedOverflow:t,isTranslucent:!r,isTransparentBackground:r,ignoreObstructions:r,paddingY:i?0:void 0,zIndex:h,children:[i&&(0,S.jsx)(l.Z,{name:"SafeSuspense_PinActionBarSaveButton_AuthInterstitalUpsell",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(w.xu,{marginBottom:3,marginEnd:-1,marginStart:-1,children:(0,S.jsx)(L,{canDisplay:!0,frequency:"daily",position:"top"})})})}),(0,S.jsx)(w.xu,{marginTop:-1,marginBottom:-1,children:(0,S.jsxs)(w.kC,{alignItems:"center",justifyContent:"between",children:[(0,S.jsxs)(w.kC,{alignItems:"center",justifyContent:"start",children:[!!e&&(0,S.jsx)(w.xu,{marginStart:-1,color:r?"white":void 0,rounding:"circle",dangerouslySetInlineStyle:{__style:r?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},children:e}),(0,S.jsxs)(w.kC,{alignItems:"stretch",justifyContent:"start",children:[a||null,n||null]})]}),(0,S.jsxs)(w.kC,{alignItems:"center",justifyContent:"start",children:[c||null,s||null]}),d&&(0,S.jsx)(P,{})]})})]},String(r))},G=({clickthroughInterstitialExperience:e,pinId:n,isCTA:t})=>{const i=(0,x.ZP)(),o=(0,k.Z)({clickthroughInterstitialExperience:e,pinId:n});return(0,S.jsx)(w.zx,{fullWidth:!0,size:"lg",onClick:()=>o(),color:t?"blue":void 0,text:i._("Visit","pinPage.pinACtionBar.visitButton","Text on a button that lets users visit the source of the pin")})};function q({clickthroughInterstitialExperience:e,experience:n,isNewUser:t,isPartner:s,isRemovablePin:a,onEditButtonClick:c,onNonDesktopOptionsButtonClick:u,onSendButtonClick:h,pinId:f,pinIsLinkless:v,pinnedToBoardId:_,pinnedToBoardUrl:y,pinner:b,nativePinType:j,scrolledToRelatedPins:P,shouldShowReactions:k,shouldShowBackButton:C,showIgLogInAppCta:A}){const L=(0,x.ZP)(),D=(0,B.HG)(),N=(0,R.Rf)(),z=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),q=(0,o.useSelector)((({pins:e})=>e[f])),Y=(0,E.tc)("mweb_pdp_metadata"),K=null!=q&&q.is_eligible_for_pdp&&Y({dangerouslySkipActivation:!0}).anyEnabled?$:M;(()=>{const{locale:e}=(0,O.B)();(0,i.useEffect)((()=>{(0,I.we)(e)}),[e])})();const J=!!n&&8===n.type,Q=(0,o.useSelector)((e=>(0,T.ts)(e))),ee=t&&!(0,Z.V0)(Q);if(N.isStoryPin){const e=!P;return(0,S.jsx)(V,{backButton:C?(0,S.jsx)(H,{color:e?"white":void 0,bgColor:e?"transparentDarkGray":void 0}):null,headerLimitedOverflow:J,isTransparentBackground:e,showIgLogInAppCta:A})}if(P){const e=t&&!s&&(0,m.Z)();return(0,S.jsx)(V,{backButton:C?(0,S.jsx)(H,{bgColor:"white"}):null,headerLimitedOverflow:J,isRelatedPinsAppUpsellShown:e,isTransparentBackground:!0})}return(0,S.jsx)(V,{backButton:C?(0,S.jsx)(H,{}):null,editOrMoreButton:c?(0,S.jsx)(w.xu,{"data-test-id":"editBoardButton",children:(0,S.jsx)(d.ZP,{accessibilityLabel:L._("edit","Pin edit button","Pin edit button"),color:"darkGray",icon:"edit",onTouch:c,padding:"auto",size:"lg"})}):(0,S.jsx)(g.Z,{id:"ellipsis-button",children:(0,S.jsx)(W,{onNonDesktopClick:u})}),headerLimitedOverflow:J,saveButton:N.isAuthenticated&&(a||(b||{}).blocked_by_me)?null:(0,S.jsx)(F,{closeupPageContext:N,experience:n,pinId:f,pinnedToBoardId:_,pinnedToBoardUrl:y,isCTA:K===M}),shareButtonGroup:k&&j?(0,S.jsx)(w.xu,{paddingX:2,marginTop:1,children:(0,S.jsx)(l.Z,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(U,{pinId:f,nativePinType:j,experience:n})})})}):(0,S.jsx)(g.Z,{id:"share-button",children:!z&&D?(0,S.jsx)(X,{pinId:f,viewParameter:N.viewParameter}):(0,S.jsx)(w.kC,{alignItems:"center",justifyContent:"start",children:(0,S.jsx)(r.Z,{onDefaultSendButtonClick:h,pinId:f,viewParameter:N.viewParameter})})}),visitButton:v||ee?null:(0,S.jsx)(w.xu,{paddingX:2,"data-test-id":"visit-button-mobile",children:(0,S.jsx)(G,{clickthroughInterstitialExperience:e,pinId:f,isCTA:K===$})})})}function X({pinId:e,viewParameter:n}){const t=(0,x.ZP)(),[o,s]=(0,i.useState)(!1),l=(0,i.useRef)(null);return(0,S.jsxs)(w.xu,{ref:l,children:[(0,S.jsx)(w.kC,{alignItems:"center",justifyContent:"start",children:(0,S.jsx)(r.Z,{onDefaultSendButtonClick:()=>s(!0),pinId:e,viewParameter:n})}),o&&(0,S.jsx)(a.Z,{anchor:l.current,objectId:e,objectType:1,onDismiss:()=>s(!1),title:t._("Send this pin","PinCloseup.ShareMenu.Title","title for share menu popover")})]})}},320121:(e,n,t)=>{t.d(n,{Z:()=>f});var i=t(86037),o=t(51497),r=t(968807),s=t(553431),a=t(174523),l=t(24309),c=t(181307),d=t(723612),u=t(796821),p=t(158961),h=t(883119),m=t(785112),g=t(785893);const f=({textSize:e})=>{const n=(0,a.ZP)(),{canUpsellNativeApp:t,pin:f,shouldShowReactions:v,onSendButtonClick:_,isChromeOnIOS:x,viewParameter:y,handleDownloadPinImageClick:b,isAuthenticated:w}=(0,d.Rf)(),j=(0,p.g)(),S=(0,u.HG)(),P=(0,c.tc)("dweb_lex_download_upsell_v0");if(!f)return null;const k=()=>{S&&!w&&j&&P().anyEnabled?j.showSignupModal("signup",{source:"downloadBtnExp",container:"download"}):b()},C=(0,m.P0)(f),{pinDescription:T,pinTitle:I}=(0,m.Fi)({i18n:n,pin:f,useGridTitleOrRichSummary:!0});return(0,g.jsxs)(h.kC,{direction:"column",gap:4,children:[t&&(0,g.jsx)(i.Z,{children:t=>(0,g.jsx)(r.Z,{pressState:"none",onTouch:()=>{(0,l.So)({component:13,element:10308,view_type:48}),f&&t(`pin/${f.id}`)},children:(0,g.jsx)(h.xv,{weight:"bold",size:e,children:n._("Open in app","Option in overflow menu on Pin closeup to open the Pin in the Pinterest app","Option in overflow menu on Pin closeup to open the Pin in the Pinterest app")})})}),v&&(0,g.jsx)(r.Z,{pressState:"none",onTouch:_,children:(0,g.jsx)(h.xv,{weight:"bold",size:e,children:n._("Send Pin","Option in overflow menu on Pin closeup to send this pin","Option in overflow menu on Pin closeup to send this pin")})}),!(0,m.Wv)(f)&&C&&!!f&&(0,g.jsx)(o.Z,{imgSrc:C,isChromeOnIOS:x,filename:I||T,pinId:f.id,viewParameter:y,viewType:3,imageSignature:f.image_signature,children:t=>(0,g.jsx)(r.Z,{pressState:"none",onTouch:()=>{t().then(k)},children:(0,g.jsx)(h.xv,{weight:"bold",size:e,children:n._("Download image","Button to download Pin image","Button to download Pin image")})})}),w&&!!f&&(0,g.jsx)(s.Z,{to:`/pin/${f.id}/report/`,pressState:"background",onTouch:()=>{(0,l.So)({view_type:48,element:176,component:13,object_id_str:f.id||""})},children:(0,g.jsx)(h.xv,{weight:"bold",size:e,children:n._("Report Pin","Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)","Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)")})})]})}},220345:(e,n,t)=>{t.d(n,{Z:()=>d});var i=t(904192),o=t(796821),r=t(174523),s=t(164206),a=t(946753),l=t(883119),c=t(785893);function d({boldText:e=!0,marginTop:n=3,onlyShowNumber:t=!1,rating:d,textSize:u="md",width:p=12,pinRecipe:h,isWideViewport:m}){var g,f;const v=(0,r.ZP)(),_=(0,o.ZP)(),x=(0,a.nk)(v.ngettext("{{review_count}} rating","{{review_count}} ratings",null!==(g=d.review_count)&&void 0!==g?g:0,"closeup.recipe.ratings","number of ratings for this recipe pin"),{review_count:d.review_count}),y=((null==h?void 0:h.diets)||[]).join(", "),b=null==h||null===(f=h.servings_summary)||void 0===f?void 0:f.summary,w=[(h&&(0,s.j$)(h,v)||[]).join(""),y,b].filter(Boolean);let j=(0,a.nk)(v._("{{ ratingStars }} {{ count }}","closeup.recipe.rating","recipe ratings and count"),{ratingStars:(0,c.jsx)(i.Z,{rating:d.rating_value,max_rating:d.best_rating,width:p},"ratingStars"),count:(0,c.jsx)(l.xv,{inline:!0,size:u,weight:e?"bold":"normal",children:t?d.review_count:x},"ratingCount")});return h&&(j=(0,c.jsx)(l.xu,{"data-test-id":"CookTime",children:(0,a.nk)(v._("{{ recipeText }} {{ pinRecipe }}","closeup.recipe.cooktime","closeup recipe cooktime"),{recipeText:(0,c.jsx)(l.xv,{inline:!0,children:j},"recipeText"),pinRecipe:(0,c.jsx)(l.xv,{inline:!0,children:w.length>0&&(0,c.jsx)(l.xv,{inline:!0,children:` · ${w.join(" · ")}`})},"pinRecipe")})})),(0,c.jsx)(l.xu,{alignItems:"baseline","data-test-id":"PinRecipeContainer",display:h&&"phone"===_?"block":"flex",justifyContent:"start",marginTop:n,children:(0,c.jsx)(l.xv,{align:m||"phone"!==_?"start":"center",inline:!0,children:j})})}},376590:(e,n,t)=>{t.d(n,{Z:()=>j});var i=t(40142),o=t(155656),r=t(171456),s=t(174523),a=t(785893);const l=({onSendButtonClick:e,trackPinShareTap:n,color:t})=>{const o=(0,s.ZP)(),l="android"===(0,i.useSelector)((({session:e})=>e.userAgentPlatform));return(0,a.jsx)(r.ZP,{accessibilityLabel:o._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),onTouch:t=>{e(t),n()},size:"lg",color:t||"darkGray",padding:"auto",icon:l?"android-share":"share"})};var c=t(667294),d=t(739472),u=t(495199);const p=e=>{const n=(0,s.ZP)(),[i,o]=(0,c.useState)(""),[r,a]=(0,c.useState)(""),l=(0,c.useRef)(null),{showToast:p}=(0,d.V6)(),h=()=>{(0,u.Iz)(12,r,e,1),p({text:n._("Copied link to your clipboard to share","url link was copied to user clipboard","url link was copied to user clipboard")})},m=async n=>{const{invitePath:t,inviteCode:i}=await(0,u.yP)(n,e,1);t&&o(t),i&&a(i)},g=(0,c.useRef)(null);(0,c.useEffect)((()=>{m(12),t.e(6527).then(t.t.bind(t,842152,23)).then((({default:e})=>{e.isSupported()&&(g.current=e)}))}),[]),(0,c.useEffect)((()=>{l.current&&(0,u.sF)(i,g.current,l.current,h)}),[i]);const f=(0,c.useRef)();return(0,c.useEffect)((()=>{f.current!==e&&m(12),f.current=e}),[e]),{invitePath:i,inviteCode:r,setFreshInviteCode:m}};var h=t(883119),m=t(847495),g=t(24309);const f=()=>{const e=(0,s.ZP)();return(0,a.jsx)(h.JO,{color:"white",accessibilityLabel:e._("Share with Line","closeup.icon.line_social_share","Share with Line App"),icon:void 0,size:24,dangerouslySetSvgPath:{__path:"M24 10c0 3.14-1.73 5.94-4.45 7.77L11 24v-4.03C4.84 19.54 0 15.24 0 10 0 4.48 5.37 0 12 0s12 4.48 12 10zM3.25 13H7v-1.5H4.75V7h-1.5zm17.5-4.5V7h-4v6h4v-1.5h-2.5v-.75h2.5v-1.5h-2.5V8.5zM8 7v6h1.5V7zm2.5 0v6H12V9.4l2.25 3.6h1.5V7h-1.5v3.6L12 7z"}})},v=()=>{const e=(0,s.ZP)();return(0,a.jsx)(h.JO,{color:"white",accessibilityLabel:e._("Share with WhatsApp","closeup.icon.whatsapp_social_share","Share with WhatsApp App"),icon:void 0,size:24,dangerouslySetSvgPath:{__path:"M17.53 14.49l-2.21-1.02c-.2-.11-.39-.02-.59.22-.24.32-.35.45-.63.8-.15.19-.26.32-.43.35-.2.04-.46-.06-.5-.06-.69-.24-1.49-.82-2.1-1.37-.59-.54-1.23-1.3-1.52-1.97-.04-.09-.13-.3 0-.48.26-.35.3-.37.58-.69.19-.24.35-.45.28-.65l-.95-2.55c-.09-.17-.35-.19-.65-.21-.26 0-.54 0-.74.04-.43.15-1.32 1.32-1.43 2.17-.24 1.84 1.43 4.29 3.1 5.81 1.67 1.54 4.24 2.99 6.06 2.58.84-.19 1.93-1.17 2.01-1.62.04-.19.02-.48-.02-.74-.02-.31-.08-.53-.26-.61z M12.01.53C5.66.53.53 5.67.53 11.99c0 2.14.6 4.25 1.73 6.07l-1.3 5.32 5.76-1.21c1.63.85 3.44 1.3 5.28 1.3 6.32 0 11.46-5.13 11.46-11.48C23.47 5.66 18.33.53 12.01.53zm0 20.65c-1.69.01-3.34-.46-4.76-1.34l-3.63 1.08 1.03-3.39C3.52 15.97 2.82 13.94 2.82 12c0-5.07 4.12-9.17 9.18-9.17 5.06-.01 9.16 4.09 9.16 9.14v.02c.01 5.07-4.08 9.19-9.15 9.19z"}})},_=new Set(["BR","MX","AR","CL","CO","PE","IN","ID","IT","ES","GB","DE","FR"]),x=new Set(["JP","TW","TH"]),y=e=>{const n=`ANIMATE_SHARE_container {\n    from {\n      background: #ffffff;\n    }\n    5% {\n      background: ${e};\n      transform: scale(0.5);\n      opacity: 0.3;\n    }\n    10% {\n      transform: scale(1.3);\n      opacity: 0.5;\n    }\n    15% {\n      transform: scale(1);\n      opacity: 1;\n    }\n    85% {\n      transform: scale(1);\n      background: ${e};\n      opacity: 1;\n    }\n    90% {\n      transform: scale(1.1);\n      background: ${e};\n      opacity: 0.5;\n    }\n    95% {\n      transform: scale(1.3);\n      background: ${e};\n      opacity: 0.1;\n    }\n    to {\n      opacity: 0;\n      background: #ffffff;\n      transform: scale(1);\n    }\n  }`;return(0,m.Ll)([n,"ANIMATE_SHARE_default {\n    from: {\n      opacity: 1;\n      visibility:visible;\n    }\n    10% {\n      fill: #ffffff;\n      opacity: 0;\n      visibility:hidden;\n    }\n    90% {\n      fill: #ffffff;\n      opacity: 0;\n      visibility:hidden;\n    }\n    95% {\n      opacity: 0.5;\n      visibility:visible;\n    }\n    to {\n      fill: #111111;\n      opacity: 1;\n      visibility:visible;\n    }\n  }","ANIMATE_SHARE_upsellApp {\n    from {\n      opacity: 0;\n      fill: #ffffff;\n    }\n    10% {\n      fill: #ffffff;\n      transform: scale(1.3);\n      opacity: 0.3;\n    }\n    15% {\n      transform: scale(1);\n      opacity: 1;\n    }\n    89% {\n      fill: #ffffff;\n      transform: scale(1);\n      opacity: 1;\n    }\n    90% {\n      transform: scale(1.1);\n      opacity: 0.5;\n    }\n    95% {\n      transform: scale(1.3);\n      opacity: 0.1;\n    }\n    to {\n      fill: #ffffff;\n      opacity: 0;\n    }\n  }"])},b=e=>({animation:`ANIMATE_SHARE_${e} 2000ms linear 3s`,WebkitAnimation:`ANIMATE_SHARE_${e} 2000ms linear 3s`}),w=({children:e,upsell:n})=>n?(0,a.jsxs)(h.xu,{children:[(0,a.jsx)(o.Z,{unsafeCSS:y(n.color)}),(0,a.jsxs)(h.xu,{alignItems:"center",justifyContent:"center",display:"flex",width:44,height:44,borderStyle:"none",dangerouslySetInlineStyle:{__style:{borderRadius:"22px",...b("container")}},children:[(0,a.jsx)(h.xu,{position:"absolute",opacity:0,dangerouslySetInlineStyle:{__style:b("upsellApp")},children:n.icon}),(0,a.jsx)(h.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:b("default")},children:e})]})]}):e,j=({onDefaultSendButtonClick:e,pinId:n,sendButtonColor:t,viewParameter:o})=>{const r=(0,s.ZP)(),{country:c}=(0,i.useSelector)((({session:e})=>e)),{invitePath:d,inviteCode:h,setFreshInviteCode:m}=p(n),y=e=>{(0,u.Iz)(e,h,n,1),m(e),(0,g.So)({view_type:3,view_parameter:o,component:194,element:e})};return(0,a.jsx)(w,{upsell:_.has(c)?{icon:(0,a.jsx)("a",{href:(0,u.tA)({invitePath:d,i18n:r}).whatsappShareLink,onClick:()=>y(10),children:(0,a.jsx)(v,{})}),color:"#25D366"}:x.has(c)?{icon:(0,a.jsx)("a",{href:(0,u.tA)({invitePath:d,i18n:r}).lineShareLink,onClick:()=>y(8),children:(0,a.jsx)(f,{})}),color:"#00B900"}:null,children:(0,a.jsx)(l,{onSendButtonClick:e,trackPinShareTap:()=>{(0,g.So)({component:194,element:46,view_type:3,view_parameter:o})},color:t})})}},192470:(e,n,t)=>{t.d(n,{v:()=>i});const i="imgViewer"},481362:(e,n,t)=>{t.d(n,{Z:()=>i});const i=({appUpsellIsAvailable:e,signupUpsellIsAvailable:n,signupUpsellIsPrioritizedOverAppUpsell:t,expGroup:i})=>{switch(i){case"enabled_no_upsells":return"none";case"enabled_no_signup_upsell":return e()?"app":"none";case"enabled_no_app_upsell":return n()?"signup":"none";case"enabled_always_upsell_app_before_signup":return(e()?"app":n()&&"signup")||"none";case"enabled_always_upsell_signup_before_app":return(n()?"signup":e()&&"app")||"none";default:return n()?(t()?"signup":e()&&"app")||"signup_and_prioritize_over_app":e()?"app":"none"}}},747682:(e,n,t)=>{t.d(n,{CB:()=>s,Ph:()=>a,si:()=>l});var i=t(40142),o=t(19629),r=t(796821);const s=e=>{const{pinId:n}=(0,o.Z)(e);return(0,i.useSelector)((({pins:e})=>e[n]))},a=e=>(0,i.useSelector)((({users:n})=>e&&e.promoter&&!e.is_downstream_promotion?n[e.promoter]:null)),l=()=>"phone"!==(0,r.ZP)()?180:130},634746:(e,n,t)=>{t.d(n,{Z:()=>w,V:()=>y});var i=t(40142),o=t(120818),r=t(891378),s=t(884272),a=t(831251),l=t(641483),c=t(785112);const d=(e,n)=>{(async(e,n)=>{const t={check_only:!0,client_tracking_params:n,pin_id:e?e.id:null,url:(0,c.Zt)(e)||""},i=await(0,a.Z)(t).callGet();if(i&&i.resource_response&&!i.resource_response.error){const{redirect_status:e}=i.resource_response.data;return e}return"error"})(e,n).then((e=>(0,l.ZP)(`mweb.unauth.clickthrough_quality.${e}`)))};var u=t(221469),p=t(273298),h=t(723612),m=t(709107),g=t(590307),f=t(741725),v=t(24309),_=t(747682),x=t(855168);const y=(e,n)=>{const t=(0,s.Z)((n.state||{}).trackingParams,e);return{object_id_str:e.id,component:4,element:35,view_type:3,view_parameter:(0,c.RX)(e)?3172:(0,c.CK)(e),clientTrackingParams:t,aux_data:{commerce_data:(0,r.Z)(e),image_signature:e.image_signature}}},b=()=>navigator.onLine,w=({clickthroughInterstitialExperience:e,linklessOptions:n,pinId:t})=>{const r=(0,x.k6)(),s=(0,x.TH)(),a=(0,i.useDispatch)(),w=(0,m.S)(),j=(0,i.useSelector)((({users:e,session:n})=>(0,p.EO)(e[n.userId]))),S=(0,_.CB)(t),P=(0,_.Ph)(S),{isAuthenticated:k,viewParameter:C}=(0,h.Rf)();return()=>{if(!S)return;const t=y(S,s);(0,l.My)("mweb_pin_page.pin_image.clickthrough_occurred"),(0,l.LW)({action:"visit",page:"clickthrough"}),k||d(S,t.clientTrackingParams);12===(0,v.jC)(t)&&(0,v.j)({event_type:8948,view_type:3,view_parameter:C,object_id_str:S.id,clientTrackingParams:t.clientTrackingParams,aux_data:{image_signature:S.image_signature,closeup_navigation_type:(0,o.Z)(r),click_type:"clickthrough",cosmic_ray_count:"1"}});const i=(0,c.Zt)(S)||"",p={pin:S.id,client_tracking_params:t.clientTrackingParams};if(n){if(!n.actionBarIsMinifiedToMainPinImage){const e=new XMLHttpRequest;e.open("GET",(0,f.nS)({url:i,queryParams:p})),e.send()}return void n.onTap()}const h=!P&&(j||w);if(h&&a((0,g.kd)(1000162)),h&&e){a((0,g.UT)(e.placement_id,e.experience_id)),a((0,g.CK)(e.placement_id,e.experience_id));const{category:n,domain:t,link_domain:o}=S,{official_user:r}=o||{},{image_medium_url:l=""}=r||{},d=(0,f.nS)({url:i,queryParams:p}),h=(0,c.P0)(S),m=s.pathname+s.search;if(!b())return;const v={domain:t,domainImageUrl:null!=l?l:"",origin:m,pinCategory:n,pinImageUrl:h,redirectUrl:d};window.open((0,u.ru)("/pin_redirect",v),"_blank")}else{if(!b())return;(0,f.Gj)({url:i,queryParams:p})}}}},563776:(e,n,t)=>{t.d(n,{Z:()=>d});var i=t(667294),o=t(40142),r=t(153010),s=t(590307),a=t(785893);const l=[502321,502322];class c extends i.Component{componentDidMount(){const{experience:e,completeExperience:n}=this.props;e&&l.includes(e.experience_id)&&n(e.placement_id,e.experience_id,!0)}render(){return(0,a.jsx)(r.Z,{experience:this.props.experience,eligibleIds:l,children:(0,a.jsx)("span",{})})}}const d=(0,o.connect)(null,((e,n)=>({completeExperience:(n,t,i)=>e((0,s.CK)(n,t,i))})))(c)},902366:(e,n,t)=>{t.d(n,{Z:()=>p});var i=t(667294),o=t(40142),r=t(153010),s=t(968807),a=t(590307),l=t(181307),c=t(883119),d=t(785893);class u extends i.PureComponent{constructor(...e){var n,t,i;super(...e),i=e=>{e.preventDefault(),e.stopPropagation();const{completeExperience:n,eligibleIds:t,experience:i}=this.props;i&&i.placement_id&&i.experience_id&&t.includes(i.experience_id)&&n(i.placement_id,i.experience_id)},(t="handleTouch")in(n=this)?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i}render(){const{activateButtonBounceAndIsEnabled:e,children:n,experience:t,eligibleIds:i}=this.props,o=!(!t||501040!==t.experience_id)&&e().anyEnabled,a=n({isBounceAnimation:o});return(0,d.jsx)(c.xu,{position:"relative",children:t?(0,d.jsxs)(s.Z,{onTouch:this.handleTouch,pressState:"none",children:[a,(0,d.jsx)(r.Z,{experience:t,eligibleIds:i,children:(0,d.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{left:"50%",pointerEvents:"none",top:"50%",transform:"translateX(-50%) translateY(-50%)"}},children:!o&&(0,d.jsx)(c.o3,{})})})]}):a})}}function p(e){const n=(0,o.useDispatch)(),t=(0,l.tc)("mweb_repin_reminder_button_bounce");return(0,d.jsx)(u,{...e,activateButtonBounceAndIsEnabled:t,completeExperience:(e,t)=>n((0,a.CK)(e,t))})}},479776:(e,n,t)=>{t.d(n,{t:()=>i,N:()=>o});const i=0,o=1},927273:(e,n,t)=>{t.d(n,{v:()=>o});var i=t(903945);const o=()=>{const e=(0,i.qn)("lastViewedMiniRenux");return!!e&&Date.now()-Number(e)<2592e5}},860370:(e,n,t)=>{t.d(n,{Z:()=>p});var i=t(40142),o=t(171456),r=t(641483),s=t(174523),a=t(382745),l=t(392280),c=t(24309),d=t(855168),u=t(785893);function p({alignIconLeft:e,bgColor:n,color:t,disableRedirect:p=!1,fallbackUrl:h,icon:m="arrow-back",onTouch:g,padding:f,placement:v,shouldUseFallbackUrl:_,size:x="lg",viewParameter:y,viewType:b}){const w=(0,s.ZP)(),j=(0,d.k6)(),S=(0,d.TH)(),P=(0,i.useSelector)((e=>e.session.isAuthenticated));return(0,u.jsx)(o.ZP,{accessibilityLabel:w._("Back","navigation button","navigation button"),bgColor:n,color:t,icon:m,onTouch:()=>{if((0,l.y3)({action:"back_button_click",placement:v,isAuthenticated:P}),b&&y&&(0,c.So)({view_type:b,view_parameter:y,element:34}),g&&g(),!p){const e=(0,a.Qx)(document.referrer);!e&&(!S.key||S.state&&"redirect"===S.state.referrer||_)&&h?j.replace(h):e?((0,r.ZP)("unauth.backButton.sendToDuploNotAmp"),j.replace(e)):S.pathname.includes("/password/reset/")&&S.search&&S.search.includes("?nativeShouldDismiss=true")?j.push("/login/?dismissWebview=true"):j.goBack()}},padding:f||2,size:x,containerStyle:e?{display:"flex",alignItems:"center",marginLeft:"cancel"===m?"-4px":"-8px",width:"48px",height:"48px"}:{}})}},309220:(e,n,t)=>{t.d(n,{a:()=>o});var i=t(650744);const o=({dispatch:e,i18n:n,showToast:t,newPinId:o,sourcePinId:r,boardId:s,boardSectionId:a,onSuccess:l})=>e((0,i.q$)(o,s,a)).then((()=>{e((0,i.t_)(r,s,a)),t({text:n._("Pin deleted!","Utils.Unsave.Success","User deleted their pin")}),l&&l()})).catch((()=>{t({isError:!0,text:n._("Sorry! There was an error deleting your Pin.","Utils.Unsave.Error","Error when user tried to delete pin")})}))},60489:(e,n,t)=>{t.d(n,{II:()=>o,HV:()=>s});var i=t(762803);const{Provider:o,Consumer:r,useHook:s}=(0,i.ZP)("ScreenSize")},556900:(e,n,t)=>{t.d(n,{Z:()=>j});var i=t(667294),o=t(594607),r=t(820141),s=t(704471),a=t(204478),l=t(174523),c=t(747682),d=t(883119),u=t(785893);function p({pinDescription:e}){const n=(0,l.ZP)(),[t,o]=(0,i.useState)(!1),r=(0,c.si)();return(0,u.jsx)(d.xv,{color:"darkGray",size:"lg",align:"center",children:e.length<=r?e:(0,u.jsxs)(i.Fragment,{children:[t?e:(0,a.Z)(e,r),!t&&(0,u.jsx)(d.xu,{display:"inlineBlock",marginStart:1,children:(0,u.jsx)(d.iP,{onTap:()=>{o(!t)},children:(0,u.jsx)(d.xv,{color:"darkGray",inline:!0,size:"lg",weight:"bold",children:t?n._("Less","Toggle less description button","Toggle less description button"):n._("More","Toggle more description button","Toggle more description button")})})})]})})}var h=t(288453),m=t(946753),g=t(24309);function f({pinDescription:e,pinId:n,user:t,onClickDomain:o,onDismiss:r,isOpen:s}){const a=(0,l.ZP)(),{domain_url:c}=t||{};return(0,i.useEffect)((()=>{(0,g.j)({event_type:13,view_type:3,view_parameter:144,component:13597,element:10492,aux_data:{pin_id:n}})}),[]),(0,u.jsx)(h.Z,{type:"product_details",onDismiss:r,isOpen:s,accessibilityCloseIconLabel:a._("close product description modal","productDetails.productDescription.closeModal","closes product description modal"),heading:a._("Product details","productDetails.productDescription.heading","product descriptio modal heading"),childPaddingX:4,childPaddingY:2,children:(0,u.jsx)(d.xu,{overflow:"scrollY",maxHeight:"80vh",children:(0,u.jsxs)(d.xu,{marginBottom:12,dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},children:[(0,u.jsx)(d.xv,{children:e}),c&&(0,u.jsx)(d.xu,{marginTop:6,children:(0,u.jsx)(d.xv,{children:(0,m.nk)(a._("Ships from and sold by {{ userDomain }}","productDetails.productDescription.soldBy","Domain url of seller"),{userDomain:(0,u.jsx)(d.iP,{onTap:o,tapStyle:"compress",children:(0,u.jsx)(d.xv,{inline:!0,weight:"bold",children:c})},c)})})})]})})})}var v=t(904192),_=t(73697);function x({offerSummary:e,rating:n,shippingInfo:t}){const o=(0,l.ZP)(),{rating_value:r,rating_count:s,review_count:a,best_rating:c}=n||{},{free_shipping_price:p,free_shipping_value:h}=t||{},m=r&&!(!s&&!a),g=Number.isFinite(h)&&p;return null!=e&&e.in_stock?m||g?(0,u.jsxs)(d.xu,{display:"flex",alignItems:"center",marginTop:2,children:[m&&(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(v.Z,{rating:r,max_rating:c,width:12}),(0,u.jsx)(d.xu,{marginStart:1,marginEnd:m?1:0,children:(0,u.jsx)(d.xv,{children:s||a})})]}),g&&(0,u.jsxs)(d.xv,{children:[m&&"· ",(0,u.jsx)(_.ZP,{freeShippingPrice:p,freeShippingValue:h})]})]}):null:(0,u.jsx)(d.X6,{color:"gray",size:"sm",align:"center",children:o._("Sold out","product.price.soldOut","Product is sold out")})}var y=t(458588),b=t(785112);const w=({onTap:e})=>{const n=(0,l.ZP)();return(0,u.jsx)(d.iP,{tapStyle:"compress",onTap:e,children:(0,u.jsxs)(d.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:5,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},children:[(0,u.jsx)(d.xv,{weight:"bold",size:"lg",children:n._("Product details","productDetails.descriptionTap.text","text in tap area to open product description modal")}),(0,u.jsx)(d.JO,{accessibilityLabel:n._("Arrow forward","productDetails.openModal","accessibility label on button"),color:"darkGray",icon:"arrow-forward"})]})})};function j({align:e,officialUser:n,viewerId:t,isImagePinForUnauthOnTablet:a,onClickTitleOrDomain:c,pinTitle:h,offerSummary:v,pin:_,pinDescription:j,pinShippingInfo:S}){const P=(0,l.ZP)(),k=(0,b.AH)(_),C=(0,b.Oe)(_),[T,I]=(0,i.useState)(!1),Z=h&&(0,u.jsx)(o.Z,{isImagePinForUnauthOnTablet:a,onClick:c,title:h,hasLink:k,forceSmallerHeading:"start"===e,textAlign:e});return"center"===e?(0,u.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[!!n&&(0,u.jsx)(d.xu,{width:"100%",children:(0,u.jsx)(r.Z,{hideFollowButton:!0,hideFollowerCount:!0,avatarSize:"sm",user:n,viewerId:t,pinId:_.id,pinImageSignature:_.image_signature})}),Z,!!v&&(0,u.jsx)(d.xu,{marginTop:2,children:(0,u.jsx)(y.ZP,{offerSummary:v,align:e})}),(0,u.jsx)(x,{offerSummary:v,shippingInfo:S,rating:C}),!!j&&(0,u.jsx)(d.xu,{marginTop:4,children:(0,u.jsx)(p,{pinDescription:j})})]}):(0,u.jsxs)(d.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:[null!=v&&v.in_stock?(0,u.jsx)(y.ZP,{offerSummary:v,align:e}):(0,u.jsx)(d.X6,{color:"red",size:"sm",align:"start",children:P._("Sold out","product.price.soldOut","Product is sold out")}),(0,u.jsx)(d.xu,{marginTop:2,marginBottom:2,children:Z}),!!n&&(0,u.jsx)(s.Z,{user:n,displayName:e=>(0,m.nk)(P._("by {{ fullName }}","productDetail.officialUser.fullname","Represent the official user who posted this product"),{fullName:e})}),(0,u.jsx)(x,{offerSummary:v,shippingInfo:S,rating:C}),!!j&&(0,u.jsxs)(d.xu,{marginTop:6,width:"100%",children:[(0,u.jsx)(w,{onTap:()=>{I(!0),(0,g.So)({view_type:3,view_parameter:144,component:13597,aux_data:{pin_id:_.id,commerce_data:JSON.stringify({pin_show_pdp:"1",has_description:"1"})}})}}),(0,u.jsx)(f,{pinDescription:j,pinId:_.id,user:n,onClickDomain:c,isOpen:T,onDismiss:()=>{I(!1)}})]})]})}},458588:(e,n,t)=>{t.d(n,{ZP:()=>u});var i=t(883119),o=t(785893);const r=({productDetail:e,NoPrice:n,RangedPrice:t,RegularPrice:i,RangedSalePrice:r,SalePrice:s})=>{const{max_price:a,min_price:l,price:c,standard_price:d}=e;return l&&a&&d?(0,o.jsx)(r,{saleMinPrice:l,saleMaxPrice:a,regularPriceRange:d}):l&&a?(0,o.jsx)(t,{maxPrice:a,minPrice:l}):c?d&&c!==d?(0,o.jsx)(s,{regularPrice:d,salePrice:c}):(0,o.jsx)(i,{price:c}):(0,o.jsx)(n,{})},s=()=>null,a=({price:e,align:n})=>(0,o.jsx)(i.X6,{color:"darkGray",size:"sm",align:n,children:e}),l=({minPrice:e,maxPrice:n,align:t})=>(0,o.jsx)(i.X6,{color:"darkGray",size:"sm",align:t,children:`${e}-${n}`}),c=({salePrice:e,regularPrice:n,align:t})=>(0,o.jsxs)(i.X6,{size:"sm",align:t,children:[(0,o.jsx)("span",{style:{color:"#0074e8"},children:e})," ",(0,o.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${n}`})]}),d=({saleMinPrice:e,saleMaxPrice:n,regularPriceRange:t,align:r})=>(0,o.jsxs)(i.X6,{size:"sm",align:r,children:[(0,o.jsx)("span",{style:{color:"#0074e8"},children:`${e}-${n}`})," ",(0,o.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${t}`})]});function u({offerSummary:e,align:n,NoPrice:t,RangedPrice:i,RangedSalePrice:u,RegularPrice:p,SalePrice:h}){return t||(t=e=>(0,o.jsx)(s,{...e,align:n})),i||(i=e=>(0,o.jsx)(l,{...e,align:n})),u||(u=e=>(0,o.jsx)(d,{...e,align:n})),p||(p=e=>(0,o.jsx)(a,{...e,align:n})),h||(h=e=>(0,o.jsx)(c,{...e,align:n})),(0,o.jsx)(r,{productDetail:e,NoPrice:t,RegularPrice:p,RangedPrice:i,RangedSalePrice:u,SalePrice:h})}},126965:(e,n,t)=>{t.d(n,{Z:()=>f});var i=t(667294),o=t(589444),r=t(289335),s=t(192470),a=t(883119),l=t(855168),c=t(785893);function d({alt:e,dominantColor:n,height:t,src:i,width:o}){const r=(0,l.k6)(),d=(0,l.$B)();return(0,c.jsxs)(a.iP,{tapStyle:"compress",onTap:()=>{r&&d&&d.params&&d.params.id&&r.push(`/pin/${d.params.id}#${s.v}`,{imageData:{src:i,height:t,width:o}})},children:[(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},position:"absolute",width:"100%",height:"100%",zIndex:new a.Ry(1),top:!0}),(0,c.jsx)(a.Ee,{alt:e,color:n,naturalHeight:t,naturalWidth:o,src:i})]})}var u=t(500953),p=t(174523),h=t(971887),m=t(931185),g=t(24309);function f({pin:e,viewParameter:n}){const{carousel_slots:t=[]}=(0,o.Z)(e,{shouldUnifyImageSizes:!1})||{},{id:s}=e,f=(0,l.k6)(),v=(0,l.$B)(),_=(0,p.ZP)(),[x,y]=(0,i.useState)(0),b=(0,i.useRef)(null),w=(0,i.useRef)([]),j=_._("Pin image","Pin closeup image","Pin closeup image"),S=t.filter((e=>{const n=(0,r.Z)(e);return n&&n.url})),P=S.length,k=()=>{if(!b.current)return;const{left:e,width:n}=b.current.getBoundingClientRect(),t=e+n/2;for(let o=0;o<P;o++){var i;const{x:e}=w.current[o].current.getBoundingClientRect(),{x:n=1/0}=(null===(i=w.current[o+1])||void 0===i?void 0:i.current.getBoundingClientRect())||{};if(e<=t&&n>t){y(o);break}}};return(0,u.Z)((()=>{w.current=Array(P).fill().map(((e,n)=>w.current[n]||(0,i.createRef)()));const e=b.current;return e&&e.addEventListener("scroll",k),()=>{null==e||e.removeEventListener("scroll",k)}})),(0,c.jsxs)(a.xu,{position:"relative",marginStart:-h.q3,marginEnd:-h.q3,children:[(0,c.jsx)(a.xu,{minHeight:"30vh",maxHeight:"60vh",overflow:"scrollX",display:"flex",ref:b,children:S.map(((e,n)=>{const t=n===P-1,{url:i="",height:o=1,width:l=1}=(0,r.Z)(e)||{};return(0,c.jsx)(a.xu,{width:"80%",flex:"none",marginEnd:t?0:2,display:"flex",alignItems:"center",position:"relative",dangerouslySetInlineStyle:{__style:{backgroundColor:"#ffffff00"}},ref:w.current[n],children:(0,c.jsx)(d,{alt:j,src:i,height:o,width:l,dominantColor:"#ffffff00"})},`${s}_${n}`)}))}),(0,c.jsx)(a.xu,{margin:4,position:"absolute",bottom:!0,right:!0,zIndex:new a.Ry(2),children:(0,c.jsx)(a.iP,{onTap:()=>{const{image_signature:e}=S[x],t=v.params.id||s;(0,g.So)({component:128,element:234,view_parameter:n,view_type:3}),e?f.push(`/pin/${t}/visual-search/?image_signature=${e}`):f.push(`/pin/${t}/visual-search/`)},children:(0,c.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)"}},display:"flex",justifyContent:"center",rounding:"pill",padding:3,children:(0,c.jsx)(a.JO,{accessibilityLabel:_._("Visual search","Button to search for visually similar Pins","Button to search for visually similar Pins"),color:(0,m.Yc)()?"lightGray":"darkGray",icon:"flashlight",size:24})})})})]})}},25335:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(772077),o=t(883119),r=t(785893);const s=new o.Ry(1);function a({anchor:e,onDismiss:n,objectId:t,objectType:a,title:l}){return(0,r.jsx)(o.mh,{zIndex:s,children:(0,r.jsx)(o.J2,{anchor:e,onDismiss:n,size:"xl",positionRelativeToAnchor:!1,children:(0,r.jsxs)(o.kC,{alignItems:"center",direction:"column",wrap:!0,width:360,overflow:"hidden",children:[(0,r.jsx)(o.xu,{marginTop:4,marginBottom:4,children:(0,r.jsx)(o.xv,{size:"lg",weight:"bold",children:l})}),(0,r.jsx)(o.kC,{width:360,children:(0,r.jsx)(i.Z,{objectId:t,objectType:a,onDismiss:n})})]})})})}},634098:(e,n,t)=>{t.r(n),t.d(n,{default:()=>s});var i=t(667294),o=t(311866);const r={};class s extends i.Component{constructor(...e){var n,t,i;super(...e),n=this,t="state",i={invite:r[this.props.invite_code]||null,loaded:this.props.invite_code in r},t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i}componentDidMount(){const{invite_code:e}=this.props;o.ZP.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((n=>{if(n&&n.resource_response){const t=n.resource_response.data;r[e]=t,this.setState({invite:t,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:n}=this.state;return n?this.props.children(e):null}}},561554:(e,n,t)=>{t.d(n,{Z:()=>P});var i=t(40142),o=t(151101),r=t(553431),s=t(704956),a=t(689859),l=t(174523),c=t(250766),d=t(946753),u=t(24309),p=t(181307),h=t(964964),m=t(883119),g=t(785893);const f=({fallback:e,pinnerId:n})=>{const t=(0,l.ZP)(),f=(0,i.useSelector)((e=>e)),v=(0,p.tc)("mweb_unauth_shared_more_from_creator"),_=(0,c.Il)(f)[n],{full_name:x,id:y,image_large_url:b,image_medium_url:w,image_small_url:j,username:S}=_,{isFetching:P}=(0,h.Wf)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:y}});let k=(0,i.useSelector)((({feeds:e})=>e[`story-pins-feed:${y}`]))||[];const C=(0,i.useSelector)((({pins:e})=>e)),T=(0,i.useSelector)((({storyPins:e})=>e));k=k.slice(0,3);const I={};k.forEach((e=>{I[e.id]=C[e.id]}));const Z=()=>{(0,u.So)({component:227,view_parameter:157,view_type:3,element:11157})};return Object.keys(I).length>=3&&v().anyEnabled?(0,g.jsxs)(a.Z,{children:[(0,g.jsx)(m.$j,{accessibilityLabel:t._("Loading","mweb.unauth.storypin.more","loading creators other pins"),show:P}),(0,g.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,g.jsxs)(m.xu,{flex:"grow",padding:4,display:"flex",justifyContent:"center",alignItems:"center",children:[(0,g.jsx)(m.xu,{flex:"none",marginEnd:2,children:(0,g.jsx)(r.Z,{to:`/${encodeURIComponent(S)}/`,rounding:2,pressState:"compress",children:(0,g.jsx)(o.Z,{name:x,size:"sm",src:b||w||j})})}),(0,g.jsx)(m.X6,{align:"center",size:"sm",children:(0,d.nk)(t._("More from {{ username }}","mweb.unauth.shared.idea.pin.user","name of the idea pin creator"),{username:S})})]}),(0,g.jsx)(m.xu,{paddingX:2,width:"100%",display:"flex",direction:"row",children:Object.keys(I).map(((e,n)=>{var t;return(0,g.jsx)(m.xu,{maxWidth:"20%",maxHeight:"70%",minWidth:100,margin:2,children:(0,g.jsx)(r.Z,{to:`/pin/${I[e].id}`,pressState:"compress",onTouch:Z,children:(0,g.jsx)(s.Z,{color:null!==(t=I[e].dominant_color)&&void 0!==t?t:"",image:I[e].images["170x"],imageCrop:I[e].imageCrop,pinId:I[e].id,slotIndex:n,storyData:T[I[e].story_pin_data_id],type:"storyPin",videoDuration:""})})},e)}))})]})]}):e};var v=t(667294),_=t(639307);function x({suggestedInterestsFromPin:e}){const n=(0,l.ZP)();return(0,g.jsx)(m.xu,{display:"flex",alignContent:"center",direction:"column","data-test-id":"suggested-interests",padding:4,marginTop:4,marginBottom:4,children:(0,g.jsxs)(v.Fragment,{children:[(0,g.jsx)(m.X6,{align:"center",size:"sm",children:n._("Explore ideas on Pinterest","unauth.plp.suggested_interests","title on Pin Page suggesting related ideas to try")}),(0,g.jsx)(_.Z,{interests:e})]})})}function y({interestId:e,interestName:n}){const t=(0,l.ZP)(),{isFetching:o}=(0,h.Wf)({name:"ApiResource",options:{url:`/v3/interests/${e}/ideas/suggested_interests/`}}),{suggested_interests:r,show_interest_name:s}=(0,i.useSelector)((({suggestedInterests:e})=>e));return(0,g.jsxs)(m.xu,{display:"flex",alignContent:"center",direction:"column","data-test-id":"suggested-interests",padding:4,marginTop:4,marginBottom:4,children:[(0,g.jsx)(m.$j,{accessibilityLabel:"",show:o}),!o&&r.length>0&&(0,g.jsxs)(v.Fragment,{children:[(0,g.jsx)(m.X6,{align:"center",size:"sm",children:n&&s?(0,d.nk)(t._("Because you like {{ interestName }}","unauth.plp.suggested_interests","title on Pin Page suggesting related topics to the topic of the current pin"),{interestName:n}):t._("Explore ideas on Pinterest","unauth.plp.suggested_interests","title on Pin Page suggesting related ideas to try")}),(0,g.jsx)(_.Z,{interests:r})]})]})}const b=["es-AU","en-US","en-GB","en-NZ","en-IE","en-IN","en-CA"],w=({pinJoin:e,pinId:n})=>{var t;const{group:o=""}=(0,p.tc)("ag_skin_tone_filter_search_queries_on_p2p_mweb_unauth")({dangerouslySkipActivation:!0}),r=(0,i.useSelector)((({feeds:e,stories:t})=>{if(o.startsWith("enabled_replace")&&n){const i=e[`related-pins:${n}`];if(i&&i.length>0&&"story"===i[0].type){if(t[i[0].id].story_type.startsWith("SKIN_TONE_FILTER_QUERIES"))return!0}}return!1})),s=(e=>{var n,t;if(!(0,i.useSelector)((({session:e})=>b.includes(e.locale))))return null;const[o]=e.seo_breadcrumbs||[];if(!o)return null;const r=null===(n=o.url)||void 0===n?void 0:n.split("/")[3];return r?{id:r,name:null!==(t=o.name)&&void 0!==t?t:""}:null})(e),a=((null===(t=e.seo_related_interests)||void 0===t?void 0:t.slice(0,5))||[]).sort(((e,n)=>e.name&&n.name?e.name.length-n.name.length:-1));return s&&a?(0,g.jsx)(v.Fragment,{children:!!s&&!r&&(0,g.jsx)(y,{interestId:s.id,interestName:s.name})}):null};var j=t(221469),S=t(855168);const P=({pin:e,pinnerId:n})=>{const t=(0,S.TH)(),i=(0,p.tc)("ff_related_interests_in_pin_api")().anyEnabled?(0,g.jsx)(x,{suggestedInterestsFromPin:e.related_interests||[]}):!!e.pin_join&&(0,g.jsx)(w,{pinJoin:e.pin_join,pinId:e.id}),o=!!(0,j.mB)(t.search).invite_code;return e.story_pin_data_id&&o?(0,g.jsx)(f,{fallback:i,pinnerId:n}):i}},924439:(e,n,t)=>{t.d(n,{JJ:()=>i,zu:()=>o,N3:()=>r});const i=["TR","WB"],o=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],r=[...i,...o,"AP","TG"]},326305:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(40142),o=t(382745),r=t(509044),s=t(24309),a=t(855168),l=t(641483);const c=()=>{const e=(0,a.TH)(),n=(0,o.am)(e),{viewType:t,viewParameter:c}=(0,i.useSelector)((e=>e.currentPage));return({event:i,navigateToDeepLink:o})=>{const a=i;(0,l.tj)("mweb_unauth.interstitial_app_upsell.install_tap",{x:a&&a.pageX||-1,y:a&&a.pageY||-1}),(0,r.cJ)(),(0,l.NC)("press_open_app",!0),(0,s.So)({component:13198,element:10308,view_type:t,view_parameter:c}),o&&o(""+(n?"board/":"")+e.pathname.substr(1))}}},202861:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(667294),o=t(823493),r=t.n(o);const s=()=>{const[e,n]=(0,i.useState)(0);return(0,i.useEffect)((()=>{const e=r()((()=>n(window.scrollY)),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),e}},315297:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(731164);const o=e=>{i.Z.increment(`closeup.image.clicked.${e}`,1,{platform:"mobile"})}},392280:(e,n,t)=>{t.d(n,{vR:()=>s,xH:()=>a,h3:()=>l,wp:()=>c,y3:()=>d,Zm:()=>u,BV:()=>p});var i=t(479776),o=t(641483);let r;const s=()=>{const e=r.getState().session;if(!e.isMobile&&!e.isTablet)return"desktop";switch(e.userAgentPlatform){case"ios":return"iphone";case"android":return e.isTablet?"android_tablet":"android";case"ipad":return"ipad";default:return"mobile_other"}},a=(e,n)=>{const t=4===n?3456:3455;return e===i.N?t:3050},l=({action:e,type:n,isCrossDomain:t,isMultipleAccounts:i,trigger:r})=>{(0,o.hL)(`new_mweb_${e}.${s()}${i?".multipleAccounts":""}`,{referrer:(0,o.an)(),type:n,cctld:t}),(0,o.ZP)(`mweb_${e}.${s()}.${(0,o.an)()}.${n}${t?".cctld":""}${i?".multipleAccounts":""}`),(0,o.De)({action:e,event:"success",type:n,trigger:r})},c=({action:e,type:n,error:t,isCrossDomain:i,isMultipleAccounts:r,trigger:a})=>{const l=r?".multipleAccounts":"",c=i?".cctld":"",d={type:n};(0,o.hL)(`new_mweb_${e}_error.${s()}${l}${c}`,d),(0,o.tj)(`mweb_${e}_error.${s()}.${(0,o.an)()}.${n}${c}${l}`,{error:t}),(0,o.De)({action:e,event:"fail",type:n,trigger:a})},d=({action:e,placement:n,isAuthenticated:t})=>{(0,o.ZP)(`mweb_${e}.${String(n)}.is_auth_${String(t)}`)},u=e=>{r=e},p=e=>{(0,o.ZP)(e)}},437523:(e,n,t)=>{t.d(n,{_:()=>a,Z:()=>l});var i=t(667294),o=t(855168),r=t(785893);const s=(0,i.createContext)(!0);function a({children:e}){const n=(0,o.TH)(),[t,a]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{a(!1)}),[n]),(0,r.jsx)(s.Provider,{value:t,children:e})}function l(){return(0,i.useContext)(s)}},250766:(e,n,t)=>{t.d(n,{Rf:()=>a,ts:()=>l,CQ:()=>c,oF:()=>d,R_:()=>u,oi:()=>p,gI:()=>h,NZ:()=>m,Ud:()=>g,jo:()=>f,Cj:()=>v,Il:()=>_,Is:()=>y,PN:()=>b,i3:()=>w,kT:()=>j,ET:()=>S,T_:()=>P,JF:()=>C,ut:()=>T,In:()=>I,ik:()=>Z});var i=t(442279);const o=e=>(n,t)=>n.feeds[((e,n)=>"string"==typeof e?e:e(n))(e,t)],r=e=>e.boards,s=e=>e.invites,a=e=>e.users,l=e=>e.users[e.session.userId]||null,c=e=>o(e),d=(0,i.P1)((e=>e.feeds),(e=>Object.keys(e).filter((e=>e.includes("share-suggestions"))).reduce(((n,t)=>({...n,[t]:e[t]})),{}))),u=(0,i.P1)(s,(e=>Object.keys(e).reduce(((n,t)=>{const i=t.split(":")[0],o=n[i]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return e[t]&&"not_invited"!==e[t].status&&("pending_approval"===e[t].status?o.pendingOwnerAction.push(t):o.notPendingOwnerAction.push(t),n[i]=o),n}),{}))),p=(0,i.P1)(s,(e=>Object.keys(e).reduce(((n,t)=>{const i=t.split(":"),o=n[i[0]]||[];return e[t]&&"not_invited"!==e[t].status&&(o.push(t),n[i[0]]=o),n}),{}))),h=(0,i.P1)(s,(e=>Object.keys(e).reduce(((n,t)=>{const i=e[t];return n[t]=i,n}),{}))),m=(0,i.P1)(l,s,((e,n)=>Object.keys(n).reduce(((t,i)=>{const o=i.split(":"),r=o[0],s=o[1],a=e.id===s,l=n[i]&&["new","contact_request_not_approved"].includes(n[i].status);return a&&l&&(t[r]=i),t}),{}))),g=(0,i.P1)(a,s,((e,n)=>Object.keys(n).reduce(((t,i)=>{const o=n[i]||{};return t[i]=e[o.invited_by_user],t}),{}))),f=(0,i.P1)(o("notifications"),(e=>e.notifications),((e=[],n)=>e.map((({id:e})=>n[e])))),v=(0,i.P1)((e=>e.topics),(e=>Object.keys(e).reduce(((n,t)=>{const i=e[t];return n[i.slug]=i,n[t]=i,n}),{}))),_=(0,i.P1)(a,(e=>Object.keys(e).reduce(((n,t)=>{const i=e[t];return n[i.username]=i,n}),{}))),x=(0,i.P1)(l,r,((e,n)=>Object.keys(n).reduce(((t,i)=>{const o=n[i];return!o.archived_by_me_at&&(o.owner===e.id||o.collaborating_users&&o.collaborating_users.includes(e.id))&&o.cover_images?t.concat([o]):t}),[]))),y=(0,i.P1)(x,(e=>e.sort(((e,n)=>e.name.localeCompare(n.name))))),b=(0,i.P1)(((e,n)=>e.users[n.user_id]||null),r,((e,n)=>Object.keys(n).reduce(((t,i)=>{const o=n[i];return!o.archived_by_me_at&&e&&(o.owner===e.id||o.collaborating_users&&o.collaborating_users.includes(e.id))&&t.push(o),t}),[]))),w=((0,i.P1)(a,o("suggested-creator-follows"),((e,n)=>n?n.filter((({id:n})=>{const t=e[n];return t&&t.explicitly_followed_by_me})):[])),(0,i.P1)(r,(e=>Object.keys(e).reduce(((n,t)=>{const i=e[t];return n[i.url]=i,i.oldSlugUrl&&(n[i.oldSlugUrl]=i),n}),{})))),j=(0,i.P1)((e=>e.boardsections),(e=>Object.keys(e).reduce(((n,t)=>{const i=e[t];return n[`${i.board}_${i.slug}`]=i,n}),{}))),S=(0,i.P1)(a,((e,n)=>n),((e,n)=>n?[n.owner,...n.collaborating_users||[]].map((n=>e[n])).filter(Boolean):[])),P=c((({boardId:e})=>`board-sections:${e}`)),k=(c((({boardId:e})=>`board-collaborators:${e}`)),c((({pinId:e})=>`call-to-create-pins:${e}`))),C=(0,i.P1)((e=>e.pins),k,((e=[],n=[])=>n.map((n=>e[n.id])))),T=e=>e.experiences[40001]&&(40002===e.experiences[40001].experience_id||500450===e.experiences[40001].experience_id),I=e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id,Z=({pins:e},{pinId:n})=>{const t=e[n];return{callToCreateResponseCount:t.call_to_create_responses_count,callToCreateResponsesPreviewImageUrls:t.call_to_create_responses_preview_image_urls,callToCreateSourcePin:t.call_to_create_source_pin,callToCreateSourcePinId:t.call_to_create_source_pin_id,isCallToCreate:t.is_call_to_create}}},530178:(e,n,t)=>{t.d(n,{Z:()=>Je});var i=t(667294),o=t(40142),r=t(916706);var s=t(156240),a=t(155357),l=t(120818),c=t(911506),d=t(156993),u=t(414653),p=t(87075),h=t(855168),m=t(723612),g=t(785893);const f=({children:e,closeupPageContext:n,commerce_data:t,hasFixedHeader:i,pin:o,hasGutter:r})=>{const s=(0,h.k6)();return(0,g.jsx)(d.Z,{auxData:{closeup_navigation_type:(0,l.Z)(s),commerce_data:t},clientTrackingParams:n.clientTrackingParams,objectIdStr:o.id,viewData:{pin_id:o.id,closeup_rich_types:o.shopping_flags||[],image_signature:o.image_signature||null},viewParameter:n.viewParameter,viewType:3,component:13283,children:(0,g.jsx)(u.Z,{view:3,objectId:o.id,clientTrackingParams:n.clientTrackingParams,children:(0,g.jsx)(m.qd,{value:n,children:(0,g.jsx)(c.Z,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:i,hasGutter:r,children:(0,g.jsx)(p.t,{isEligible:!n.isAuthenticated&&!n.isStoryPin,children:e})})})})})};var v=t(841888),_=t(558900);const x="undefined"!=typeof window&&window.innerWidth-32||400,y=40,b=40,w=e=>[{name:`${e}closeup`,width:x,height:x},{name:`${e}title`,width:x,height:24},{name:`${e}attribution`,width:b,height:y},{name:`${e}credit`,width:x-b-8,height:40},{name:`${e}visit_button`,width:x,height:40},{name:`${e}pin_grid_pin`,width:(x-32)/2,height:100}].map((({name:e,width:n,height:t})=>(0,_.Z)({name:e,width:n,height:t}))).join("");var j=t(155656),S=t(174523),P=t(883119);const k="CloseupPageSkeletonLoader__",C=({hideMainPin:e})=>{const n=(0,S.ZP)(),t=(0,o.useSelector)((({session:e})=>e)),{isAuthenticated:r}=t;return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(j.Z,{unsafeCSS:w(k)}),(0,g.jsxs)(P.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[e?null:(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(P.xu,{marginTop:4,marginEnd:3,children:(0,g.jsx)("div",{className:k+"closeup"})}),(0,g.jsx)(P.xu,{marginTop:3,children:(0,g.jsx)("div",{className:k+"title"})}),(0,g.jsxs)(P.xu,{display:"flex",direction:"row",marginTop:3,children:[(0,g.jsx)(P.xu,{children:(0,g.jsx)("div",{className:k+"attribution"})}),(0,g.jsx)(P.xu,{marginStart:2,children:(0,g.jsx)("div",{className:k+"credit"})})]}),(0,g.jsx)(P.xu,{marginTop:3,children:(0,g.jsx)(P.iz,{})})]}),(0,g.jsx)(P.xu,{marginBottom:3,marginTop:2,children:(0,g.jsx)(P.xv,{weight:"bold",align:r?void 0:"center",children:e?n._("More ideas","On mobile web pin page, title for related pins","On mobile web pin page, title for related pins"):n._("More like this","On mobile web pin page, title for related pins beneath pin closeup","On mobile web pin page, title for related pins beneath pin closeup")})}),(0,g.jsxs)(P.xu,{display:"flex",direction:"row",marginTop:3,children:[(0,g.jsx)(P.xu,{marginStart:r?2:1,marginEnd:r?2:1,children:(0,g.jsx)("div",{className:k+"pin_grid_pin"})}),(0,g.jsx)(P.xu,{marginStart:r?2:1,marginEnd:r?2:1,children:(0,g.jsx)("div",{className:k+"pin_grid_pin"})})]})]})]})};var T=t(551687),I=t(434422),Z=t(563776),E=t(891378),A=t(884272),O=t(634098),B=t(221469);const R=()=>!!(0,B.mB)(window.location.search).simplified;var L=t(304194),D=t(510059),U=t(689859),M=t(151101),$=t(86037);const N=({children:e,waitBeforeShow:n})=>{const[t,o]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const e=setTimeout((()=>o(!0)),n);return()=>{clearTimeout(e)}}),[n]),t?e:null};var z=t(968807),H=t(731164),F=t(641483);function W({isStoryPin:e,inviteText:n,inviterFirstName:t,username:i}){const o=n.split(t);return(0,g.jsx)(P.xu,{children:(0,g.jsx)(z.Z,{onTouch:()=>{H.Z.increment("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,g.jsxs)(P.kC,{direction:"row",gap:1,children:[(0,g.jsx)(P.xv,{inline:!0,size:"lg",children:o[0]}),e?(0,g.jsx)(P.xv,{inline:!0,size:"lg",weight:"bold",children:(0,g.jsx)(P.rU,{href:"/"+i,target:"blank",onClick:()=>(0,F.ZP)("mweb_unauth_inviter_profile_click"),children:t})}):(0,g.jsx)(P.xv,{inline:!0,size:"lg",weight:"bold",children:t}),(0,g.jsx)(P.xv,{inline:!0,size:"lg",children:o[1]})]})})})}var V=t(326305);const G=({invite:e,isStoryPin:n,mwebSharedBannerGroup:t})=>{var i;const o=(0,S.ZP)(),r=()=>{H.Z.increment("mweb_social_unauth.closeup.avatar_click")},s=(0,V.Z)(),a=null==e||null===(i=e.sender)||void 0===i?void 0:i.first_name;if(!a)return null;const{image_medium_url:l,username:c}=(null==e?void 0:e.sender)||{},d=o._("{{ name }} shared this idea","pin.closeup.header.shareNotification","header notifying users that a sender ({{ name }}) shared a Pin to them").replace("{{ name }}",a),u=o._("Open App","unauth.mweb.shared.banner.cta","CTA to open app on shared banner"),p="undefined"!=typeof window&&window.innerWidth<360,h=(0,g.jsxs)(P.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,g.jsx)(P.xu,{marginTop:4,marginBottom:4,width:48,children:(0,g.jsx)(z.Z,{onTouch:r,pressState:"none",children:(0,g.jsx)(M.Z,{src:l,name:a})})}),(0,g.jsx)(W,{isStoryPin:n,inviteText:o._("{{ name }} shared this idea with you","pin.closeup.header.shareNotification","header notifying users that a sender ({{ name }}) shared a Pin to them").replace("{{ name }}",a),inviterFirstName:a,username:c})]});return t.startsWith("enabled_showtextandcta")?(0,g.jsxs)(P.kC,{gap:1,alignItems:"center",justifyContent:"center",children:[(0,g.jsx)(P.xu,{marginTop:4,marginBottom:4,width:40,children:(0,g.jsx)(z.Z,{onTouch:r,pressState:"none",children:(0,g.jsx)(M.Z,{size:"fit",src:l,name:a})})}),(0,g.jsxs)(P.kC,{alignItems:"center",gap:3,justifyContent:"start",minHeight:d.length>260?120:80,wrap:!p,children:[(0,g.jsxs)(P.kC,{direction:"column",alignItems:"start",gap:1,children:[(0,g.jsx)(P.kC,{children:(0,g.jsxs)(P.xv,{children:[(0,g.jsx)(P.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(P.rU,{inline:!0,href:`/${c}/`,target:"blank",onClick:()=>(0,F.My)("mweb_unauth_inviter_profile_click"),children:a})}),d.split(a)[1]]})}),(0,g.jsx)(P.xv,{size:"sm",children:o._("Open Pinterest to see more","unauth.mweb.shared.banner.edu","education for CTA to open app on shared banner")})]}),(0,g.jsx)($.Z,{children:e=>(0,g.jsx)(P.zx,{onClick:({event:n})=>{s({event:n,navigateToDeepLink:e}),(0,F.My)("unauth.mweb.phone.app_upsell.button_click")},size:"md",text:o._("Open app","unauth.mweb.shared.banner.cta","CTA to open app on shared banner")})})]})]}):t.startsWith("enabled_showanimatedcta")?(0,g.jsxs)(P.xu,{children:[h,(0,g.jsx)(N,{waitBeforeShow:3e3,children:(0,g.jsxs)(P.xu,{zIndex:new P.Ry(1),position:"absolute",top:!0,left:!0,color:"white",children:[(0,g.jsx)(j.Z,{unsafeCSS:"@keyframes sharedFadeIn {\n    from{\n      opacity:0\n    }\n      to {\n        opacity:1\n      }\n    },\n  "}),(0,g.jsx)(P.xu,{dangerouslySetInlineStyle:{__style:{animation:"5s sharedFadeIn"}},children:(0,g.jsx)(P.xu,{marginStart:5,paddingY:2,children:(0,g.jsxs)(P.kC,{alignItems:"center",gap:1,justifyContent:u.length>175?"center":"start",minHeight:u.length>175?120:65,wrap:!p,children:[(0,g.jsx)(P.kC.Item,{flexBasis:u.length>175?"100vw":"60vw",children:(0,g.jsx)(P.xv,{children:o._("Open Pinterest to see more ideas like this!","pin.closeup.header.text.animation","header text to open app")})}),(0,g.jsx)($.Z,{children:e=>(0,g.jsx)(P.zx,{onClick:({event:n})=>{s({event:n,navigateToDeepLink:e}),(0,F.My)("unauth.mweb.phone.app_upsell.button_click")},size:"md",text:u})})]})})})]})})]}):h};var q=t(861106);const X=e=>{var n;if(!e)return;const[t]=e.seo_breadcrumbs||[];return t?null===(n=t.url)||void 0===n?void 0:n.split("/")[3]:void 0};var Y=t(590307),K=t(192470),J=t(946753),Q=t(739812),ee=t(927273),ne=t(18236),te=t(244228),ie=t(392280),oe=t(939606),re=t(213162),se=t(309768),ae=t(309220),le=t(739472),ce=t(110942),de=t(796821),ue=t(375943),pe=t(619418),he=t(530794),me=t(785112),ge=t(534435),fe=t(181307),ve=t(650401),_e=t(382745),xe=t(24309);function ye(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const be=i.Fragment,we=i.Fragment,je=i.Fragment,Se=(0,i.lazy)((()=>t.e(79801).then(t.bind(t,379801)))),Pe=(0,i.lazy)((()=>t.e(44020).then(t.bind(t,488537)))),ke=(0,i.lazy)((()=>Promise.all([t.e(38202),t.e(69636)]).then(t.bind(t,869636)))),Ce=(0,i.lazy)((()=>t.e(28971).then(t.bind(t,28971)))),Te=(0,i.lazy)((()=>t.e(96734).then(t.bind(t,496734)))),Ie=(e,n)=>{e?(0,oe.S$)({appLoadName:"initial_app_load_auth_closeup",clientNavName:"pin_closeup_details"},n):(0,oe.S$)({appLoadName:"pin_page_interactive",clientNavName:"client_route_push_unauth_pin_closeup"},n)};class Ze extends i.PureComponent{constructor(...e){super(...e),ye(this,"state",{actionBarIsMinifiedToMainPinImage:!1,hasShownRelatedInterestUpsell:!1,isModalMaskTransparent:!1,modal:null}),ye(this,"relatedPinsTitleRef",(0,i.createRef)()),ye(this,"mainPinRef",(0,i.createRef)()),ye(this,"logScrollEvent",(0,q.Z)((e=>{if(this.props.pin){const e=this.props.pin.id;(0,xe.j)({event_type:110,view_type:3,view_parameter:156,aux_data:{unauth_page_pin_id:e}})}}),300)),ye(this,"refetchCloseupExperienceWithEC",(()=>{const{dispatch:e,pin:n}=this.props;if(n){const t={pin_image_signature:n.image_signature};e((0,Y.pz)([1000112],t))}})),ye(this,"handleSendButtonClick",(e=>{const{isAuthenticated:n,isStoryPin:t,dispatch:i}=this.props;t&&(0,xe.So)({component:229,element:10942,view_type:3,view_parameter:157}),this.setState({modal:"sendPinModal"}),n||i((0,ge.TK)())})),ye(this,"handleSaveButtonClick",(e=>{const{unauthSaveConfig:n,isAuthenticated:t,isLimitedLoginUser:i,isStoryPin:o,pin:r,location:s,i18n:a,requireAuthForLimitedLogin:l}=this.props;(0,ie.y3)({action:"save_button_click",placement:"closeup",isAuthenticated:t}),(0,xe.So)({view_type:3,view_parameter:r?(0,me.CK)(r):67,element:48,aux_data:{...t?{login_state:i?2:1}:{}}}),o&&(0,xe.So)({component:229,element:10943,view_type:3,view_parameter:157}),t||(e.preventDefault(),n&&n.onSave(),(0,F.LW)({action:"click",page:"pin",item:"save-button"})),l({fn:()=>{},modalHeader:(0,he.Bx)(a),nextLocation:(0,he.Qj)(s)})(e)})),ye(this,"handleUnsaveButtonClick",(()=>{var e;const{viewerId:n,pinner:t,dispatch:i,pin:o,board:r,showToast:s,history:a}=this.props;if(!o||!r||!t)return;const l=t.id===n,c=!l&&o.savedThisSession?o.savedThisSession:o.id,d=!l&&o.pinned_to_board&&o.pinned_to_board.id?o.pinned_to_board.id:r.id,u=l?a.push(null!==(e=r.url)&&void 0!==e?e:""):void 0,p=o.section?o.section.id:void 0;(0,ae.a)({dispatch:i,i18n:this.props.i18n,showToast:s,newPinId:c,sourcePinId:o.id,boardId:d,boardSectionId:p,onSuccess:u})})),ye(this,"openReportPinModal",(e=>{var n;const{isStoryPin:t}=this.props;this.setState({modal:"reportPinModal"}),t&&(0,xe.So)({component:229,element:10946,view_type:3,view_parameter:157}),(0,xe.So)({view_type:3,view_parameter:139,element:72,object_id_str:(null===(n=this.props.pin)||void 0===n?void 0:n.id)||""})})),ye(this,"handleDownloadPinImageClick",(()=>{const{postDownloadModalEligibilityType:e,deviceType:n,showSignupModal:t}=this.props;"unauthPostDownloadUpsell"===e?this.setState({modal:null},(()=>{"desktop"!==n&&t({mobileOptions:{attributionLabel:"tap.closeup.download_button",headingType:"download"}})})):e&&this.setState({modal:"postDownloadModal"})})),ye(this,"handleRelatedInterestUpsellComplete",(e=>{const{locale:n,setHomeFlyoutText:t,setShowHomeBadge:i,setShowHomeFlyoutWithButton:o}=this.props;e&&(t((0,J.nk)(this.props.i18n._("We've added fresh ideas for {{ interestName }}","navFooter.flyout.text","A flyout points at Home button to ask users to go to home page"),{interestName:(0,re.T_)(e,n)}).join("")),i(!0),o(!0)),this.setState({hasShownRelatedInterestUpsell:!0})})),ye(this,"showRelatedInterestModal",(e=>{this.setState({modal:"relatedInterestsModal",isModalMaskTransparent:e})})),ye(this,"handleCloseupModalDismiss",(()=>{const{modal:e}=this.state;"relatedInterestsModal"===e&&this.setState({hasShownRelatedInterestUpsell:!0}),this.setState({modal:null,isModalMaskTransparent:!1})})),ye(this,"checkIsInRelatedInteresetUpsellCooldown",(()=>{const{activateMiniRenuxCooldownExp:e}=this.props;(0,ee.v)()?this.setState({isInRelatedInterestUpsellCooldown:e().anyEnabled}):this.setState({isInRelatedInterestUpsellCooldown:!1})}))}trackNonInviteActivity(){const{location:e,isSeoBot:n,viewingUser:t}=this.props;!n&&t&&(0,se.Up)(window.location,t.id,!0,(n=>this.props.history.replace(n,e.state)))}componentDidMount(){const{dispatch:e,isAuthenticated:n,isSeoBot:t,pin:i,platform:o,pwtStaticContext:r,location:s,mobileSignupModalContext:a}=this.props;this.trackNonInviteActivity(),(0,L.Z)(),Ie(n,r),n||(window.addEventListener("scroll",this.logScrollEvent),(0,F.ZP)(`mweb.pin_page.${o||"unknown"}`),i&&i.created_at&&(0,F.ZP)("mweb_unauth.pin_page.publish_date"),(0,F.NC)("view_pin_page"),(0,F.LW)({action:"visit",page:"pin"})),i&&i.story_pin_data_id&&e((0,ge.FK)()),t||this.refetchCloseupExperienceWithEC(),a&&a.upsellIsEnabledGlobally()&&R()&&a.dispatch({type:"UPSELL_SIGNUP_MODAL",attributionLabel:"landOnSimplifiedPinPage",now:Date.now()}),"t"===(0,B.mB)(s.search).open_share&&this.handleSendButtonClick()}componentDidUpdate(e){const{closeupIsFirstPageInHistoryStack:n,pin:t,isAuthenticated:i,onlyShowingRelatedPins:o,pwtStaticContext:r,scrollToCloseupPin:s,stopScrollToCloseup:a}=this.props,{hasShownRelatedInterestUpsell:l,isInRelatedInterestUpsellCooldown:c}=this.state,d=e.pin,u=t&&d&&t.id!==d.id,p=!d&&t;u&&(this.trackNonInviteActivity(),Ie(i,r)),(p||u)&&this.refetchCloseupExperienceWithEC(),s&&this.mainPinRef.current&&(a(),this.mainPinRef.current.scrollIntoView({behavior:"smooth"}),(0,F.ZP)("mweb.unauth_scroll_to_closeup")),i&&n&&o&&!l&&void 0===c&&this.checkIsInRelatedInteresetUpsellCooldown()}componentWillUnmount(){const{dispatch:e,isAuthenticated:n,pin:t}=this.props;t&&t.story_pin_data_id&&e((0,ge.Cp)()),n||window.removeEventListener("scroll",this.logScrollEvent)}render(){var e,n,t;const{board:o,dispatch:l,canUpsellNativeApp:c,clickthroughInterstitialExperience:d,closeupIsFirstPageInHistoryStack:u,experience:p,history:h,i18n:m,interestId:_,isAuthenticated:x,isChromeOnIOS:y,isSeoBot:b,isSimplified:w,isStoryPin:j,isPartner:S,isNewUser:k,location:R,match:L,onlyShowingRelatedPins:M,pin:$,pinner:N,postDownloadModalEligibilityType:z,promoter:H,relatedTabsExpGroup:F,setOnlyShowingRelatedPins:W,viewerId:V,deviceType:q,showedDismissibleMobileSignupModal:X,activateMwebSharedBannerExp:Y,activateIgIabAppUpsellExp:J,activateIgIabLoginDownloadExp:ee,requireAuthForLimitedLogin:ie,unauthSaveConfig:oe}=this.props,{actionBarIsMinifiedToMainPinImage:re,hasShownRelatedInterestUpsell:se,isInRelatedInterestUpsellCooldown:ae,isModalMaskTransparent:le,modal:ce}=this.state,de="true"===(0,B.mB)(R.search).from_amp_pin_page,ue="undefined"!=typeof window&&!!(0,B.mB)(window.location.search).invite_code,pe=!x&&de,fe=!x&&(0,_e.dh)()&&J().anyEnabled,ve=!x&&(0,_e.dh)()&&M&&ee().anyEnabled;if(!$||!N||!o)return(0,g.jsx)(P.xu,{margin:5,children:x?(0,g.jsx)(P.$j,{accessibilityLabel:m._("Loading pin"),show:!0}):(0,g.jsx)(C,{hideMainPin:pe})});const{pinCreditLink:ye,trimmedUserNote:Ie}=(0,me.Fi)({i18n:m,pin:$,useGridTitleOrRichSummary:!0}),Ze=$.pinned_to_board?$.pinned_to_board.id:"",Ee=(0,me.Zt)($),Ae=x&&(0,te.J6)($);let Oe=null;Ae&&($.videos&&$.videos.id?Oe="video":j&&(Oe="storyPin"));const Be=!x&&!(0,me.Wv)($)&&!(0,me.cL)($)&&("tablet"===q||(0,ne.oy)()),Re="enabled"===(0,B.mB)(R.search).shopping,Le=(null===(e=$.pin_join)||void 0===e?void 0:e.seo_breadcrumbs)||[],De=Le.length>0&&!(j&&"desktop"!==q),Ue=(0,A.Z)(R.state?R.state.trackingParams:"",$),Me={isAuthenticated:x,saveButtonConfig:{shouldShowSavedButton:x?!(N.id!==V&&!$.savedThisSession):(null==oe?void 0:oe.isSaved)||!1,onSaveButtonClick:this.handleSaveButtonClick,onUnsaveButtonClick:x?this.handleUnsaveButtonClick:(null==oe?void 0:oe.onUnsave)||(()=>{}),repinPageLocation:{deeplinkUri:{android:`pin/${$.id}/repin`,iOS:`repin/${$.id}`},mwebUri:{pathname:`/pin/${$.id}/repin/`,state:{trackingParams:R.state?R.state.trackingParams:""}}}},clientTrackingParams:Ue,isStoryPin:j,viewParameter:(0,me.CK)($),canUpsellNativeApp:c,pin:$,shouldShowReactions:Ae,onSendButtonClick:this.handleSendButtonClick,isChromeOnIOS:y,handleDownloadPinImageClick:this.handleDownloadPinImageClick},$e=R.hash===`#${K.v}`,Ne="desktop"===q?"body":"header",ze=(0,g.jsx)(D.Z,{clickthroughInterstitialExperience:d,experience:p,isNewUser:k,isPartner:S,isRemovablePin:Boolean($.promoted_is_removable),nativePinType:Oe,onNonDesktopOptionsButtonClick:this.openReportPinModal,onSendButtonClick:this.handleSendButtonClick,pinId:$.id,pinIsLinkless:(0,me.rM)($),pinner:N,pinnedToBoardId:Ze,pinnedToBoardUrl:($.pinner===V?o.url:null===(n=$.pinned_to_board)||void 0===n?void 0:n.url)||"",scrolledToRelatedPins:M,shouldShowReactions:Ae,shoppingEnabled:Re,onEditButtonClick:N&&N.id===V||(0,s.Z)({action:4,collaboratedByMe:o.collaborated_by_me,collaboratorPermissions:o.collaborator_permissions,owner:o.owner})?ie({fn:()=>h.push(L.url+"edit/"),modalHeader:(0,he.oM)(m),nextLocation:(0,he.wI)(R)}):void 0,shouldShowBackButton:"header"===Ne,showIgLogInAppCta:ve}),He=w&&!X,Fe=(R.search||"").includes("force_seo")||b||!x;return(0,g.jsx)(P.xu,{position:"relative",width:"100%",children:(0,g.jsx)(f,{closeupPageContext:Me,commerce_data:(0,E.Z)($),hasFixedHeader:!0,pin:$,hasGutter:!$e,children:$e&&!j&&x?(0,g.jsx)(T.Z,{name:"SafeSuspense_Closeup_ImageViewer",children:(0,g.jsx)(U.Z,{children:(0,g.jsx)(ke,{pin:$,history:h,postDownloadModalEligibilityType:z,closeupPageContext:Me,isChromeOnIOS:y,shouldShowReactions:Ae,canUpsellNativeApp:c,isRemovablePin:Boolean($.promoted_is_removable),pinner:N,experience:p,pinnedToBoardId:Ze,pinnedToBoardUrl:($.pinner===V?o.url:null===(t=$.pinned_to_board)||void 0===t?void 0:t.url)||"",pinId:$.id,handleSaveButtonClick:this.handleSaveButtonClick,isAuthenticated:x,shouldShowSEOPinInfo:Fe})})}):(0,g.jsxs)(P.xu,{position:Re?"fixed":"static","data-layout-shift-boundary-id":"CloseupPageContainerInner",children:[(0,g.jsxs)(be,{children:[Me.isAuthenticated&&(0,g.jsxs)(i.Fragment,{children:[$.mobile_link&&Ee?(0,g.jsx)(T.Z,{name:"SafeSuspense_Closeup_AMPViewer",children:(0,g.jsx)(U.Z,{children:(0,g.jsx)(Pe,{ampCacheUrl:Ee,location:R,pin:$,isOpen:R.hash===`#${me.rV}`,onDismiss:()=>{(0,xe.jC)(),!function(e){return!!e.key}(R)?h.push({...R,hash:""}):h.goBack()},onSaveButtonClick:this.handleSaveButtonClick,saveButtonTo:Me.saveButtonConfig.repinPageLocation,viewParameter:3172,viewType:3})})}):null,p&&(0,g.jsx)(I.Z,{experience:p}),p&&(0,g.jsx)(Z.Z,{experience:p})]}),!Me.isAuthenticated&&(0,_e.Dl)(R)&&(0,g.jsx)(Q.ty,{children:e=>e?(0,g.jsx)(O.default,{invite_code:e,children:e=>{var n;return null!=e&&null!==(n=e.sender)&&void 0!==n&&n.first_name?(0,g.jsx)(G,{invite:e,isStoryPin:!!j,mwebSharedBannerGroup:j&&ue?Y().group:""}):null}}):null}),"header"===Ne&&!re&&ze,De&&(0,g.jsx)(r.Z,{breadcrumbs:Le})]}),(0,g.jsx)(we,{children:!pe&&(0,g.jsx)(P.xu,{ref:this.mainPinRef,"data-layout-shift-boundary-id":"CloseupPageBody",children:(0,g.jsx)(a.Z,{actionBarIsMinifiedToMainPinImage:re,pinActionBar:"body"===Ne?ze:null,board:o,clickthroughInterstitialExperience:d,closeupIsFirstPageInHistoryStack:u,isShowingBreadcrumbs:De,isSimplified:w,isImagePinForUnauthOnTablet:Be,onLinklessPinTap:()=>{const e=!re;this.setState({actionBarIsMinifiedToMainPinImage:e}),l(e?(0,ge.Cp)():(0,ge.FK)())},onMoreButtonClick:this.openReportPinModal,onSendPin:this.handleSendButtonClick,pin:$,pinAttributionLink:ye||Ee,pinCloseupExperience:p,pinnedToBoardId:Ze,pinner:N,promoter:H,relatedPinsTitleRef:this.relatedPinsTitleRef,relatedTabsExpGroup:F,shouldShowReactions:(0,te.J6)($),shouldShowSEOPinInfo:Fe,trimmedUserNote:Ie,viewerId:V,isSendPinModalOpen:"sendPinModal"===ce})})}),(0,g.jsx)(je,{children:(0,g.jsxs)(i.Fragment,{children:[(x||!H&&!He)&&(0,g.jsx)(v.Z,{hideMainPin:pe,interestId:_,onRelatedPinsTitleEnter:()=>W(!1),onRelatedPinsTitleExit:()=>W(!0),pin:$,promoter:H,relatedTabsExpGroup:F,relatedPinsTitleRef:this.relatedPinsTitleRef}),x&&u&&M&&!se&&!1===ae?(0,g.jsx)(T.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,g.jsx)(U.Z,{children:(0,g.jsx)(Se,{onComplete:this.handleRelatedInterestUpsellComplete,pinId:$.id,showRelatedInterestModal:this.showRelatedInterestModal})})}):null,(x||fe)&&(0,g.jsx)(T.Z,{name:"SafeSuspense_Closeup_AppUpsell",children:(0,g.jsx)(U.Z,{children:(0,g.jsx)(Te,{clientTrackingParams:Ue,deepLinkUri:`pin/${$.id}`,isFloatingUpsellFooter:!0,viewParameter:Me.viewParameter,viewType:3,showIgAppUpsell:!0})})})]})}),(0,g.jsx)(T.Z,{name:"SafeSuspense_Closeup_CloseupModals",children:(0,g.jsx)(U.Z,{children:(0,g.jsx)(Ce,{experience:p,isAuthenticated:x,isMaskTransparent:le,modal:ce,onDismiss:this.handleCloseupModalDismiss,onSendButtonClick:this.handleSendButtonClick,pin:$,postDownloadModalEligibilityType:z,viewParameter:Me.viewParameter,clientTrackingParams:Ue})})})]})})})}}function Ee(e){var n;const t=(0,S.ZP)(),r=(0,de.ZP)(),{showToast:s}=(0,le.V6)(),a=(0,o.useDispatch)(),{pin:l}=e,c=(0,fe.tc)("mweb_mini_renux_cooldown"),d=(0,ve.lv)(),u=(0,pe.Z)(),p=(()=>{const e=(0,ve.lv)(),n=!(null==e||!e.displayProps.isDismissible),t=(0,i.useRef)(n),o=t.current||n;return(0,i.useEffect)((()=>{t.current=o}),[o]),o})(),h=(0,fe.tc)("mweb_unauth_shared_banner"),m=(0,ue.Z)(),f=(0,fe.tc)("iab_ig_app_upsell_exp"),v=(0,fe.tc)("iab_ig_login_download_exp"),_=(0,ce.ae)(),x=!!(l&&_&&_.unauthSavedPinsStore.isSaved(l.id)),y=(0,fe.tc)("mweb_plp_related_tabs_exp"),b=X(null===(n=e.pin)||void 0===n?void 0:n.pin_join),w=b&&"desktop"!==r?y().group:"";return(0,g.jsx)(Ze,{...e,activateMiniRenuxCooldownExp:c,mobileSignupModalContext:d,showSignupModal:u,showedDismissibleMobileSignupModal:p,showToast:s,deviceType:r,i18n:t,interestId:b,dispatch:a,activateMwebSharedBannerExp:h,activateIgIabAppUpsellExp:f,activateIgIabLoginDownloadExp:v,relatedTabsExpGroup:w,requireAuthForLimitedLogin:m,unauthSaveConfig:_&&l?{isSaved:x,onSave:()=>{const{unauthSavedPinsStore:e}=_,n=!!e.pins.length,t=e.canSaveMore();t&&e.save({id:l.id,imageUrl:(0,me.P0)(l)}),u({mobileOptions:{attributionLabel:"tap.closeup.save_button",headingType:t?"extended_save_in_quota":n?"extended_save_out_of_quota":"save"},desktopOptions:{source:"saveButtonExp",container:"save"}}),"desktop"!==r&&(e.isSaved(l.id)||a((0,ge.QZ)(l.id)))},onUnsave:()=>_.unauthSavedPinsStore.unsave(l.id)}:void 0})}var Ae=t(19629),Oe=t(32539),Be=t(185062),Re=t(158961);const Le=e=>{const n=(0,h.TH)(),t=(0,Re.g)();(0,i.useEffect)((()=>{if(t){const{showSignupModal:i,pinLinkClickHandler:o}=t,{mt:r,d:s,l:a,showsignup:l}=(0,Be.Z)(n.search);s&&r?i(r,{container:e,forceOpen:"t"!==s,skipTrackHistory:!0}):l?i("signup",{source:"defaultSource"}):a&&o&&o()}}),[e,n,!!t])};var De=t(859401),Ue=t(294534),Me=t(912397),$e=t(348149),Ne=t(61020),ze=t(309970),He=t(666584),Fe=t(256721),We=t(483064),Ve=t(273298),Ge=t(747682),qe=t(964964);const Xe=({id:e,isAuthenticated:n})=>n?{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}:{id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:"seo"},Ye=({pinId:e})=>((0,qe.Wf)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e}}),null);function Ke(){const e=(0,He.N5)(),n=(0,Ne.U)(),t=(0,o.useDispatch)(),r=(0,h.$B)(),s=(0,h.k6)(),a=(0,h.TH)(),l=(0,$e._P)({id:1000112}),{pinId:c}=(0,Ae.Z)(r.params.id||""),{browser:d,canUseNativeApp:u,isAuthenticated:p,isSeoBot:m,locale:f,pwaType:v,referrer:_,scrollToCloseupPin:x,userAgentPlatform:y,userId:b}=(0,o.useSelector)((({session:e})=>e)),w=(0,Ge.CB)(c),j=(0,o.useSelector)((({boards:e})=>w&&w.board&&e[w.board]?e[w.board]:null)),S=(0,Ge.Ph)(w),P=(0,o.useSelector)((({users:e})=>w&&w.pinner?e[w.pinner]:null)),k=(0,o.useSelector)((({users:e})=>e[b])),C=(0,o.useSelector)((({experiences:e})=>e)),T=(0,o.useSelector)((e=>e.feeds[`related-pins:${c}`])),I=w&&w.story_pin_data_id||null,Z=!!I,E=(0,o.useSelector)((({storyPins:e})=>!(!I||!(e[I]||{}).has_product_pins))),{setHomeFlyoutText:A,setShowHomeBadge:O,setShowHomeFlyoutWithButton:R}=(0,ze.UY)();(0,qe.mi)({name:"PinResource",options:Xe({id:c,isAuthenticated:p})});const[L,D]=(0,i.useState)(!1);(0,i.useEffect)((()=>{n&&setTimeout((()=>{n.load(new URL("pin/[id]/repin.js","file://"))}),500)}),[]),Le(Me.s7),(0,i.useEffect)((()=>{D(!1)}),[c]),(0,i.useEffect)((()=>{t(w&&w.story_pin_data_id?(0,ge.FK)():(0,ge.Cp)());const e=w?w.image_signature:null;if(p)e&&t((0,ge.xu)(e));else{var n,i;const t=a.pathname,o=w?w.id:null,r=w?null===(n=w.images)||void 0===n?void 0:n["236x"]:null,s=w?w.description:"",l=w?w.dominant_color:null;(0,We.Mt)(t,e),(0,We.CC)({path:t,image:r,dominant_color:l,pin_description:s});const c=(0,B.mB)(a.search).invite_code;(0,We.dp)(t,e,o,r,null!=s?s:"",c),null!==(i=a.state)&&void 0!==i&&i.isFromNavFooterPage||(0,We.p9)(t,e,o,r,"pin")}}),[w]);const U=(Z?"storyPin":((null==w?void 0:w.videos)||{}).video_list&&"video")||"image",M=(0,ce.ae)(),$=null==M?void 0:M.onPinTypeLoad,N=!!w;(0,i.useEffect)((()=>{N&&$&&$(Z)}),[N,Z,$]);const z="pin_closeup_lcp",H=(0,Fe.PY)(z);(0,i.useEffect)((()=>{H&&(0,Fe.ku)({stopwatchName:z,binaryAnnotationName:"pinType",value:U,annotationType:"STRING"})}),[H,U]);const F=p?(0,Ue.oB)():"unauthPostDownloadUpsell";return(0,g.jsxs)(De.bq,{value:{isStoryPinWithProducts:E},children:[E&&!!w&&!!w.id&&(0,g.jsx)(Ye,{pinId:w.id}),(0,g.jsx)(Ee,{board:j,canUpsellNativeApp:u&&"android-twa"!==v,clickthroughInterstitialExperience:C[1000162],closeupIsFirstPageInHistoryStack:void 0===s.location.state,experience:l,history:s,isAuthenticated:p,isChromeOnIOS:"ios"===y&&"Chrome"===d,isLimitedLoginUser:(0,Ve.xT)(k),isNewUser:(0,Ve.EO)(k),isPartner:!(!k||!k.is_partner),isSeoBot:m||!1,isSimplified:Boolean(!p&&(0,B.mB)(a.search)&&(0,B.mB)(a.search).simplified),isStoryPin:Boolean(Z),locale:f,location:a,match:r,onlyShowingRelatedPins:L,pin:w,pinner:P,platform:y,postDownloadModalEligibilityType:F,promoter:S,pwtStaticContext:e,referrer:_,relatedPins:T,scrollToCloseupPin:x||!1,setHomeFlyoutText:A,setOnlyShowingRelatedPins:D,setShowHomeBadge:O,setShowHomeFlyoutWithButton:R,stopScrollToCloseup:()=>t((0,ge.wb)()),viewerId:b,viewingUser:k})]})}function Je(){return(0,g.jsx)(Oe.Z,{surface:"pin_closeup",constraints:["PinPageMainImageRendered"],children:(0,g.jsx)(Ke,{})})}},626644:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(174523),o=t(946753),r=t(641483),s=t(883119),a=t(785893);const l={fontWeight:"bold",textDecoration:"none"};function c({board:e,onClose:n,pin:{description:t,pinner:c},zIndex:d}){const u=(0,i.ZP)(),p=e&&e.url&&e.name?{boardName:e.name,boardUrl:e.url,username:e.url.split("/")[1]}:null;return(0,a.jsx)("div",{"data-test-id":"more-information-modal",style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:d||2},onClick:()=>n(),children:(0,a.jsxs)(s.xu,{as:"section",color:"white",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:e=>e.stopPropagation(),position:"absolute",rounding:2,width:414,children:[(0,a.jsxs)(s.xu,{display:"flex",height:60,justifyContent:"end",dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},children:[(0,a.jsx)("div",{onClick:()=>n(),onKeyUp:()=>n(),role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:"0",children:(0,a.jsx)(s.JO,{accessibilityLabel:u._("Cancel","close modal icon","close modal icon"),icon:"cancel",inline:!0,size:18})}),(0,a.jsx)(s.xu,{marginTop:5,position:"absolute",dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},children:u._("More information","more information label","more information label")})]}),(0,a.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!!t&&(0,a.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:t}),!!p&&(0,a.jsx)(s.xu,{marginTop:3,dangerouslySetInlineStyle:{__style:{fontSize:"16px"}},children:(0,o.nk)(u._("Find this Pin and more on {{ board_link }} by {{ profile_link }}.","Link to pin's board and board's owner","Link to pin's board and board's owner"),{board_link:(0,a.jsx)("a",{href:p.boardUrl,onClick:()=>(0,r.NC)("click_vase_modal_board",!0),style:l,children:p.boardName},"board-link"),profile_link:(0,a.jsx)("a",{href:`/${p.username}/`,onClick:()=>(0,r.NC)("click_vase_modal_profile",!0),style:l,children:(null==c?void 0:c.full_name)||p.username},"profile-link")})})]})]})})}},589444:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(657121),o=t(444488);function r(e,n){const t=(0,i.Z)({pin:e}),{shouldUnifyImageSizes:r}=n||{};return t&&t.additional_images&&t.additional_images.length>0?(0,o.Z)(e.images,t,e.carousel_data&&e.carousel_data.index,r):e&&e.carousel_data}},289335:(e,n,t)=>{function i(e){const{images:n={}}=e;return n["564x"]&&n["564x"].url?n["564x"]:n["736x"]&&n["736x"].url?n["736x"]:n["474x"]&&n["474x"].url?n["474x"]:n["236x"]&&n["236x"].url?n["236x"]:null}t.d(n,{Z:()=>i})},215484:(e,n,t)=>{function i(e){const n=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(n&&n.length>0)}t.d(n,{Z:()=>i})},444488:(e,n,t)=>{t.d(n,{Z:()=>s});const i=["236x","474x","564x","736x"];function o(e){function n(e,{imageKey:n,height:t,width:i}){return e.images&&e.images[n]&&(e={...e,images:{...e.images,[n]:{...e.images[n],height:t,width:i}}}),e}const t=i.map((function(n){const t=Math.min(...e.map((e=>e.images&&e.images[n]&&e.images[n].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[n]&&e.images[n].width||1/0)));return{imageKey:n,height:t,width:i}}));return e.map((e=>t.reduce(n,e)))}function r(e,n){return e.concat([{images:n&&n.canonical_images,image_signature:n&&n.image_signature}])}function s(e,n,t,i=!0){const s=[{images:e}],a=n&&n.additional_images,l=(null!=a?a:[]).reduce(r,s);return{carousel_slots:i?o(l):l,index:t||0,id:n.id}}},762803:(e,n,t)=>{t.d(n,{ZP:()=>s,_D:()=>a,js:()=>l});var i=t(667294),o=t(785893);function r(e,n){let t=e.slice(1);if(t=t.endsWith("Context")?t:`${t}Context`,n){return{hocDisplayName:`with${e[0].toUpperCase()}${t}(${n})`}}return{propsDisplayName:`${e[0].toLowerCase()}${t}`,messageDisplayName:`${e[0].toUpperCase()}${t}`}}function s(e,n){const t=(0,i.createContext)(n),{messageDisplayName:o}=r(e);t.displayName=o;const s=t.Provider,a=({children:e})=>{const n=(0,i.useContext)(t);if(void 0===n)throw new Error(`${o}Consumer must be used within a ${o}Provider.`);return e(n)};return s.displayName=`${o}Provider`,a.displayName=`${o}Consumer`,{Provider:s,Consumer:a,useHook:function(){const e=(0,i.useContext)(t);if(void 0===e)throw new Error(`use${o} must be used within a ${o}Provider.`);return e}}}function a(e){const n=(0,i.createContext)(),{propsDisplayName:t,messageDisplayName:s}=r(e);n.displayName=s;const a=n.Provider;function l(a){const{hocDisplayName:l}=r(e,String(a.displayName||a.name)),c=e=>{const r=(0,i.useContext)(n);if(void 0===r)throw new Error(`${l} must be used within a ${s}Provider.`);if(e[t])throw new Error("Parent Component and Context are passing to the component the same variables.");const c={[t]:r};return(0,o.jsx)(a,{...e,...c})};return c.displayName=l,c}const c=({children:e})=>{const t=(0,i.useContext)(n);if(void 0===t)throw new Error(`${s}Consumer must be used within a ${s}Provider.`);return e(t)};return l.displayName=`${s}HOC`,a.displayName=`${s}Provider`,c.displayName=`${s}Consumer`,{Provider:a,Consumer:c,useHook:function(){const e=(0,i.useContext)(n);if(void 0===e)throw new Error(`use${s} must be used within a ${s}Provider.`);return e},HOC:l}}function l(e){const n=(0,i.createContext)(),{propsDisplayName:t,messageDisplayName:s}=r(e);n.displayName=s;const a=n.Provider;function l(s){const{hocDisplayName:a}=r(e,String(s.displayName||s.name)),l=e=>{const r=(0,i.useContext)(n),a={[t]:r};return(0,o.jsx)(s,{...e,...a})};return l.displayName=a,l}const c=n.Consumer;return l.displayName=`${s}HOC`,a.displayName=`${s}Provider`,{Provider:a,Consumer:c,useHook:()=>(0,i.useContext)(n),HOC:l}}},425268:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(40142),o=t(483515);const r=({children:e,fallback:n})=>(()=>{const e=(0,i.useSelector)((e=>{var n;return!(null==e||null===(n=e.session)||void 0===n||!n.isSeoBot)})),n=(0,o.Z)();return!e&&!n})()?n||null:e},483515:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(667294);const o=()=>{const[e,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{n(!0)}),[]),e}},304194:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(311866);const o=e=>i.ZP.create("InviteAttributionResource",{invite_code:e}).callCreate();var r=t(221469);const s=(e=(e=>{}))=>{const n=(0,r.mB)(window.location.search),t=n.invite_code;t?o(t):e(n)}},309768:(e,n,t)=>{t.d(n,{Up:()=>g});var i=t(731164),o=t(311866);const r="nic_v2",s="nic_v2=1a",a="nic_v2=1b",l=[s,a],c=["invite_code","invite","board_invite_code","sender"];let d=null;const u=e=>!!c.find((n=>e.includes(n))),p=e=>!u(e)&&!(e=>!!l.find((n=>e.includes(n))))(e),h=(e,n,t=!1,o)=>{if(!p(e.search))return;const r=t?"mweb":"web";if(n){i.Z.increment(`${r}.nic_v2.social_tracking_pin_non_invite.insert.attempt`);try{const l=((e,n,t)=>{const i=(e.search?"&":"?")+(t?a:s)+n;return e.pathname+e.search+i})(e,n,t);i.Z.increment(`${r}.nic_v2.social_tracking_pin_non_invite.insert.success`),o(l)}catch(l){i.Z.increment(`${r}.nic_v2.social_tracking_pin_non_invite.insert.caught_exception`)}}else i.Z.increment(`${r}.nic_v2.social_tracking_pin_non_invite.insert.no_encrypted_id`)},m=(e,n,t=!1,r)=>{d?h(e,d,t,r):(e=>o.ZP.create("InviteSocialTrackingParamNonInviteResource",{user_id:e}).callCreate().then((e=>{if(!e||!e.resource_response)return i.Z.increment("nic_v2.social_tracking_pin_non_invite.no_resource_response"),"";const n=e.resource_response.data,t=encodeURIComponent(n);return i.Z.increment("nic_v2.social_tracking_pin_non_invite.encrypted."+(t?"true":"false")),t})))(n).then((n=>{d=n,h(e,d,t,r)}))},g=(e,n,t,o)=>{const s=t?"mweb":"web";i.Z.increment(`${s}.nic_v2.social_tracking_pin_non_invite.attempt`);try{p(e.search)?(i.Z.increment(`${s}.nic_v2.social_tracking_pin_non_invite.search_string_eligible`),m(e,n,t,o)):(a=e.search,u(a)||(e=>e.includes("sender"))(a)||!a.includes(r)||i.Z.increment(`${s}.nic_v2.social_tracking_pin_non_invite.search_string_land`))}catch(l){i.Z.increment(`${s}.nic_v2.social_tracking_pin_non_invite.caught_exception`)}var a}},668853:(e,n,t)=>{function i(e){return!(!(e&&e.rich_metadata&&e.rich_metadata.recipe&&e.rich_metadata.recipe.name&&e.rich_metadata.recipe.name.trim().length>0&&e.rich_metadata.recipe.categorized_ingredients)||e.rich_metadata.recipe.from_aggregated_data)}t.d(n,{r:()=>i})},912397:(e,n,t)=>{t.d(n,{h5:()=>i,n$:()=>o,W7:()=>r,hC:()=>s,vI:()=>a,YC:()=>l,s7:()=>c,BX:()=>d,a7:()=>u,JT:()=>p,a2:()=>h,X6:()=>m,PF:()=>g,I6:()=>f,oo:()=>v});const i="MULTIPLE_ACCOUNTS",o="MULTIPLE_ACCOUNTS_GROUP",r="account_switcher_flyout",s="account_switcher_modal",a="vmp_account_switcher_modal",l="account_recovery",c="closeup",d="flashlight_grid",u="google_one_tap_modal",p="inspired_banner",h="hybrid_clickthrough",m="hybrid_banner",g="pin_image",f="response_flyout",v="unauth_header"},197801:(e,n,t)=>{t.d(n,{ux:()=>o,YV:()=>s});var i=t(762803);const{Provider:o,Consumer:r,useHook:s}=(0,i.ZP)("ExperimentContext")},181307:(e,n,t)=>{t.d(n,{tc:()=>r,aq:()=>s});var i=t(667294),o=t(197801);function r(e){const n=(0,o.YV)(),t=n.v2GetGroup(e)||"",r=function(e){return e.startsWith("enabled")||e.startsWith("employee")}(t),s=(e=>{const n=(0,i.useRef)(!1),t=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{n.current=!0,t.current&&e()}),[]),()=>{n.current?e():t.current=!0}})((()=>{n.v2ActivateExperiment(e)}));return e=>(null!=e&&e.dangerouslySkipActivation||s(),{group:t,anyEnabled:r})}function s(e,n=!0){const t=r(e);return n?t():{group:"",anyEnabled:!1}}},73697:(e,n,t)=>{t.d(n,{ZP:()=>l});var i=t(174523),o=t(946753),r=t(785893);function s({dot:e}){const n=(0,i.ZP)();return(0,o.nk)(n._("{{ dot }}Free shipping","closeup.product.shipping","product shipping info"),{dot:e}).join("")}function a({dot:e,freeShippingPrice:n}){const t=(0,i.ZP)();return(0,o.nk)(t._("{{ dot }}Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{dot:e,shippingPrice:n}).join("")}function l({freeShippingPrice:e,freeShippingValue:n,dot:t}){return 0===n?(0,r.jsx)(s,{dot:t||""}):e?(0,r.jsx)(a,{dot:t||"",freeShippingPrice:e}):null}},800471:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(667294),o=t(883119),r=t(785893);const s=(e,n,t)=>{const o=(0,i.useRef)(null),r=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(e!==o.current||t&&t!==r.current){o.current=e;const t=(i=e,document.querySelector(`img[src="${i}"]`)||null);null!=t&&t.complete&&n()}var i;r.current=t}),[e,n,t])};function a({alt:e,children:n,color:t,elementTiming:i,isActive:a=!1,naturalHeight:l,naturalWidth:c,onLoad:d,src:u}){return s(u,d,a),(0,r.jsx)(o.Ee,{alt:e,color:t,elementTiming:i,naturalHeight:l,naturalWidth:c,onLoad:d,src:u,children:n})}},227994:(e,n,t)=>{t.d(n,{Z:()=>O});var i=t(330232),o=t(174523),r=t(202850);const s=(e,n)=>({"@type":"Person",name:n.full_name,url:e+"/"+n.username}),a=e=>e.images&&e.images.orig?e.images.orig.url:void 0,l=e=>e.description?(0,r.o)(e.description):e.pinjoin?e.pinjoin.visual_descriptions?(0,r.o)(e.pinjoin.visual_descriptions[0]):(0,r.o)(e.pinjoin.seo_description):void 0,c=e=>{let n=e.created_at;if(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published&&(n=e.rich_metadata.article.date_published),n){const e=new Date(Date.parse(n));if(e)return e.toISOString()}},d=e=>{const{rich_metadata:n}=e,{url:t,title:i}=n||{};return t&&i?{sharedContent:{"@type":"WebPage",headline:i,url:t}}:void 0};var u=t(979593);const p=e=>{if(!e)return;const n=e=>{const n=e.h||0,t=e.m||0;let i="PT";return n>0&&(i+=n.toString()+"H"),t>0&&(i+=t.toString()+"M"),i},t={};return e.total&&(t.totalTime=n(e.total)),e.cook&&(t.cookTime=n(e.cook)),e.prep&&(t.prepTime=n(e.prep)),t},h=e=>{if(!e.categorized_ingredients)return;const n=[];return e.categorized_ingredients.forEach((e=>{e.ingredients.forEach((e=>{let t="";e.amt&&(t+=e.amt,t+=" "),e.name&&(t+=e.name,n.push(t))}))})),n.length>0?{recipeIngredient:n}:void 0},m=e=>{if(e.rich_metadata&&e.rich_metadata.recipe&&e.rich_metadata.recipe.aggregate_rating&&e.rich_metadata.recipe.aggregate_rating.rating_value&&e.rich_metadata.recipe.aggregate_rating.review_count){return{aggregateRating:{"@type":"AggregateRating",ratingValue:e.rich_metadata.recipe.aggregate_rating.rating_value,reviewCount:e.rich_metadata.recipe.aggregate_rating.review_count,bestRating:e.rich_metadata.recipe.aggregate_rating.best_rating||5,worstRating:e.rich_metadata.recipe.aggregate_rating.worst_rating||1}}}},g=(e,n)=>{const t=e.rich_metadata,i=t.recipe,o=t.description,r=i.servings_summary&&i.servings_summary.summary,s=n?n.username:void 0,l=e&&e.id&&e.aggregated_pin_data&&e.videos||{},{id:c,video_list:d={}}=l||{},{V_720P:g,V_HLSV4:f}=d,v=(0,u.V)(f),_=(0,u.V)(g),x=c&&(_||v),y={...r?{recipeYield:r}:Object.freeze({}),...o?{description:o}:Object.freeze({}),...p(i.cook_times),...h(i),...m(e)};return{"@type":"Recipe",name:i.name,author:s,video:x?(_||v||{}).url:void 0,image:a(e),...y}};var f=t(227340);const v=e=>{var n,t,i,o;const r=e.pages,s=null==r?void 0:r[0];return!(null==s||!s.image_adjusted)&&(null===(n=s.image_adjusted.images)||void 0===n||null===(t=n.originals)||void 0===t?void 0:t.url)||!(null==s||!s.image)&&(null===(i=s.image.images)||void 0===i||null===(o=i.originals)||void 0===o?void 0:o.url)},_=e=>{var n;const t=null===(n=e.pages)||void 0===n?void 0:n[1],i=null==t?void 0:t.blocks;return{supply:(null!=i?i:[]).map((e=>{const n=[];return e.amt&&n.push(e.amt),e.name&&n.push(e.name),{"@type":"HowToSupply",name:n.join(" ")}}))}},x=e=>{var n;const t=null===(n=e.pages)||void 0===n?void 0:n.slice(2);return{step:(null!=t?t:[]).map((e=>{var n;const t=null!==(n=e.blocks)&&void 0!==n?n:[],i=[];for(const d of t)0===d.block_type&&i.push(d.text);const o={"@type":"HowToStep",text:i.join(" ")},r=e.image||{},{images:s={}}=r,a=s.originals,{video_list:l={}}=e.video||{},c=l.V_HLSV3_MOBILE||l.V_720P;return c?o.video={"@type":"VideoObject",caption:i.join(" "),thumbnailUrl:c.thumbnail,contentUrl:c.url,duration:`PT${(c.duration||0)/1e3}S`}:a&&(o.image=a.url),o}))}},y=e=>{var n,t,i;const o=null!==(n=e.story_pin_data)&&void 0!==n?n:{};return o.pages=null===(t=e.story_pin_data)||void 0===t||null===(i=t.pages)||void 0===i?void 0:i.filter((e=>2!==e.layout)),{"@type":"HowTo",name:(0,f.RC)(e),image:v(o),..._(o),...x(o)}};var b=t(754999);const w=e=>{var n,t,i,o;const r=e.pages,s=null==r?void 0:r[0];return!(null==s||!s.image_adjusted)&&(null===(n=s.image_adjusted.images)||void 0===n||null===(t=n.originals)||void 0===t?void 0:t.url)||!(null==s||!s.image)&&(null===(i=s.image.images)||void 0===i||null===(o=i.originals)||void 0===o?void 0:o.url)},j=(e,n)=>{var t;const{serving_size:i=0}=(null===(t=e.metadata)||void 0===t?void 0:t.recipe_data)||{},o=n.ngettext("{{ count }} serving","{{ count }} servings",i,"number of servings","number of servings");return(0,b.Z)(o,{count:i.toString()})},S=e=>{const n=e.created_at;return new Date(Date.parse(n)).toISOString()},P=e=>{var n,t;const i=null===(n=e.pages)||void 0===n?void 0:n[1];return(null!==(t=null==i?void 0:i.blocks)&&void 0!==t?t:[]).map((e=>{const n=[];return e.amt&&n.push(e.amt),e.unit&&n.push(e.unit),e.name&&n.push(e.name),n.join(" ")}))},k=e=>{var n;const{cooking_time:t=0,prep_time:i=0}=(null===(n=e.metadata)||void 0===n?void 0:n.recipe_data)||{};return{cookTime:`PT${t}M`,prepTime:`PT${i}M`}},C=e=>{var n;const t=null===(n=e.pages)||void 0===n?void 0:n.slice(2);return{recipeInstructions:(null!=t?t:[]).map((e=>{var n;const t=null!==(n=e.blocks)&&void 0!==n?n:[],i=[];for(const d of t)0===d.block_type&&i.push(d.text);const o={"@type":"HowToStep",text:i.join(" ")},r=e.image||{},{images:s={}}=r,a=s.originals,{video_list:l={}}=e.video||{},c=l.V_HLSV3_MOBILE||l.V_720P;return c?o.video={"@type":"VideoObject",caption:i.join(" "),thumbnailUrl:c.thumbnail,contentUrl:c.url,duration:`PT${(c.duration||0)/1e3}S`}:a&&(o.image=a.url),o}))}},T=(e,n)=>{var t,i,o;const r=null!==(t=e.story_pin_data)&&void 0!==t?t:{};return r.pages=null===(i=e.story_pin_data)||void 0===i||null===(o=i.pages)||void 0===o?void 0:o.filter((e=>2!==e.layout)),{"@type":"Recipe",image:w(r),name:(0,f.RC)(e),author:(s=e.native_creator,{"@type":"Person",name:(null==s?void 0:s.full_name)||(null==s?void 0:s.username)}),...k(r),datePublished:S(e),recipeYield:j(r,n),recipeIngredient:P(r),...C(r)};var s};var I=t(668853),Z=t(855168),E=t(585967);var A=t(785893);const O=function(e){const{pin:n,pinner:t}=e,r=(0,o.ZP)(),{isAuthenticated:u,origin:p}=(0,E.B)(),{pathname:h}=(0,Z.TH)();if(u)return null;let m;m=(0,I.r)(n)?g(n,t):function(e){var n,t;const i=!(!e||!e.story_pin_data),o=i&&null!==(n=e.story_pin_data)&&void 0!==n&&n.pages?e.story_pin_data.pages.filter((e=>2!==e.layout)):[],r=!!(0,f.RC)(e),s=!!(i&&null!==(t=e.story_pin_data)&&void 0!==t&&t.metadata&&e.story_pin_data.metadata.recipe_data),a=!!(i&&o&&o.length>1&&5===o[1].layout&&o[1].blocks&&o[1].blocks.length>0),l=!!(i&&o&&o.length>2),c=!!e.native_creator;return r&&s&&a&&l&&c}(n)?T(n,r):function(e){var n,t;const i=!(!e||!e.story_pin_data),o=i&&null!==(n=e.story_pin_data)&&void 0!==n&&n.pages?e.story_pin_data.pages.filter((e=>2!==e.layout)):[],r=!!(0,f.RC)(e),s=!!(i&&null!==(t=e.story_pin_data)&&void 0!==t&&t.metadata&&e.story_pin_data.metadata.diy_data),a=!!(i&&o&&o.length>1&&6===o[1].layout&&o[1].blocks&&o[1].blocks.length>0),l=!!(i&&o&&o.length>2);return r&&s&&a&&l}(n)?y(n):((e,n,t)=>({"@type":"SocialMediaPosting",author:t?s(e,t):void 0,headline:l(n),image:a(n),datePublished:c(n),articleBody:l(n),...d(n)}))(p,n,t);const v={...m,"@context":"http://schema.org/",mainEntityOfPage:{"@type":"WebPage","@id":`${p}${h}`}};return(0,A.jsx)(i.Z,{type:"application/ld+json",value:v})}},749897:(e,n,t)=>{t.d(n,{ZP:()=>a});var i=t(330232),o=t(585967),r=t(785893);function s(e,n){const t=e.page_metadata,i=t?t.metatags.title:e.title,o=i&&i.trim()||"Pinterest Video",r=t?t.metatags.description:e.description,s=r&&r.trim()||"Pinterest Video",a=(e=>{if(e)return"PT"+Math.floor(e/1e3)+"S"})(n.duration);return{name:o,description:s,thumbnailUrl:n.thumbnail||"",uploadDate:e.created_at?new Date(Date.parse(e.created_at)).toISOString():(new Date).toISOString(),duration:a||void 0,contentUrl:n.url||void 0}}const a=function(e){const n=(0,o.B)(),{pin:t,video:a}=e,{fullPath:l,isAuthenticated:c,origin:d}=n;if(c)return null;if(!a)return null;const u={"@type":"VideoObject","@context":"http://schema.org/","@id":`${d}${l}`,...s(t,a)};return(0,r.jsx)(i.Z,{type:"application/ld+json",value:u})}},979593:(e,n,t)=>{t.d(n,{V:()=>i});const i=e=>{const{thumbnail:n,url:t,width:i,height:o,duration:r}=e||{};return n&&t&&i&&o&&{thumbnail:n,url:t,width:i,height:o,duration:r}||void 0}},660310:(e,n,t)=>{t.d(n,{R3:()=>r,NO:()=>s,Jc:()=>a,th:()=>l,ge:()=>d});var i=t(238402);const o=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function s(e){return(e||"").trim().replace(/\s+/g," ")}function a({type:e,term:n="",index:t}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${n}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${n}|autocomplete|${t}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${n}|recentsearch|${t}`;case r.AUTO_COMPLETE_TRENDING:return`${n}|trending|${t}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${n}|recommended|${t}`;case r.SEARCH_GUIDE:return`${n}|guide|word|${t}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,i.Z)({term_meta:e.map((e=>a(e)))})}function c(e){if(e){const n=e.trim().split(/\s+/);return n.find((e=>o.includes(e.toLowerCase())))?[e]:n}return[]}function d({type:e,query:n="",index:t}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return c(n).map((n=>({index:t,term:n,type:e})));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return c(n).map((n=>({term:n,type:e,index:t})));default:return[]}}},657121:(e,n,t)=>{function i({pin:e}){return(((e||{}).rich_metadata||{}).products||[])[0]||{}}t.d(n,{Z:()=>i})},925265:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(561077);const o=/\{\{\s*(\w+)\s*\}\}/g,r=(e,n)=>(0,i.Z)(o,e,n)},730060:(e,n,t)=>{t.d(n,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},561077:(e,n,t)=>{t.d(n,{Z:()=>i});const i=(e,n,t)=>n?n.replace(e,((e,n)=>t&&Object.prototype.hasOwnProperty.call(t,n)?t[n]:"")):""},754999:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(925265),o=t(730060);const r=(e,n)=>{const t={};return Object.keys(n).forEach((e=>{t[e]=n[e]?(0,o.Z)(n[e].toString()):""})),(0,i.Z)(e,t)}},202850:(e,n,t)=>{t.d(n,{o:()=>i,Z:()=>o});function i(e,n){const t=(((n||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,((e,n)=>t.indexOf("<"+n.toLowerCase()+">")>-1?e:""))}const o=e=>e.replace(/(<([^>]+)>)/gi,"")},802065:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(641483),o=t(883119),r=t(785893);function s({interest:e,shouldWrapText:n}){var t,s,a;const{name:l,url:c,image:d}=e;return d&&d["474x"]?(0,r.jsx)(o.rU,{onClick:()=>{(0,i.tj)("mweb.unauth.suggested_interests_pill.plp.touch",{interest:l}),(0,i.LW)({action:"click",page:"board",item:"suggested-interest-pill"})},rounding:"pill",hoverStyle:"none",href:c,children:(0,r.jsx)(o.xu,{display:"flex",marginBottom:1,marginStart:1,overflow:"hidden",position:"relative",rounding:"pill","data-test-id":"suggested-interest-pill",children:(0,r.jsxs)(o.xu,{alignItems:"center",color:"lightGray",display:"flex",height:50,width:"100%",children:[(0,r.jsx)(o.xu,{height:42,margin:1,minWidth:42,overflow:"hidden",rounding:"circle",width:42,children:(0,r.jsx)(o.Ee,{alt:l,fit:"cover",naturalHeight:null!==(t=d["474x"].height)&&void 0!==t?t:1,naturalWidth:null!==(s=d["474x"].width)&&void 0!==s?s:1,src:null!==(a=d["474x"].url)&&void 0!==a?a:""})}),(0,r.jsx)(o.xu,{marginEnd:4,marginStart:1,children:(0,r.jsx)(o.xv,{align:"center",overflow:n?"normal":"noWrap",size:"md",weight:"bold",children:l})})]})})}):null}},639307:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(155656),o=t(802065),r=t(641483),s=t(883119),a=t(785893);function l({interest:e}){var n,t,i;const{name:o,url:l,cover_image:c}=e;return c&&c["474x"]?(0,a.jsx)(s.rU,{onClick:()=>{(0,r.tj)("mweb.unauth.suggested_interests.plp.touch",{interest:o}),(0,r.LW)({action:"click",page:"board",item:"suggested-interest-pill"})},rounding:4,href:l,hoverStyle:"none",children:(0,a.jsxs)(s.xu,{display:"flex",marginBottom:2,marginEnd:1,marginStart:1,overflow:"hidden",position:"relative",rounding:4,"data-test-id":"suggested-interest-pill",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:[(0,a.jsx)(s.xu,{height:128,width:128,children:(0,a.jsx)(s.zd,{height:"100%",wash:!0,width:"100%",children:(0,a.jsx)(s.Ee,{alt:o,fit:"cover",naturalHeight:null!==(n=c["474x"].height)&&void 0!==n?n:1,naturalWidth:null!==(t=c["474x"].width)&&void 0!==t?t:1,src:null!==(i=c["474x"].url)&&void 0!==i?i:""})})}),(0,a.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:128,justifyContent:"center",left:!0,position:"absolute",top:!0,width:128,children:(0,a.jsx)(s.xv,{align:"center",color:"white",size:"md",weight:"bold",children:o})})]})}):null}function c({interests:e,componentStyle:n,shouldLeftAlign:t}){const r="cluster"===n||"pills"===n,c="cluster"===n;return(0,a.jsxs)(s.xu,{children:[(0,a.jsx)(i.Z,{unsafeCSS:"\n  .interest-row {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"}),(0,a.jsx)("div",{className:"interest-row",children:(0,a.jsx)(s.xu,{"data-test-id":"suggested-interest-container",display:"flex",marginEnd:-6,marginStart:-6,overflow:"scrollX",children:(0,a.jsxs)(s.xu,{alignItems:"center",justifyContent:c&&!t?"center":void 0,display:"flex",margin:t?0:"auto",paddingX:4,paddingY:2,wrap:c,children:[!r&&e.map(((e,n)=>(0,a.jsx)(l,{interest:e},n))),r&&e.map(((e,n)=>(0,a.jsx)(o.Z,{interest:e},n)))]})})})]})}},19629:(e,n,t)=>{function i(e){const n="--";if((e||"").includes(n)){const t=e.split(n),i=t.pop();return{text:t.join(n),pinId:i}}return{text:"",pinId:e}}t.d(n,{Z:()=>i})},330232:(e,n,t)=>{t.d(n,{Z:()=>s});const i={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},o=/[&><\u2028\u2029]/g;var r=t(785893);function s({id:e,type:n="application/json",value:t}){const s=JSON.stringify(t).replace(o,(e=>i[e]));return(0,r.jsx)("script",{id:e,type:n,dangerouslySetInnerHTML:{__html:s}})}},61020:(e,n,t)=>{t.d(n,{U:()=>r,Z:()=>s});var i=t(667294);const o=(0,i.createContext)();function r(){return(0,i.useContext)(o)}const s=o}},e=>{var n=n=>e(e.s=n);e.O(0,[97270,83119,82331,68798,87577,12506,1466,99520,50744,14833,59312,85158,88453,44662],(()=>(n(21570),n(955982),n(432707))));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]-mobile-4f9d282348ed9a32.mjs.map